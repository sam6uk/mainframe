!function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;c[e]={deps:t,defn:n,instance:void 0}}function s(e){var t=c[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&n(e),t.instance}function t(e,t){r(e,[],function(){return t})}var c={},n=function(e){for(var t=c[e],n=t.deps,r=t.defn,i=n.length,o=new Array(i),a=0;a<i;++a)o[a]=s(n[a]);r=r.apply(null,o);if(void 0===r)throw"module ["+e+"] returned undefined";t.instance=r},r=e;t("global!Array",Array),t("global!Error",Error),r("ephox.katamari.api.Fun",["global!Array","global!Error"],function(o,t){function e(e){return function(){return e}}return{noop:function(){},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:e,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(r){for(var i=new o(arguments.length-1),e=1;e<arguments.length;e++)i[e-1]=arguments[e];return function(){for(var e=new o(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];var n=i.concat(e);return r.apply(null,n)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new t(e)}},apply:function(e){return e()},call:function(e){e()},never:e(!1),always:e(!0)}}),r("ephox.katamari.api.Cell",[],function(){function r(e){function t(){return n}var n=e;return{get:t,set:function(e){n=e},clone:function(){return r(n)}}}return r}),r("tinymce.core.dom.NodeType",[],function(){function e(t){return function(e){return!!e&&e.nodeType==t}}var i=e(1);function t(r){return r=r.toLowerCase().split(" "),function(e){var t,n;if(e&&e.nodeType)for(n=e.nodeName.toLowerCase(),t=0;t<r.length;t++)if(n===r[t])return!0;return!1}}function n(t){return function(e){if(i(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}}return{isText:e(3),isElement:i,isComment:e(8),isBr:t("br"),isContentEditableTrue:n("true"),isContentEditableFalse:n("false"),matchNodeNames:t,hasPropValue:function(t,n){return function(e){return i(e)&&e[t]===n}},hasAttribute:function(t,e){return function(e){return i(e)&&e.hasAttribute(t)}},hasAttributeValue:function(t,n){return function(e){return i(e)&&e.getAttribute(t)===n}},matchStyleValues:function(n,r){return r=r.toLowerCase().split(" "),function(e){var t;if(i(e))for(t=0;t<r.length;t++)if(e.ownerDocument.defaultView.getComputedStyle(e,null).getPropertyValue(n)===r[t])return!0;return!1}},isBogus:function(e){return i(e)&&e.hasAttribute("data-mce-bogus")}}}),r("tinymce.core.util.Promise",[],function(){var e,t;return window.Promise||(e=o.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(n,r){var i=this;return new o(function(e,t){a.call(i,new c(n,r,e,t))})},o.all=function(){var s=Array.prototype.slice.call(1===arguments.length&&t(arguments[0])?arguments[0]:arguments);return new o(function(i,o){if(0===s.length)return i([]);var a=s.length;for(var e=0;e<s.length;e++)!function t(n,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if("function"==typeof r)return void r.call(e,function(e){t(n,e)},o)}s[n]=e,0==--a&&i(s)}catch(e){o(e)}}(e,s[e])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(n){return new o(function(e,t){t(n)})},o.race=function(i){return new o(function(e,t){for(var n=0,r=i.length;n<r;n++)i[n].then(e,t)})},o);function n(e,t){return function(){e.apply(t,arguments)}}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(e,n(r,this),n(i,this))}function a(n){var r=this;null===this._state?this._deferreds.push(n):e(function(){var e,t=r._state?n.onFulfilled:n.onRejected;if(null===t)(r._state?n.resolve:n.reject)(r._value);else{try{e=t(r._value)}catch(e){return void n.reject(e)}n.resolve(e)}})}function r(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void l(n(t,e),n(r,this),n(i,this))}this._state=!0,this._value=e,s.call(this)}catch(e){i.call(this,e)}}function i(e){this._state=!1,this._value=e,s.call(this)}function s(){for(var e=0,t=this._deferreds.length;e<t;e++)a.call(this,this._deferreds[e]);this._deferreds=null}function c(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function l(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(e){r||(r=!0,n(e))}}}),r("tinymce.core.util.Delay",["tinymce.core.util.Promise"],function(n){var r;function i(e,t){var n,r=window.requestAnimationFrame,i=["ms","moz","webkit"];for(n=0;n<i.length&&!r;n++)r=window[i[n]+"RequestAnimationFrame"];(r=r||function(e){window.setTimeout(e,0)})(e,t)}function o(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)}function a(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)}function e(t,n){var r,e=function(){var e=arguments;clearTimeout(r),r=o(function(){t.apply(this,e)},n)};return e.stop=function(){clearTimeout(r)},e}return{requestAnimationFrame:function(e,t){r?r.then(e):r=new n(function(e){i(e,t=t||document.body)}).then(e)},setTimeout:o,setInterval:a,setEditorTimeout:function(e,t,n){return o(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var r=a(function(){e.removed?clearInterval(r):t()},n);return r},debounce:e,throttle:e,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}}}),r("tinymce.core.Env",[],function(){var e,t,n,r,i,o,a,s,c,l,u,d=navigator,f=d.userAgent;function m(e){return"matchMedia"in window&&matchMedia(e).matches}return e=window.opera&&window.opera.buildNumber,a=/Android/.test(f),n=(n=!(t=/WebKit/.test(f))&&!e&&/MSIE/gi.test(f)&&/Explorer/gi.test(d.appName))&&/MSIE (\w+)\./.exec(f)[1],d=-1!=f.indexOf("Trident/")&&(-1!=f.indexOf("rv:")||-1!=d.appName.indexOf("Netscape"))&&11,r=-1!=f.indexOf("Edge/")&&!n&&!d&&12,n=n||d||r,d=!t&&!d&&/Gecko/.test(f),i=-1!=f.indexOf("Mac"),o=/(iPad|iPhone)/.test(f),s="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,c=m("only screen and (max-device-width: 480px)")&&(a||o),l=m("only screen and (min-width: 800px)")&&(a||o),u=-1!=f.indexOf("Windows Phone"),{opera:e,webkit:t=r?!1:t,ie:n,gecko:d,mac:i,iOS:o,android:a,contentEditable:!o||s||534<=f.match(/AppleWebKit\/(\d*)/)[1],transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=n,range:window.getSelection&&"Range"in window,documentMode:n&&!r?document.documentMode||7:10,fileApi:s,ceFalse:!1===n||8<n,canHaveCSP:!1===n||11<n,desktop:!c&&!l,windowsPhone:u}}),r("tinymce.core.dom.EventUtils",["tinymce.core.util.Delay","tinymce.core.Env"],function(s,c){"use strict";var a=/^(?:mouse|contextmenu)|click/,l={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},u=function(e){return e.isDefaultPrevented===f||e.isDefaultPrevented===d},d=function(){return!1},f=function(){return!0};function C(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function w(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function k(e,t){var n,r,i,o=t||{};for(n in e)l[n]||(o[n]=e[n]);return o.target||(o.target=o.srcElement||document),c.experimentalShadowDom&&(o.target=(t=e,i=o.target,(r=t.path)&&0<r.length&&(i=r[0]),i=t.deepPath&&(r=t.deepPath())&&0<r.length?r[0]:i)),e&&a.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX&&(r=(t=o.target.ownerDocument||document).documentElement,i=t.body,o.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),o.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),o.preventDefault=function(){o.isDefaultPrevented=f,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},o.stopPropagation=function(){o.isPropagationStopped=f,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},!(o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=f,o.stopPropagation()})===u(o)&&(o.isDefaultPrevented=d,o.isPropagationStopped=d,o.isImmediatePropagationStopped=d),void 0===o.metaKey&&(o.metaKey=!1),o}function E(e,t,n){var r=e.document,i={type:"ready"};function o(){return"complete"===r.readyState||"interactive"===r.readyState&&r.body}function a(){n.domLoaded||(n.domLoaded=!0,t(i))}n.domLoaded?t(i):(!r.addEventListener||c.ie&&c.ie<11?(C(r,"readystatechange",function e(){o()&&(w(r,"readystatechange",e),a())}),r.documentElement.doScroll&&e.self===e.top&&function t(){try{r.documentElement.doScroll("left")}catch(e){return void s.setTimeout(t)}a()}()):o()?a():C(e,"DOMContentLoaded",a),C(e,"load",a))}function e(){var m,h,p,g,y,v=this,b={};function x(e,t){var n,r,i,t=b[t],o=t&&t[e.type];if(o)for(n=0,r=o.length;n<r;n++)if((i=o[n])&&!1===i.func.call(i.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}h="mce-data-"+(+new Date).toString(32),g="onmouseenter"in document.documentElement,p="onfocusin"in document.documentElement,m=1,v.domLoaded=!(y={mouseenter:"mouseover",mouseleave:"mouseout"}),v.events=b,v.bind=function(e,t,n,r){var i,o,a,s,c,l,u,d=window;function f(e){x(k(e||d.event),i)}if(e&&3!==e.nodeType&&8!==e.nodeType){for(e[h]?i=e[h]:(i=m++,e[h]=i,b[i]={}),r=r||e,a=(t=t.split(" ")).length;a--;)l=f,c=u=!1,"DOMContentLoaded"===(s=t[a])&&(s="ready"),v.domLoaded&&"ready"===s&&"complete"==e.readyState?n.call(r,k({type:s})):(g||(c=y[s])&&(l=function(e){var t=e.currentTarget,n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=k(e||d.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,x(e,i))}),p||"focusin"!==s&&"focusout"!==s||(u=!0,c="focusin"===s?"focus":"blur",l=function(e){(e=k(e||d.event)).type="focus"===e.type?"focusin":"focusout",x(e,i)}),(o=b[i][s])?"ready"===s&&v.domLoaded?n({type:s}):o.push({func:n,scope:r}):(b[i][s]=o=[{func:n,scope:r}],o.fakeName=c,o.capture=u,o.nativeHandler=l,"ready"===s?E(e,l,v):C(e,c||s,l,u)));return e=o=0,n}},v.unbind=function(t,e,n){var r,i,o,a,s,c,l,u,d;if(t&&3!==t.nodeType&&8!==t.nodeType&&(r=t[h])){if(s=b[r],e){for(i=(e=e.split(" ")).length;i--;)if(d=s[a=e[i]]){if(n)for(o=d.length;o--;)d[o].func===n&&(c=d.nativeHandler,l=d.fakeName,u=d.capture,(d=d.slice(0,o).concat(d.slice(o+1))).nativeHandler=c,d.fakeName=l,d.capture=u,s[a]=d);n&&0!==d.length||(delete s[a],w(t,d.fakeName||a,d.nativeHandler,d.capture))}}else{for(a in s)w(t,(d=s[a]).fakeName||a,d.nativeHandler,d.capture);s={}}for(a in s)return v;delete b[r];try{delete t[h]}catch(e){t[h]=null}}return v},v.fire=function(e,t,n){var r;if(e&&3!==e.nodeType&&8!==e.nodeType)for((n=k(null,n)).type=t,n.target=e;(r=e[h])&&x(n,r),(e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow)&&!n.isPropagationStopped(););return v},v.clean=function(e){var t,n,r=v.unbind;if(e&&3!==e.nodeType&&8!==e.nodeType&&(e[h]&&r(e),(e=e.getElementsByTagName?e:e.document)&&e.getElementsByTagName))for(r(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[h]&&r(e);return v},v.destroy=function(){b={}},v.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}}return(e.Event=new e).bind(window,"ready",function(){}),e}),r("tinymce.core.dom.Sizzle",[],function(){function d(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(65536+r):String.fromCharCode(r>>10|55296,1023&r|56320)}var e,f,x,o,L,m,h,I,C,l,u,p,w,t,g,y,r,v,b="sizzle"+-new Date,k=window.document,E=0,F=0,H=ie(),U=ie(),z=ie(),a=function(e,t){return e===t&&(u=!0),0},n="undefined",W={}.hasOwnProperty,i=[],V=i.pop,q=i.push,S=i.push,j=i.slice,N=i.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},s="[\\x20\\t\\r\\n\\f]",c="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",$="\\["+s+"*("+c+")(?:"+s+"*([*^$|!~]?=)"+s+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+c+"))|)"+s+"*\\]",K=":("+c+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+$+")*)|.*)\\)|)",T=new RegExp("^"+s+"+|((?:^|[^\\\\])(?:\\\\.)*)"+s+"+$","g"),Y=new RegExp("^"+s+"*,"+s+"*"),X=new RegExp("^"+s+"*([>+~]|"+s+")"+s+"*"),G=new RegExp("="+s+"*([^\\]'\"]*?)"+s+"*\\]","g"),Z=new RegExp(K),J=new RegExp("^"+c+"$"),R={ID:new RegExp("^#("+c+")"),CLASS:new RegExp("^\\.("+c+")"),TAG:new RegExp("^("+c+"|[*])"),ATTR:new RegExp("^"+$),PSEUDO:new RegExp("^"+K),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+s+"*(even|odd|(([+-]|)(\\d*)n|)"+s+"*(?:([+-]|)"+s+"*(\\d+)|))"+s+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+s+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+s+"*((?:-\\d)?\\d*)"+s+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,ee=/^h\d$/i,_=/^[^{]+\{\s*\[native \w/,te=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ne=/[+~]/,re=/'|\\/g,B=new RegExp("\\\\([\\da-f]{1,6}"+s+"?|("+s+")|.)","ig");try{S.apply(i=j.call(k.childNodes),k.childNodes),i[k.childNodes.length].nodeType}catch(e){S={apply:i.length?function(e,t){q.apply(e,j.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function A(e,t,n,r){var i,o,a,s,c,l,u;if((t?t.ownerDocument||t:k)!==w&&p(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(i=(t=t||w).nodeType)&&9!==i)return[];if(g&&!r){if(l=te.exec(e))if(u=l[1]){if(9===i){if(!(s=t.getElementById(u))||!s.parentNode)return n;if(s.id===u)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(u))&&v(t,s)&&s.id===u)return n.push(s),n}else{if(l[2])return S.apply(n,t.getElementsByTagName(e)),n;if((u=l[3])&&f.getElementsByClassName)return S.apply(n,t.getElementsByClassName(u)),n}if(f.qsa&&(!y||!y.test(e))){if(c=s=b,l=t,u=9===i&&e,1===i&&"object"!==t.nodeName.toLowerCase()){for(a=m(e),(s=t.getAttribute("id"))?c=s.replace(re,"\\$&"):t.setAttribute("id",c),c="[id='"+c+"'] ",o=a.length;o--;)a[o]=c+O(a[o]);l=ne.test(e)&&ae(t.parentNode)||t,u=a.join(",")}if(u)try{return S.apply(n,l.querySelectorAll(u)),n}catch(e){}finally{s||t.removeAttribute("id")}}}return I(e.replace(T,"$1"),t,n,r)}function ie(){var n=[];function r(e,t){return n.push(e+" ")>x.cacheLength&&delete r[n.shift()],r[e+" "]=t}return r}function D(e){return e[b]=!0,e}function oe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function P(a){return D(function(o){return o=+o,D(function(e,t){for(var n,r=a([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ae(e){return e&&typeof e.getElementsByTagName!==n&&e}for(e in f=A.support={},L=A.isXML=function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName},p=A.setDocument=function(e){var c=e?e.ownerDocument||e:k,e=c.defaultView;return c!==w&&9===c.nodeType&&c.documentElement?(t=(w=c).documentElement,g=!L(c),e&&e!==function(e){try{return e.top}catch(e){}return null}(e)&&(e.addEventListener?e.addEventListener("unload",function(){p()},!1):e.attachEvent&&e.attachEvent("onunload",function(){p()})),f.attributes=!0,f.getElementsByTagName=!0,f.getElementsByClassName=_.test(c.getElementsByClassName),f.getById=!0,x.find.ID=function(e,t){if(typeof t.getElementById!==n&&g)return(t=t.getElementById(e))&&t.parentNode?[t]:[]},x.filter.ID=function(e){var t=e.replace(B,d);return function(e){return e.getAttribute("id")===t}},x.find.TAG=f.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==n)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[i++];)1===n.nodeType&&r.push(n);return r},x.find.CLASS=f.getElementsByClassName&&function(e,t){if(g)return t.getElementsByClassName(e)},r=[],y=[],f.disconnectedMatch=!0,y=y.length&&new RegExp(y.join("|")),r=r.length&&new RegExp(r.join("|")),e=_.test(t.compareDocumentPosition),v=e||_.test(t.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},a=e?function(e,t){var n;return e===t?(u=!0,0):(n=!e.compareDocumentPosition-!t.compareDocumentPosition)||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(e)===n?e===c||e.ownerDocument===k&&v(k,e)?-1:t===c||t.ownerDocument===k&&v(k,t)?1:l?N.call(l,e)-N.call(l,t):0:4&n?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===c?-1:t===c?1:i?-1:o?1:l?N.call(l,e)-N.call(l,t):0;if(i===o)return oe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?oe(a[r],s[r]):a[r]===k?-1:s[r]===k?1:0},c):w},A.matches=function(e,t){return A(e,null,null,t)},A.matchesSelector=function(e,t){if((e.ownerDocument||e)!==w&&p(e),t=t.replace(G,"='$1']"),f.matchesSelector&&g&&(!r||!r.test(t))&&(!y||!y.test(t)))try{var n=(void 0).call(e,t);if(n||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<A(t,w,null,[e]).length},A.contains=function(e,t){return(e.ownerDocument||e)!==w&&p(e),v(e,t)},A.attr=function(e,t){(e.ownerDocument||e)!==w&&p(e);var n=x.attrHandle[t.toLowerCase()],n=n&&W.call(x.attrHandle,t.toLowerCase())?n(e,t,!g):void 0;return void 0!==n?n:f.attributes||!g?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},A.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},A.uniqueSort=function(e){var t,n=[],r=0,i=0;if(u=!f.detectDuplicates,l=!f.sortStable&&e.slice(0),e.sort(a),u){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return l=null,e},o=A.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(x=A.selectors={cacheLength:50,createPseudo:D,match:R,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(B,d),e[3]=(e[3]||e[4]||e[5]||"").replace(B,d),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||A.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&A.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return R.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Z.test(n)&&(t=m(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(B,d).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+s+")"+e+"("+s+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==n&&e.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(e){e=A.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===r:"!="===n?e!==r:"^="===n?r&&0===e.indexOf(r):"*="===n?r&&-1<e.indexOf(r):"$="===n?r&&e.slice(-r.length)===r:"~="===n?-1<(" "+e+" ").indexOf(r):"|="===n&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(m,e,t,h,p){var g="nth"!==m.slice(0,3),y="last"!==m.slice(-4),v="of-type"===e;return 1===h&&0===p?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,c,l=g!=y?"nextSibling":"previousSibling",u=e.parentNode,d=v&&e.nodeName.toLowerCase(),f=!n&&!v;if(u){if(g){for(;l;){for(o=e;o=o[l];)if(v?o.nodeName.toLowerCase()===d:1===o.nodeType)return!1;c=l="only"===m&&!c&&"nextSibling"}return!0}if(c=[y?u.firstChild:u.lastChild],y&&f){for(s=(r=(i=u[b]||(u[b]={}))[m]||[])[0]===E&&r[1],a=r[0]===E&&r[2],o=s&&u.childNodes[s];o=++s&&o&&o[l]||(a=s=0)||c.pop();)if(1===o.nodeType&&++a&&o===e){i[m]=[E,s,a];break}}else if(f&&(r=(e[b]||(e[b]={}))[m])&&r[0]===E)a=r[1];else for(;(o=++s&&o&&o[l]||(a=s=0)||c.pop())&&((v?o.nodeName.toLowerCase()!==d:1!==o.nodeType)||!++a||(f&&((o[b]||(o[b]={}))[m]=[E,a]),o!==e)););return(a-=p)===h||a%h==0&&0<=a/h}}},PSEUDO:function(e,o){var t,a=x.pseudos[e]||x.setFilters[e.toLowerCase()]||A.error("unsupported pseudo: "+e);return a[b]?a(o):1<a.length?(t=[e,e,"",o],x.setFilters.hasOwnProperty(e.toLowerCase())?D(function(e,t){for(var n,r=a(e,o),i=r.length;i--;)e[n=N.call(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:D(function(e){var r=[],i=[],s=h(e.replace(T,"$1"));return s[b]?D(function(e,t,n,r){for(var i,o=s(e,null,r,[]),a=e.length;a--;)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),!i.pop()}}),has:D(function(t){return function(e){return 0<A(t,e).length}}),contains:D(function(t){return t=t.replace(B,d),function(e){return-1<(e.textContent||e.innerText||o(e)).indexOf(t)}}),lang:D(function(n){return J.test(n||"")||A.error("unsupported lang: "+n),n=n.replace(B,d).toLowerCase(),function(e){var t;do{if(t=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===t},focus:function(e){return e===w.activeElement&&(!w.hasFocus||w.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return ee.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:P(function(){return[0]}),last:P(function(e,t){return[t-1]}),eq:P(function(e,t,n){return[n<0?n+t:n]}),even:P(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:P(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:P(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e}),gt:P(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})x.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function se(){}function O(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ce(a,e,t){var s=e.dir,c=t&&"parentNode"===s,l=F++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||c)return a(e,t,n)}:function(e,t,n){var r,i,o=[E,l];if(n){for(;e=e[s];)if((1===e.nodeType||c)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||c){if((r=(i=e[b]||(e[b]={}))[s])&&r[0]===E&&r[1]===l)return o[2]=r[2];if((i[s]=o)[2]=a(e,t,n))return!0}}}function le(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function M(e,t,n,r,i){for(var o,a=[],s=0,c=e.length,l=null!=t;s<c;s++)!(o=e[s])||n&&!n(o,r,i)||(a.push(o),l&&t.push(s));return a}function ue(m,h,p,g,y,e){return g&&!g[b]&&(g=ue(g)),y&&!y[b]&&(y=ue(y,e)),D(function(e,t,n,r){var i,o,a,s=[],c=[],l=t.length,u=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)A(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),d=!m||!e&&h?u:M(u,s,m,n,r),f=p?y||(e?m:l||g)?[]:t:d;if(p&&p(d,f,n,r),g)for(i=M(f,c),g(i,[],n,r),o=i.length;o--;)(a=i[o])&&(f[c[o]]=!(d[c[o]]=a));if(e){if(y||m){if(y){for(i=[],o=f.length;o--;)(a=f[o])&&i.push(d[o]=a);y(null,f=[],i,r)}for(o=f.length;o--;)(a=f[o])&&-1<(i=y?N.call(e,a):s[o])&&(e[i]=!(t[i]=a))}}else f=M(f===t?f.splice(l,f.length):f),y?y(null,t,f,r):S.apply(t,f)})}function de(g,y){function e(e,t,n,r,i){var o,a,s,c=0,l="0",u=e&&[],d=[],f=C,m=e||b&&x.find.TAG("*",i),h=E+=null==f?1:Math.random()||.1,p=m.length;for(i&&(C=t!==w&&t);l!==p&&null!=(o=m[l]);l++){if(b&&o){for(a=0;s=g[a++];)if(s(o,t,n)){r.push(o);break}i&&(E=h)}v&&((o=!s&&o)&&c--,e&&u.push(o))}if(c+=l,v&&l!==c){for(a=0;s=y[a++];)s(u,d,t,n);if(e){if(0<c)for(;l--;)u[l]||d[l]||(d[l]=V.call(r));d=M(d)}S.apply(r,d),i&&!e&&0<d.length&&1<c+y.length&&A.uniqueSort(r)}return i&&(E=h,C=f),u}var v=0<y.length,b=0<g.length;return v?D(e):e}return se.prototype=x.filters=x.pseudos,x.setFilters=new se,m=A.tokenize=function(e,t){var n,r,i,o,a,s,c,l=U[e+" "];if(l)return t?0:l.slice(0);for(a=e,s=[],c=x.preFilter;a;){for(o in n&&!(r=Y.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=X.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(T," ")}),a=a.slice(n.length)),x.filter)!(r=R[o].exec(a))||c[o]&&!(r=c[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?A.error(e):U(e,s).slice(0)},h=A.compile=function(e,t){var n,r=[],i=[],o=z[e+" "];if(!o){for(n=(t=t||m(e)).length;n--;)((o=function e(t){for(var r,n,i,o=t.length,a=x.relative[t[0].type],s=a||x.relative[" "],c=a?1:0,l=ce(function(e){return e===r},s,!0),u=ce(function(e){return-1<N.call(r,e)},s,!0),d=[function(e,t,n){return!a&&(n||t!==C)||((r=t).nodeType?l:u)(e,t,n)}];c<o;c++)if(n=x.relative[t[c].type])d=[ce(le(d),n)];else{if((n=x.filter[t[c].type].apply(null,t[c].matches))[b]){for(i=++c;i<o&&!x.relative[t[i].type];i++);return ue(1<c&&le(d),1<c&&O(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace(T,"$1"),n,c<i&&e(t.slice(c,i)),i<o&&e(t=t.slice(i)),i<o&&O(t))}d.push(n)}return le(d)}(t[n]))[b]?r:i).push(o);(o=z(e,de(i,r))).selector=e}return o},I=A.select=function(e,t,n,r){var i,o,a,s,c,l="function"==typeof e&&e,u=!r&&m(e=l.selector||e);if(n=n||[],1===u.length){if(2<(o=u[0]=u[0].slice(0)).length&&"ID"===(a=o[0]).type&&f.getById&&9===t.nodeType&&g&&x.relative[o[1].type]){if(!(t=(x.find.ID(a.matches[0].replace(B,d),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=R.needsContext.test(e)?0:o.length;i--&&(a=o[i],!x.relative[s=a.type]);)if((c=x.find[s])&&(r=c(a.matches[0].replace(B,d),ne.test(o[0].type)&&ae(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&O(o))break;return S.apply(n,r),n}}return(l||h(e,u))(r,t,!g,n,ne.test(e)&&ae(t.parentNode)||t),n},f.sortStable=b.split("").sort(a).join("")===b,f.detectDuplicates=!!u,p(),f.sortDetached=!0,A}),r("tinymce.core.util.Arr",[],function(){var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function e(e,t,n){var r,i;if(!e)return 0;if(n=n||e,void 0!==e.length){for(r=0,i=e.length;r<i;r++)if(!1===t.call(n,e[r],r,e))return 0}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return 0;return 1}function r(e,t,n){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return r;return-1}return{isArray:i,toArray:function(e){var t,n,r=e;if(!i(e))for(r=[],t=0,n=e.length;t<n;t++)r[t]=e[t];return r},each:e,map:function(n,r){var i=[];return e(n,function(e,t){i.push(r(e,t,n))}),i},filter:function(n,r){var i=[];return e(n,function(e,t){r&&!r(e,t,n)||i.push(e)}),i},indexOf:function(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},reduce:function(e,t,n,r){var i=0;for(arguments.length<3&&(n=e[0]);i<e.length;i++)n=t.call(r,n,e[i],i);return n},findIndex:r,find:function(e,t,n){if(-1!==(t=r(e,t,n)))return e[t]},last:function(e){return e[e.length-1]}}}),r("tinymce.core.util.Tools",["tinymce.core.Env","tinymce.core.util.Arr"],function(n,a){var t=/^\s*|\s*$/g;function r(e){return null==e?"":(""+e).replace(t,"")}function i(e,t){return t?!("array"!=t||!a.isArray(e))||typeof e==t:void 0!==e}return{trim:r,isArray:a.isArray,is:i,toArray:a.toArray,makeMap:function(e,t,n){var r;for(t=t||",",n=n||{},r=(e="string"==typeof(e=e||[])?e.split(t):e).length;r--;)n[e[r]]={};return n},each:a.each,map:a.map,grep:a.filter,inArray:a.indexOf,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e,t){for(var n,r,i=arguments,o=1,a=i.length;o<a;o++)for(n in t=i[o])t.hasOwnProperty(n)&&void 0!==(r=t[n])&&(e[n]=r);return e},create:function(e,t,n){var r,i,o,a,s,c=this,l=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],(i=c.createNS(e[3].replace(/\.\w+$/,""),n))[o]||("static"==e[2]?(i[o]=t,this.onCreate&&this.onCreate(e[2],e[3],i[o])):(t[o]||(t[o]=function(){},l=1),i[o]=t[o],c.extend(i[o].prototype,t),e[5]&&(r=c.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=i[o],i[o]=l?function(){return r[a].apply(this,arguments)}:function(){return this.parent=r[a],s.apply(this,arguments)},i[o].prototype[o]=i[o],c.each(r,function(e,t){i[o].prototype[t]=r[t]}),c.each(t,function(e,t){r[t]?i[o].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!=o&&(i[o].prototype[t]=e)})),c.each(t.static,function(e,t){i[o][t]=e})))},walk:function n(e,r,i,o){o=o||this,e&&(i&&(e=e[i]),a.each(e,function(e,t){if(!1===r.call(o,e,t,i))return!1;n(e,r,i,o)}))},createNS:function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)t[r=e[n]]||(t[r]={}),t=t[r];return t},resolve:function(e,t){var n,r;for(t=t||window,n=0,r=(e=e.split(".")).length;n<r&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||i(e,"array")?e:a.map(e.split(t||","),r)},_addCacheSuffix:function(e){var t=n.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}}}),r("tinymce.core.dom.DomQuery",["tinymce.core.dom.EventUtils","tinymce.core.dom.Sizzle","tinymce.core.util.Tools","tinymce.core.Env"],function(e,t,n,r){var s,o=document,a=Array.prototype.push,i=Array.prototype.slice,c=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,l=e.Event,u=n.makeMap("children,contents,next,prev");function d(e){return void 0!==e}function f(e){return"string"==typeof e}function m(e,t){var n,r=(t=t||o).createElement("div"),i=t.createDocumentFragment();for(r.innerHTML=e;n=r.firstChild;)i.appendChild(n);return i}function h(e,t,n,r){var i;if(f(t))t=m(t,R(e[0]));else if(t.length&&!t.nodeType){if(t=k.makeArray(t),r)for(i=t.length-1;0<=i;i--)h(e,t[i],n,r);else for(i=0;i<t.length;i++)h(e,t[i],n,r);return e}if(t.nodeType)for(i=e.length;i--;)n.call(e[i],t);return e}function p(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function g(e,t,n){var r,i;return t=k(t)[0],e.each(function(){var e=this;n&&r==e.parentNode||(r=e.parentNode,i=t.cloneNode(!1),e.parentNode.insertBefore(i,e)),i.appendChild(e)}),e}var y=n.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),v=n.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),b={for:"htmlFor",class:"className",readonly:"readOnly"},x={float:"cssFloat"},C={},w={};function k(e,t){return new k.fn.init(e,t)}var E=/^\s*|\s*$/g;function S(e){return null===e||e===s?"":(""+e).replace(E,"")}function N(e,t){var n,r,i,o;if(e)if(void 0===(n=e.length)){for(r in e)if(e.hasOwnProperty(r)&&(o=e[r],!1===t.call(o,r,o)))break}else for(i=0;i<n&&(o=e[i],!1!==t.call(o,i,o));i++);return e}function T(e,n){var r=[];return N(e,function(e,t){n(t,e)&&r.push(t)}),r}function R(e){return e?9==e.nodeType?e:e.ownerDocument:o}function _(e,t,n){var r=[],i=e[t];for("string"!=typeof n&&n instanceof k&&(n=n[0]);i&&9!==i.nodeType;){if(void 0!==n){if(i===n)break;if("string"==typeof n&&k(i).is(n))break}1===i.nodeType&&r.push(i),i=i[t]}return r}function B(e,t,n,r){var i=[];for(r instanceof k&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"==typeof r&&k(e).is(r))break}i.push(e)}return i}function A(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType==n)return e;return null}function D(n,r,e){N(e,function(e,t){n[e]=n[e]||{},n[e][r]=t})}return k.fn=k.prototype={constructor:k,selector:"",context:null,length:0,init:function(e,t){var n,r,i=this;if(e)if(e.nodeType)i.context=i[0]=e,i.length=1;else{if(t&&t.nodeType)i.context=t;else{if(t)return k(e).attr(t);i.context=t=document}if(f(e)){if(!(n="<"===(i.selector=e).charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:c.exec(e)))return k(t).find(e);if(n[1])for(r=m(e,R(t)).firstChild;r;)a.call(i,r),r=r.nextSibling;else{if(!(r=R(t).getElementById(n[2])))return i;if(r.id!==n[2])return i.find(e);i.length=1,i[0]=r}}else this.add(e,!1)}return i},toArray:function(){return n.toArray(this)},add:function(e,t){var n,r,i=this;if(f(e))return i.add(k(e));if(!1!==t)for(n=k.unique(i.toArray().concat(k.makeArray(e))),i.length=n.length,r=0;r<n.length;r++)i[r]=n[r];else a.apply(i,k.makeArray(e));return i},attr:function(t,n){var e,r=this;if("object"==typeof t)N(t,function(e,t){r.attr(e,t)});else{if(!d(n)){if(r[0]&&1===r[0].nodeType){if((e=C[t])&&e.get)return e.get(r[0],t);if(v[t])return r.prop(t)?t:s;null===(n=r[0].getAttribute(t,2))&&(n=s)}return n}this.each(function(){var e;1===this.nodeType&&((e=C[t])&&e.set?e.set(this,n):null===n?this.removeAttribute(t,2):this.setAttribute(t,n,2))})}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=b[e]||e))N(e,function(e,t){n.prop(e,t)});else{if(!d(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1==this.nodeType&&(this[e]=t)})}return n},css:function(t,n){var e,r,i=this;function o(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})}function a(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})}if("object"==typeof t)N(t,function(e,t){i.css(e,t)});else if(d(n))t=o(t),"number"!=typeof n||y[t]||(n+="px"),i.each(function(){var e=this.style;if((r=w[t])&&r.set)r.set(this,n);else{try{this.style[x[t]||t]=n}catch(e){}null!==n&&""!==n||(e.removeProperty?e.removeProperty(a(t)):e.removeAttribute(t))}});else{if(e=i[0],(r=w[t])&&r.get)return r.get(e);if(e.ownerDocument.defaultView)try{return e.ownerDocument.defaultView.getComputedStyle(e,null).getPropertyValue(a(t))}catch(e){return s}else if(e.currentStyle)return e.currentStyle[o(t)]}return i},remove:function(){for(var e,t=this.length;t--;)e=this[t],l.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(t){var n,r=this;if(d(t)){n=r.length;try{for(;n--;)r[n].innerHTML=t}catch(e){k(r[n]).empty().append(t)}return r}return r[0]?r[0].innerHTML:""},text:function(e){var t,n=this;if(d(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return h(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return h(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?h(this,arguments,function(e){this.parentNode.insertBefore(e,this)}):this},after:function(){return this[0]&&this[0].parentNode?h(this,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):this},appendTo:function(e){return k(e).append(this),this},prependTo:function(e){return k(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return g(this,e)},wrapAll:function(e){return g(this,e,!0)},wrapInner:function(e){return this.each(function(){k(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){k(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),k(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(i,o){var e=this;return"string"==typeof i&&(-1!==i.indexOf(" ")?N(i.split(" "),function(){e.toggleClass(this,o)}):e.each(function(e,t){var n,r=p(t,i);r!==o&&(n=t.className,r?t.className=S((" "+n+" ").replace(" "+i+" "," ")):t.className+=n?" "+i:i)})),e},hasClass:function(e){return p(this[0],e)},each:function(e){return N(this,e)},on:function(e,t){return this.each(function(){l.bind(this,e,t)})},off:function(e,t){return this.each(function(){l.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?l.fire(this,e.type,e):l.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new k(i.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){for(var t=[],n=0,r=this.length;n<r;n++)k.find(e,this[n],t);return k(t)},filter:function(n){return k("function"==typeof n?T(this.toArray(),function(e,t){return n(t,e)}):k.filter(n,this.toArray()))},closest:function(n){var r=[];return n instanceof k&&(n=n[0]),this.each(function(e,t){for(;t;){if("string"==typeof n&&k(t).is(n)){r.push(t);break}if(t==n){r.push(t);break}t=t.parentNode}}),k(r)},offset:function(e){var t,n,r=0,i=0;return e?this.css(e):((e=this[0])&&(n=(t=e.ownerDocument).documentElement,e.getBoundingClientRect&&(r=(e=e.getBoundingClientRect()).left+(n.scrollLeft||t.body.scrollLeft)-n.clientLeft,i=e.top+(n.scrollTop||t.body.scrollTop)-n.clientTop)),{left:r,top:i})},push:a,sort:[].sort,splice:[].splice},n.extend(k,{extend:n.extend,makeArray:function(e){var t;return(t=e)&&t==t.window||e.nodeType?[e]:n.toArray(e)},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:n.isArray,each:N,trim:S,grep:T,find:t,expr:t.selectors,unique:t.uniqueSort,text:t.getText,contains:t.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!=t[r].nodeType&&t.splice(r,1);return t=1===t.length?k.find.matchesSelector(t[0],e)?[t[0]]:[]:k.find.matches(e,t)}}),N({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return _(e,"parentNode")},next:function(e){return A(e,"nextSibling",1)},prev:function(e){return A(e,"previousSibling",1)},children:function(e){return B(e.firstChild,"nextSibling",1)},contents:function(e){return n.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,r){k.fn[e]=function(t){var n=[];return this.each(function(){var e=r.call(n,this,t,n);e&&(k.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(u[e]||(n=k.unique(n)),0===e.indexOf("parents")&&(n=n.reverse())),n=k(n),t?n.filter(t):n}}),N({parentsUntil:function(e,t){return _(e,"parentNode",t)},nextUntil:function(e,t){return B(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return B(e,"previousSibling",1,t).slice(1)}},function(r,i){k.fn[r]=function(t,e){var n=[];return this.each(function(){var e=i.call(n,this,t,n);e&&(k.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(n=k.unique(n),0!==r.indexOf("parents")&&"prevUntil"!==r||(n=n.reverse())),n=k(n),e?n.filter(e):n}}),k.fn.is=function(e){return!!e&&0<this.filter(e).length},k.fn.init.prototype=k.fn,k.overrideDefaults=function(n){var r;function i(e,t){return r=r||n(),0===arguments.length&&(e=r.element),t=t||r.context,new i.fn.init(e,t)}return k.extend(i,this),i},r.ie&&r.ie<8&&(D(C,"get",{maxlength:function(e){e=e.maxLength;return 2147483647===e?s:e},size:function(e){e=e.size;return 20===e?s:e},class:function(e){return e.className},style:function(e){e=e.style.cssText;return 0===e.length?s:e}}),D(C,"set",{class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),r.ie&&r.ie<9&&(x.float="styleFloat",D(w,"set",{opacity:function(e,t){e=e.style;null===t||""===t?e.removeAttribute("filter"):(e.zoom=1,e.filter="alpha(opacity="+100*t+")")}})),k.attrHooks=C,k.cssHooks=w,k}),r("tinymce.core.dom.Range",["tinymce.core.util.Tools"],function(c){function f(u){var W=this,V=u.doc,q=1,j=2,$=!0,K=!1,Y="startOffset",X="startContainer",G="endContainer",Z="endOffset",e=c.extend,J=u.nodeIndex;function Q(){return V.createDocumentFragment()}function t(e,t){a($,e,t)}function n(e,t){a(K,e,t)}function r(e){t(e.parentNode,J(e))}function i(e){n(e.parentNode,J(e)+1)}function o(){return s(q)}function ee(e,t){var n;if(3==e.nodeType)return e;if(t<0)return e;for(n=e.firstChild;n&&0<t;)--t,n=n.nextSibling;return n||e}function l(e,t,n,r){var i,o,a,s,c,l;if(e==n)return t==r?0:t<r?-1:1;for(i=n;i&&i.parentNode!=e;)i=i.parentNode;if(i){for(o=0,a=e.firstChild;a!=i&&o<t;)o++,a=a.nextSibling;return t<=o?-1:1}for(i=e;i&&i.parentNode!=n;)i=i.parentNode;if(i){for(o=0,a=n.firstChild;a!=i&&o<r;)o++,a=a.nextSibling;return o<r?-1:1}for(s=u.findCommonAncestor(e,n),c=e;c&&c.parentNode!=s;)c=c.parentNode;for(c=c||s,l=n;l&&l.parentNode!=s;)l=l.parentNode;if(c==(l=l||s))return 0;for(a=s.firstChild;a;){if(a==c)return-1;if(a==l)return 1;a=a.nextSibling}}function a(e,t,n){var r,i;for(e?(W[X]=t,W[Y]=n):(W[G]=t,W[Z]=n),r=W[G];r.parentNode;)r=r.parentNode;for(i=W[X];i.parentNode;)i=i.parentNode;(i!=r||0<l(W[X],W[Y],W[G],W[Z]))&&W.collapse(e),W.collapsed=W[X]==W[G]&&W[Y]==W[Z],W.commonAncestorContainer=u.findCommonAncestor(W[X],W[G])}function s(e){var t,n,r,i,o,a,s,c,l,u,d,f,m,h=0,p=0;if(W[X]==W[G]){var g,y,v,b,x,L,C=e;if(C!=j&&(g=Q()),W[Y]!=W[Z])if(3==W[X].nodeType){if(y=W[X].nodeValue,y=y.substring(W[Y],W[Z]),C!=q&&(v=W[X],P=W[Y],O=W[Z]-W[Y],0===P&&O>=v.nodeValue.length-1?v.parentNode.removeChild(v):v.deleteData(P,O),W.collapse($)),C==j)return;0<y.length&&g.appendChild(V.createTextNode(y))}else{for(v=ee(W[X],W[Y]),b=W[Z]-W[Y];v&&0<b;)x=v.nextSibling,L=re(v,C),g&&g.appendChild(L),--b,v=x;C!=q&&W.collapse($)}return g}for(n=(t=W[G]).parentNode;n;n=(t=n).parentNode){if(n==W[X]){var w,k,I,E,F,H,S=t,N=e;if(N!=j&&(w=Q()),k=te(S,N),w&&w.appendChild(k),I=J(S),!((E=I-W[Y])<=0))for(k=S.previousSibling;0<E;)F=k.previousSibling,H=re(k,N),w&&w.insertBefore(H,w.firstChild),--E,k=F;return N!=q&&(W.setEndBefore(S),W.collapse(K)),w}++h}for(n=(t=W[X]).parentNode;n;n=(t=n).parentNode){if(n==W[G]){var T,R,_,B,U,z,A=t,D=e;for(D!=j&&(T=Q()),_=ne(A,D),T&&T.appendChild(_),R=J(A),++R,B=W[Z]-R,_=A.nextSibling;_&&0<B;)U=_.nextSibling,z=re(_,D),T&&T.appendChild(z),--B,_=U;return D!=q&&(W.setStartAfter(A),W.collapse($)),T}++p}for(r=p-h,i=W[X];0<r;)i=i.parentNode,r--;for(o=W[G];r<0;)o=o.parentNode,r++;for(a=i.parentNode,s=o.parentNode;a!=s;a=a.parentNode,s=s.parentNode)i=a,o=s;var P=i,O=o,M=e;for(M!=j&&(l=Q()),c=ne(P,M),l&&l.appendChild(c),y=J(P),u=J(O),d=u-++y,f=P.nextSibling;0<d;)m=f.nextSibling,c=re(f,M),l&&l.appendChild(c),f=m,--d;return c=te(O,M),l&&l.appendChild(c),M!=q&&(W.setStartAfter(P),W.collapse($)),l}function te(e,t){var n,r,i,o,a,s=ee(W[G],W[Z]-1),c=s!=W[G];if(s==e)return d(s,c,K,t);for(r=d(n=s.parentNode,K,K,t);n;){for(;s;)i=s.previousSibling,o=d(s,c,K,t),t!=j&&r.insertBefore(o,r.firstChild),c=$,s=i;if(n==e)return r;s=n.previousSibling,a=d(n=n.parentNode,K,K,t),t!=j&&a.appendChild(r),r=a}}function ne(e,t){var n,r,i,o,a,s=ee(W[X],W[Y]),c=s!=W[X];if(s==e)return d(s,c,$,t);for(r=d(n=s.parentNode,K,$,t);n;){for(;s;)i=s.nextSibling,o=d(s,c,$,t),t!=j&&r.appendChild(o),c=$,s=i;if(n==e)return r;s=n.nextSibling,a=d(n=n.parentNode,K,$,t),t!=j&&a.appendChild(r),r=a}}function d(e,t,n,r){var i,o;return t?re(e,r):3==e.nodeType?(t=e.nodeValue,n=n?(o=W[Y],i=t.substring(o),t.substring(0,o)):(o=W[Z],i=t.substring(0,o),t.substring(o)),r!=q&&(e.nodeValue=n),r==j?void 0:((t=u.clone(e,K)).nodeValue=i,t)):r!=j?u.clone(e,K):void 0}function re(e,t){if(t!=j)return t==q?u.clone(e,$):e;e.parentNode.removeChild(e)}return e(W,{startContainer:V,startOffset:0,endContainer:V,endOffset:0,collapsed:$,commonAncestorContainer:V,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:t,setEnd:n,setStartBefore:r,setStartAfter:function(e){t(e.parentNode,J(e)+1)},setEndBefore:function(e){n(e.parentNode,J(e))},setEndAfter:i,collapse:function(e){e?(W[G]=W[X],W[Z]=W[Y]):(W[X]=W[G],W[Y]=W[Z]),W.collapsed=$},selectNode:function(e){r(e),i(e)},selectNodeContents:function(e){t(e,0),n(e,(1===e.nodeType?e.childNodes:e.nodeValue).length)},compareBoundaryPoints:function(e,t){var n=W[X],r=W[Y],i=W[G],o=W[Z],a=t.startContainer,s=t.startOffset,c=t.endContainer,t=t.endOffset;return 0===e?l(n,r,a,s):1===e?l(i,o,a,s):2===e?l(i,o,c,t):3===e?l(n,r,c,t):void 0},deleteContents:function(){s(j)},extractContents:function(){return s(0)},cloneContents:o,insertNode:function(e){var t,n=this[X],r=this[Y];3!==n.nodeType&&4!==n.nodeType||!n.nodeValue?(t=0<n.childNodes.length?n.childNodes[r]:t)?n.insertBefore(e,t):3==n.nodeType?u.insertAfter(e,n):n.appendChild(e):r?r>=n.nodeValue.length?u.insertAfter(e,n):(t=n.splitText(r),n.parentNode.insertBefore(e,t)):n.parentNode.insertBefore(e,n)},surroundContents:function(e){var t=W.extractContents();W.insertNode(e),e.appendChild(t),W.selectNode(e)},cloneRange:function(){return e(new f(u),{startContainer:W[X],startOffset:W[Y],endContainer:W[G],endOffset:W[Z],collapsed:W.collapsed,commonAncestorContainer:W.commonAncestorContainer})},toStringIE:function(){return u.create("body",null,o()).outerText}}),W}return f.prototype.toString=function(){return this.toStringIE()},f}),t("global!Object",Object),r("ephox.katamari.api.Option",["ephox.katamari.api.Fun","global!Object"],function(e,t){function o(){return c}var a=e.never,s=e.always,c=(e={fold:function(e,t){return e()},is:a,isSome:a,isNone:s,getOr:i,getOrThunk:r,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:i,orThunk:r,map:o,ap:o,each:function(){},bind:o,flatten:o,exists:a,forall:s,filter:o,equals:n,equals_:n,toArray:function(){return[]},toString:e.constant("none()")},t.freeze&&t.freeze(e),e);function n(e){return e.isNone()}function r(e){return e()}function i(e){return e}function l(n){function e(){return n}function t(){return i}function r(e){return e(n)}var i={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:s,isNone:a,getOr:e,getOrThunk:e,getOrDie:e,or:t,orThunk:t,map:function(e){return l(e(n))},ap:function(e){return e.fold(o,function(e){return l(e(n))})},each:function(e){e(n)},bind:r,flatten:e,exists:r,forall:r,filter:function(e){return e(n)?i:c},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(a,function(e){return t(n,e)})},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return i}return{some:l,none:o,from:function(e){return null==e?c:l(e)}}}),t("global!String",String),r("ephox.katamari.api.Arr",["ephox.katamari.api.Option","global!Array","global!Error","global!String"],function(o,a,i,s){function n(e,t){return-1<h(e,t)}function r(e,t){for(var n=e.length,r=new a(n),i=0;i<n;i++){var o=e[i];r[i]=t(o,i,e)}return r}function c(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n,e)}function l(e,t){for(var n=e.length-1;0<=n;n--)t(e[n],n,e)}function u(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];t(o,r,e)&&n.push(o)}return n}function d(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n,e))return o.some(n);return o.none()}function f(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!a.prototype.isPrototypeOf(e[n]))throw new i("Arr.flatten item "+n+" was not an array, input: "+e);g.apply(t,e[n])}return t}function t(e,t){for(var n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n,e))return!1;return!0}var m,h=void 0===(m=a.prototype.indexOf)?function(e,t){return p(e,t)}:function(e,t){return m.call(e,t)},p=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},g=a.prototype.push,y=a.prototype.slice;return{map:r,each:c,eachr:l,partition:function(e,t){for(var n=[],r=[],i=0,o=e.length;i<o;i++){var a=e[i];(t(a,i,e)?n:r).push(a)}return{pass:n,fail:r}},filter:u,groupBy:function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],i=[],o=0,a=e.length;o<a;o++){var s=e[o],c=t(s);c!==n&&(r.push(i),i=[]),n=c,i.push(s)}return 0!==i.length&&r.push(i),r},indexOf:function(e,t){e=h(e,t);return-1===e?o.none():o.some(e)},foldr:function(e,t,n){return l(e,function(e){n=t(n,e)}),n},foldl:function(e,t,n){return c(e,function(e){n=t(n,e)}),n},find:function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(t(i,n,e))return o.some(i)}return o.none()},findIndex:d,flatten:f,bind:function(e,t){e=r(e,t);return f(e)},forall:t,exists:function(e,t){return d(e,t).isSome()},contains:n,equal:function(e,n){return e.length===n.length&&t(e,function(e,t){return e===n[t]})},reverse:function(e){e=y.call(e,0);return e.reverse(),e},chunk:function(e,t){for(var n=[],r=0;r<e.length;r+=t){var i=e.slice(r,r+t);n.push(i)}return n},difference:function(e,t){return u(e,function(e){return!n(t,e)})},mapToObject:function(e,t){for(var n={},r=0,i=e.length;r<i;r++){var o=e[r];n[s(o)]=t(o,r)}return n},pure:function(e){return[e]},sort:function(e,t){e=y.call(e,0);return e.sort(t),e},range:function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n}}}),t("global!setTimeout",setTimeout),r("ephox.katamari.api.LazyValue",["ephox.katamari.api.Arr","ephox.katamari.api.Option","global!setTimeout"],function(a,s,c){function l(e){function r(e){t()?o(e):i.push(e)}function t(){return n.isSome()}var n=s.none(),i=[],o=function(t){n.each(function(e){c(function(){t(e)},0)})};return e(function(e){n=s.some(e),e=i,a.each(e,o),i=[]}),{get:r,map:function(n){return l(function(t){r(function(e){t(n(e))})})},isReady:t}}return{nu:l,pure:function(t){return l(function(e){e(t)})}}}),r("ephox.katamari.async.Bounce",["global!Array","global!setTimeout"],function(r,i){return{bounce:function(n){return function(){var e=r.prototype.slice.call(arguments),t=this;i(function(){n.apply(t,e)},0)}}}}),r("ephox.katamari.api.Future",["ephox.katamari.api.LazyValue","ephox.katamari.async.Bounce"],function(n,r){function i(t){function e(e){t(r.bounce(e))}return{map:function(n){return i(function(t){e(function(e){e=n(e);t(e)})})},bind:function(n){return i(function(t){e(function(e){n(e).get(t)})})},anonBind:function(n){return i(function(t){e(function(e){n.get(t)})})},toLazy:function(){return n.nu(e)},get:e}}return{nu:i,pure:function(t){return i(function(e){e(t)})}}}),r("ephox.katamari.async.AsyncValues",["ephox.katamari.api.Arr"],function(t){return{par:function(a,e){return e(function(r){var i=[],o=0;0===a.length?r([]):t.each(a,function(e,t){var n;e.get((n=t,function(e){i[n]=e,++o>=a.length&&r(i)}))})})}}}),r("ephox.katamari.api.Futures",["ephox.katamari.api.Arr","ephox.katamari.api.Future","ephox.katamari.async.AsyncValues"],function(n,t,r){function i(e){return r.par(e,t.nu)}return{par:i,mapM:function(e,t){e=n.map(e,t);return i(e)},compose:function(t,n){return function(e){return n(e).bind(t)}}}}),r("ephox.katamari.api.Result",["ephox.katamari.api.Fun","ephox.katamari.api.Option"],function(e,t){function r(n){return{is:function(e){return n===e},isValue:e.constant(!0),isError:e.constant(!1),getOr:e.constant(n),getOrThunk:e.constant(n),getOrDie:e.constant(n),or:function(e){return r(n)},orThunk:function(e){return r(n)},fold:function(e,t){return t(n)},map:function(e){return r(e(n))},each:function(e){e(n)},bind:function(e){return e(n)},exists:function(e){return e(n)},forall:function(e){return e(n)},toOption:function(){return t.some(n)}}}function i(n){return{is:e.constant(!1),isValue:e.constant(!1),isError:e.constant(!0),getOr:e.identity,getOrThunk:function(e){return e()},getOrDie:function(){return e.die(n)()},or:function(e){return e},orThunk:function(e){return e()},fold:function(e,t){return e(n)},map:function(e){return i(n)},each:e.noop,bind:function(e){return i(n)},exists:e.constant(!1),forall:e.constant(!0),toOption:t.none}}return{value:r,error:i}}),r("tinymce.core.dom.StyleSheetLoader",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Future","ephox.katamari.api.Futures","ephox.katamari.api.Result","tinymce.core.util.Delay","tinymce.core.util.Tools"],function(o,a,s,c,l,g,y){"use strict";return function(d,e){var f=0,m={};function h(e){d.getElementsByTagName("head")[0].appendChild(e)}function n(e,t,n){var r,i,o,a;function s(){for(var e=a.passed,t=e.length;t--;)e[t]();a.status=2,a.passed=[],a.failed=[]}function c(){for(var e=a.failed,t=e.length;t--;)e[t]();a.status=3,a.passed=[],a.failed=[]}function l(e,t){e()||((new Date).getTime()-o<p?g.setTimeout(t):c())}function u(){l(function(){for(var e,t=d.styleSheets,n=t.length;n--;)if((e=(e=t[n]).ownerNode||e.owningElement)&&e.id===r.id)return s(),1},u)}if(e=y._addCacheSuffix(e),m[e]?a=m[e]:(a={passed:[],failed:[]},m[e]=a),t&&a.passed.push(t),n&&a.failed.push(n),1!=a.status)if(2==a.status)s();else if(3==a.status)c();else{if(a.status=1,(r=d.createElement("link")).rel="stylesheet",r.type="text/css",r.id="u"+f++,r.async=!1,r.defer=!1,o=(new Date).getTime(),"onload"in r&&!((t=navigator.userAgent.match(/WebKit\/(\d*)/))&&t[1]<536))r.onload=u,r.onerror=c;else{if(0<navigator.userAgent.indexOf("Firefox"))return(i=d.createElement("style")).textContent='@import "'+e+'"',function e(){l(function(){try{var e=i.sheet.cssRules;return s(),e}catch(e){}},e)}(),void h(i);u()}h(r),r.href=e}}function r(t){return s.nu(function(e){n(t,a.compose(e,a.constant(l.value(t))),a.compose(e,a.constant(l.error(t))))})}function i(e){return e.fold(a.identity,a.identity)}var p=(e=e||{}).maxLoadTime||5e3;return{load:n,loadAll:function(e,t,n){c.par(o.map(e,r)).get(function(e){e=o.partition(e,function(e){return e.isValue()});0<e.fail.length?n(e.fail.map(i)):t(e.pass.map(i))})}}}}),r("tinymce.core.dom.TreeWalker",[],function(){return function(e,a){var t=e;function n(e,t,n,r){var i,o;if(e){if(!r&&e[t])return e[t];if(e!=a){if(i=e[n])return i;for(o=e.parentNode;o&&o!=a;o=o.parentNode)if(i=o[n])return i}}}this.current=function(){return t},this.next=function(e){return t=n(t,"firstChild","nextSibling",e)},this.prev=function(e){return t=n(t,"lastChild","previousSibling",e)},this.prev2=function(e){return t=function(e,t,n,r){var i;if(e&&(n=e[n],!a||n!==a)){if(n){if(!r)for(i=n[t];i;i=i[t])if(!i[t])return i;return n}return(r=e.parentNode)&&r!==a?r:void 0}}(t,"lastChild","previousSibling",e)}}}),r("tinymce.core.html.Entities",["tinymce.core.util.Tools"],function(e){var t=e.makeMap,r=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,i=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n=/[<>&\"\']/g,o=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,a={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};function s(e,t){var n,r,i,o={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),c[r]||(i="&"+e[n+1]+";",o[r]=i,o[i]=r);return o}}var c={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},l={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},u=s("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),d={encodeRaw:function(e,t){return e.replace(t?r:i,function(e){return c[e]||e})},encodeAllRaw:function(e){return(""+e).replace(n,function(e){return c[e]||e})},encodeNumeric:function(e,t){return e.replace(t?r:i,function(e){return 1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":c[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,n){return n=n||u,e.replace(t?r:i,function(e){return c[e]||n[e]||e})},getEncodeFunc:function(e,n){return n=s(n)||u,(e=t(e.replace(/\+/g,","))).named&&e.numeric?function(e,t){return e.replace(t?r:i,function(e){return void 0!==c[e]?c[e]:void 0!==n[e]?n[e]:1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})}:e.named?n?function(e,t){return d.encodeNamed(e,t,n)}:d.encodeNamed:e.numeric?d.encodeNumeric:d.encodeRaw},decode:function(e){return e.replace(o,function(e,t){return t?65535<(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):a[t]||String.fromCharCode(t):l[e]||u[e]||(t=e,(e=document.createElement("div")).innerHTML=t,e.textContent||e.innerText||t)})}};return d}),r("tinymce.core.html.Schema",["tinymce.core.util.Tools"],function(n){var L={},I={},F=n.makeMap,H=n.each,U=n.extend,z=n.explode,W=n.inArray;function V(e,t){return(e=n.trim(e))?e.split(t||" "):[]}function q(e,n){var r;return e&&(r={},H(e="string"==typeof e?{"*":e}:e,function(e,t){r[t]=r[t.toUpperCase()]=("map"==n?F:z)(e,/[, ]/)})),r}return function(i){var e,t,n,r,o,a,s,c,l,u,d,f,m,h,p,g,y,v,b,x,C=this,k={},w={},E=[],S={},N={};function T(e,t,n){var r=i[e];return r?r=F(r,/[, ]/,F(r.toUpperCase(),/[, ]/)):(r=L[e])||(r=F(t," ",F(t.toUpperCase()," ")),r=U(r,n),L[e]=r),r}function R(e,t,n){var r,i;function o(e,t){for(var n={},r=0,i=e.length;r<i;r++)n[e[r]]=t||{};return n}for(t=t||"","string"==typeof(n=n||[])&&(n=V(n)),r=(e=V(e)).length;r--;)i={attributes:o(i=V([p,t].join(" "))),attributesOrder:i,children:o(n,I)},x[e[r]]=i}function _(e,t){var n,r,i,o=(e=V(e)).length;for(t=V(t);o--;)for(n=x[e[o]],r=0,i=t.length;r<i;r++)n.attributes[t[r]]={},n.attributesOrder.push(t[r])}function B(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function A(e){var t,n,r,i,o,a,s,c,l,u,d,f,m,h,p,g,y,v,b,x=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,C=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,w=/[*?+]/;if(e)for(e=V(e,","),k["@"]&&(g=k["@"].attributes,y=k["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(o=x.exec(e[t])){if(h=o[1],l=o[2],p=o[3],c=o[5],a={attributes:f={},attributesOrder:m=[]},"#"===h&&(a.paddEmpty=!0),"-"===h&&(a.removeEmpty=!0),"!"===o[4]&&(a.removeEmptyAttrs=!0),g){for(v in g)f[v]=g[v];m.push.apply(m,y)}if(c)for(r=0,i=(c=V(c,"|")).length;r<i;r++)(o=C.exec(c[r]))&&(s={},d=o[1],u=o[2].replace(/::/g,":"),h=o[3],b=o[4],"!"===d&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(u),s.required=!0),"-"===d?(delete f[u],m.splice(W(m,u),1)):(h&&("="===h&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:u,value:b}),s.defaultValue=b),":"===h&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:u,value:b}),s.forcedValue=b),"<"===h&&(s.validValues=F(b,"?"))),w.test(u)?(a.attributePatterns=a.attributePatterns||[],s.pattern=B(u),a.attributePatterns.push(s)):(f[u]||m.push(u),f[u]=s)));g||"@"!=l||(g=f,y=m),p&&(a.outputName=l,k[p]=a),w.test(l)?(a.pattern=B(l),E.push(a)):k[l]=a}}function D(e){k={},E=[],A(e),H(n,function(e,t){w[t]=e.children})}function P(e){var i=/^(~)?(.+)$/;e&&(L.text_block_elements=L.block_elements=null,H(V(e,","),function(e){var e=i.exec(e),t="~"===e[1],n=t?"span":"div",r=e[2];w[r]=w[n],S[r]=n,t||(l[r.toUpperCase()]={},l[r]={}),k[r]||(e=k[n],delete(e=U({},e)).removeEmptyAttrs,delete e.removeEmpty,k[r]=e),H(w,function(e,t){e[n]&&(w[t]=e=U({},w[t]),e[r]=e[n])})}))}function O(e){var r=/^([+\-]?)(\w+)\[([^\]]+)\]$/;L[i.schema]=null,e&&H(V(e,","),function(e){var t,n,e=r.exec(e);e&&(n=e[1],t=n?w[e[2]]:w[e[2]]={"#comment":{}},t=w[e[2]],H(V(e[3],"|"),function(e){"-"===n?delete t[e]:t[e]={}}))})}function M(e){var t,n=k[e];if(n)return n;for(t=E.length;t--;)if((n=E[t]).pattern.test(e))return n}h=(i=i||{}).schema,x={},n=L[h]||(p="id accesskey class dir lang style tabindex title role",g="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",y="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!=h&&(p+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",g+=" article aside details dialog figure header footer hgroup section nav",y+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=h&&(p+=" xml:lang",y=[y,b="acronym applet basefont big font strike tt"].join(" "),H(V(b),function(e){R(e,"",y)}),g=[g,b="center dir isindex noframes"].join(" "),v=[g,y].join(" "),H(V(b),function(e){R(e,"",v)})),v=v||[g,y].join(" "),R("html","manifest","head body"),R("head","","base command link meta noscript script style title"),R("title hr noscript br"),R("base","href target"),R("link","href rel media hreflang type sizes hreflang"),R("meta","name http-equiv content charset"),R("style","media type scoped"),R("script","src async defer type charset"),R("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",v),R("address dt dd div caption","",v),R("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",y),R("blockquote","cite",v),R("ol","reversed start type","li"),R("ul","","li"),R("li","value",v),R("dl","","dt dd"),R("a","href target rel media hreflang type",y),R("q","cite",y),R("ins del","cite datetime",v),R("img","src sizes srcset alt usemap ismap width height"),R("iframe","src name width height",v),R("embed","src type width height"),R("object","data type typemustmatch name usemap form width height",[v,"param"].join(" ")),R("param","name value"),R("map","name",[v,"area"].join(" ")),R("area","alt coords shape href target rel media hreflang type"),R("table","border","caption colgroup thead tfoot tbody tr"+("html4"==h?" col":"")),R("colgroup","span","col"),R("col","span"),R("tbody thead tfoot","","tr"),R("tr","","td th"),R("td","colspan rowspan headers",v),R("th","colspan rowspan headers scope abbr",v),R("form","accept-charset action autocomplete enctype method name novalidate target",v),R("fieldset","disabled form name",[v,"legend"].join(" ")),R("label","form for",y),R("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),R("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==h?v:y),R("select","disabled form multiple name required size","option optgroup"),R("optgroup","disabled label","option"),R("option","disabled label selected value"),R("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),R("menu","type label",[v,"li"].join(" ")),R("noscript","",v),"html4"!=h&&(R("wbr"),R("ruby","",[y,"rt rp"].join(" ")),R("figcaption","",v),R("mark rt rp summary bdi","",y),R("canvas","width height",v),R("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[v,"track source"].join(" ")),R("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[v,"track source"].join(" ")),R("picture","","img source"),R("source","src srcset type media sizes"),R("track","kind src srclang label default"),R("datalist","",[y,"option"].join(" ")),R("article section nav aside header footer","",v),R("hgroup","","h1 h2 h3 h4 h5 h6"),R("figure","",[v,"figcaption"].join(" ")),R("time","datetime",y),R("dialog","open",v),R("command","type label icon disabled checked radiogroup command"),R("output","for form name",y),R("progress","value max",y),R("meter","value min max low high optimum",y),R("details","open",[v,"summary"].join(" ")),R("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=h&&(_("script","language xml:space"),_("style","xml:space"),_("object","declare classid code codebase codetype archive standby align border hspace vspace"),_("embed","align name hspace vspace"),_("param","valuetype type"),_("a","charset name rev shape coords"),_("br","clear"),_("applet","codebase archive code object alt name width height align hspace vspace"),_("img","name longdesc align border hspace vspace"),_("iframe","longdesc frameborder marginwidth marginheight scrolling align"),_("font basefont","size color face"),_("input","usemap align"),_("select","onchange"),_("textarea"),_("h1 h2 h3 h4 h5 h6 div p legend caption","align"),_("ul","type compact"),_("li","type"),_("ol dl menu dir","compact"),_("pre","width xml:space"),_("hr","align noshade size width"),_("isindex","prompt"),_("table","summary width frame rules cellspacing cellpadding align bgcolor"),_("col","width align char charoff valign"),_("colgroup","width align char charoff valign"),_("thead","align char charoff valign"),_("tr","align char charoff valign bgcolor"),_("th","axis align char charoff valign nowrap bgcolor width height"),_("form","accept"),_("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),_("tfoot","align char charoff valign"),_("tbody","align char charoff valign"),_("area","nohref"),_("body","background bgcolor text link vlink alink")),"html4"!=h&&(_("input button select textarea","autofocus"),_("input textarea","placeholder"),_("a","download"),_("link script img","crossorigin"),_("iframe","sandbox seamless allowfullscreen")),H(V("a form meter progress dfn"),function(e){x[e]&&delete x[e].children[e]}),delete x.caption.children.table,delete x.script,L[h]=x),!1===i.verify_html&&(i.valid_elements="*[*]"),e=q(i.valid_styles),t=q(i.invalid_styles,"map"),c=q(i.valid_classes,"map"),r=T("whitespace_elements","pre script noscript style textarea video audio iframe object code"),o=T("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),a=T("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),s=T("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),u=T("non_empty_elements","td th iframe video audio object script pre code",a),d=T("move_caret_before_on_enter_elements","table",u),f=T("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),l=T("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",f),m=T("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),H((i.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(e){N[e]=new RegExp("</"+e+"[^>]*>","gi")}),i.valid_elements?D(i.valid_elements):(H(n,function(e,t){k[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},w[t]=e.children}),"html5"!=i.schema&&H(V("strong/b em/i"),function(e){e=V(e,"/"),k[e[1]].outputName=e[0]}),H(V("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){k[e]&&(k[e].removeEmpty=!0)}),H(V("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(e){k[e].paddEmpty=!0}),H(V("span"),function(e){k[e].removeEmptyAttrs=!0})),P(i.custom_elements),O(i.valid_children),A(i.extended_valid_elements),O("+ol[ul|ol],+ul[ul|ol]"),H({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,t){k[t]&&(k[t].parentsRequired=V(e))}),i.invalid_elements&&H(z(i.invalid_elements),function(e){k[e]&&delete k[e]}),M("span")||A("span[!data-mce-type|*]"),C.children=w,C.getValidStyles=function(){return e},C.getInvalidStyles=function(){return t},C.getValidClasses=function(){return c},C.getBoolAttrs=function(){return s},C.getBlockElements=function(){return l},C.getTextBlockElements=function(){return f},C.getTextInlineElements=function(){return m},C.getShortEndedElements=function(){return a},C.getSelfClosingElements=function(){return o},C.getNonEmptyElements=function(){return u},C.getMoveCaretBeforeOnEnterElements=function(){return d},C.getWhiteSpaceElements=function(){return r},C.getSpecialElements=function(){return N},C.isValidChild=function(e,t){e=w[e.toLowerCase()];return!(!e||!e[t.toLowerCase()])},C.isValid=function(e,t){var n,r,i=M(e);if(i){if(!t)return!0;if(i.attributes[t])return!0;if(n=i.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},C.getElementRule=M,C.getCustomElements=function(){return S},C.addValidElements=A,C.setValidElements=D,C.addCustomElements=P,C.addValidChildren=O,C.elements=k}}),r("tinymce.core.html.Styles",[],function(){return function(v,e){var b,t,l,u,x=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,C=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,w=/\s*([^:]+):\s*([^;]+);?/g,k=/\s+$/,E={},S="\ufeff";for(v=v||{},e&&(l=e.getValidStyles(),u=e.getInvalidStyles()),t=("\\\" \\' \\; \\: ; : "+S).split(" "),b=0;b<t.length;b++)E[t[b]]=S+b,E[S+b]=t[b];function N(e,t,n,r){function i(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e}return"#"+i(t)+i(n)+i(r)}return{toHex:function(e){return e.replace(x,N)},parse:function(e){var t,n,r,i,o,a,s,c={},l=v.url_converter,u=v.url_converter_scope||this;function d(e,t,n){var r,i,o,a=c[e+"-top"+t];if(a&&(r=c[e+"-right"+t])&&(i=c[e+"-bottom"+t])&&(o=c[e+"-left"+t])){var s=[a,r,i,o];for(b=s.length-1;b--&&s[b]===s[b+1];);-1<b&&n||(c[e+t]=-1==b?s[0]:s.join(" "),delete c[e+"-top"+t],delete c[e+"-right"+t],delete c[e+"-bottom"+t],delete c[e+"-left"+t])}}function f(e){var t,n=c[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return;return c[e]=n[0],1}}function m(e){return r=!0,E[e]}function h(e,t){return r&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return E[e]})),e=t?e:e.replace(/\\([\'\";:])/g,"$1")}function p(e){return String.fromCharCode(parseInt(e.slice(1),16))}function g(e){return e.replace(/\\[0-9a-f]+/gi,p)}function y(e,t,n,r,i,o){if(i=i||o)return"'"+(i=h(i)).replace(/\'/g,"\\'")+"'";if(t=h(t||n||r),!v.allow_script_urls){o=t.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(o))return"";if(!v.allow_svg_data_urls&&/^data:image\/svg/i.test(o))return""}return"url('"+(t=l?l.call(u,t,"style"):t).replace(/\'/g,"\\'")+"')"}if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,m).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,m)});n=w.exec(e);)w.lastIndex=n.index+n[0].length,t=n[1].replace(k,"").toLowerCase(),n=n[2].replace(k,""),t&&n&&(t=g(t),n=g(n),-1===t.indexOf(S)&&-1===t.indexOf('"')&&(v.allow_script_urls||"behavior"!=t&&!/expression\s*\(|\/\*|\*\//.test(n))&&("font-weight"===t&&"700"===n?n="bold":"color"!==t&&"background-color"!==t||(n=n.toLowerCase()),n=(n=n.replace(x,N)).replace(C,y),c[t]=r?h(n,!0):n));d("border","",!0),d("border","-width"),d("border","-color"),d("border","-style"),d("padding",""),d("margin",""),i="border",a="border-style",s="border-color",f(o="border-width")&&f(a)&&f(s)&&(c[i]=c[o]+" "+c[a]+" "+c[s],delete c[o],delete c[a],delete c[s]),"medium none"===c.border&&delete c.border,"none"===c["border-image"]&&delete c["border-image"]}return c},serialize:function(o,e){var t,n,r,i,a,s="";function c(e){var t,n,r,i=l[e];if(i)for(t=0,n=i.length;t<n;t++)e=i[t],(r=o[e])&&(s+=(0<s.length?" ":"")+e+": "+r+";")}if(e&&l)c("*"),c(e);else for(t in o)!(n=o[t])||u&&(r=t,i=e,a=void 0,(a=u["*"])&&a[r]||(a=u[i])&&a[r])||(s+=(0<s.length?" ":"")+t+": "+n+";");return s}}}}),r("tinymce.core.dom.DOMUtils",["tinymce.core.dom.DomQuery","tinymce.core.dom.EventUtils","tinymce.core.dom.Range","tinymce.core.dom.Sizzle","tinymce.core.dom.StyleSheetLoader","tinymce.core.dom.TreeWalker","tinymce.core.Env","tinymce.core.html.Entities","tinymce.core.html.Schema","tinymce.core.html.Styles","tinymce.core.util.Tools"],function(c,l,t,i,u,d,r,e,f,m,a){var s=a.each,h=a.is,o=a.grep,p=a.trim,g=r.ie,y=/^([a-z0-9],?)+$/i,v=/^[ \t\r\n]*$/;function b(e,t){var n=t.attr("style"),n=e.serializeStyle(e.parseStyle(n),t[0].nodeName);t.attr("data-mce-style",n=n||null)}function n(e,t){var n,r,i=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!=r||r!=n&&e.nodeValue.length)&&(i++,n=r);return i}function x(e,t){var n,r,i,o,a,s=this;s.doc=e,s.win=window,s.files={},s.counter=0,s.stdMode=!g||8<=e.documentMode,s.boxModel=!g||"CSS1Compat"==e.compatMode||s.stdMode,s.styleSheetLoader=new u(e),s.boundEvents=[],s.settings=t=t||{},s.schema=t.schema||new f({}),s.styles=new m({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),s.fixDoc(e),s.events=t.ownEvents?new l(t.proxy):l.Event,s.attrHooks=(r=s,o={},a=(i=t).keep_values,o={style:{set:function(e,t){null!==t&&"object"==typeof t?e.css(t):(a&&e.attr("data-mce-style",t),e.attr("style",t))},get:function(e){var t=e.attr("data-mce-style")||e.attr("style");return r.serializeStyle(r.parseStyle(t),e[0].nodeName)}}},a&&(o.href=o.src={set:function(e,t,n){i.url_converter&&(t=i.url_converter.call(i.url_converter_scope||r,t,n,e[0])),e.attr("data-mce-"+n,t).attr(n,t)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}}),o),n=t.schema?t.schema.getBlockElements():{},s.$=c.overrideDefaults(function(){return{context:e,element:s.getRoot()}}),s.isBlock=function(e){var t;return!!e&&((t=e.nodeType)?!(1!==t||!n[e.nodeName]):!!n[e])}}return x.prototype={$$:function(e){return"string"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(t){var e,n=this.settings;if(g&&n.schema)for(e in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(e){t.createElement(e)}),n.schema.getCustomElements())t.createElement(e)},clone:function(t,e){var n,r,i=this;return!g||1!==t.nodeType||e?t.cloneNode(e):(r=i.doc,e?n.firstChild:(n=r.createElement(t.nodeName),s(i.getAttribs(t),function(e){i.setAttrib(n,e.nodeName,i.getAttrib(t,e.nodeName))}),n))},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(e){var t=(e=e||this.win).document,t=this.boxModel?t.documentElement:t.body;return{x:e.pageXOffset||t.scrollLeft,y:e.pageYOffset||t.scrollTop,w:e.innerWidth||t.clientWidth,h:e.innerHeight||t.clientHeight}},getRect:function(e){var t;return e=this.get(e),t=this.getPos(e),e=this.getSize(e),{x:t.x,y:t.y,w:e.w,h:e.h}},getSize:function(e){var t,n;return e=this.get(e),t=this.getStyle(e,"width"),n=this.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,t,n,r){var i,o=this,a=[];for(e=o.get(e),r=void 0===r,n=n||("BODY"!=o.getRoot().nodeName?o.getRoot().parentNode:null),h(t,"string")&&(t="*"===(i=t)?function(e){return 1==e.nodeType}:function(e){return o.is(e,i)});e&&e!=n&&e.nodeType&&9!==e.nodeType;){if(!t||t(e)){if(!r)return e;a.push(e)}e=e.parentNode}return r?a:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,(e=this.doc.getElementById(e))&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(e,t){return i(e,this.get(t)||this.settings.root_element||this.doc,[])},is:function(e,t){var n,r;if(!e)return!1;if(void 0===e.length){if("*"===t)return 1==e.nodeType;if(y.test(t)){for(t=t.toLowerCase().split(/,/),e=e.nodeName.toLowerCase(),n=t.length-1;0<=n;n--)if(t[n]==e)return!0;return!1}}return(!e.nodeType||1==e.nodeType)&&(r=e.nodeType?[e]:e,0<i(t,r[0].ownerDocument||r[0],null,r).length)},add:function(e,n,r,i,o){var a=this;return this.run(e,function(e){var t=h(n,"string")?a.doc.createElement(n):n;return a.setAttribs(t,r),i&&(i.nodeType?t.appendChild(i):a.setHTML(t,i)),o?t:e.appendChild(t)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var r,i="";for(r in i+="<"+e,t)t.hasOwnProperty(r)&&null!==t[r]&&void 0!==t[r]&&(i+=" "+r+'="'+this.encode(t[r])+'"');return void 0!==n?i+">"+n+"</"+e+">":i+" />"},createFragment:function(e){var t,n=this.doc,r=n.createElement("div"),i=n.createDocumentFragment();for(e&&(r.innerHTML=e);t=r.firstChild;)i.appendChild(t);return i},remove:function(e,t){return e=this.$$(e),(t?e.each(function(){for(var e;e=this.firstChild;)3==e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}):e).remove(),1<e.length?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n),this.settings.update_styles&&b(this,e)},getStyle:function(e,t,n){return e=this.$$(e),n?e.css(t):("float"==(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}))&&(t=r.ie&&r.ie<12?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[t]:void 0)},setStyles:function(e,t){e=this.$$(e).css(t),this.settings.update_styles&&b(this,e)},removeAllAttribs:function(e){return this.run(e,function(e){for(var t=e.attributes,n=t.length-1;0<=n;n--)e.removeAttributeNode(t.item(n))})},setAttrib:function(e,t,n){var r,i,o=this.settings;""===n&&(n=null),r=(e=this.$$(e)).attr(t),e.length&&((i=this.attrHooks[t])&&i.set?i.set(e,n,t):e.attr(t,n),r!=n&&o.onSetAttrib&&o.onSetAttrib({attrElm:e,attrName:t,attrValue:n}))},setAttribs:function(e,t){var r=this;r.$$(e).each(function(e,n){s(t,function(e,t){r.setAttrib(n,t,e)})})},getAttrib:function(e,t,n){var r,i;return i=void 0===(i=(e=this.$$(e)).length?(r=this.attrHooks[t])&&r.get?r.get(e,t):e.attr(t):i)?n||"":i},getPos:function(e,t){var n,r,i=0,o=0,a=this.doc,s=a.body;if(t=t||s,e=this.get(e)){if(t===s&&e.getBoundingClientRect&&"static"===c(s).css("position"))return r=e.getBoundingClientRect(),t=this.boxModel?a.documentElement:s,{x:i=r.left+(a.documentElement.scrollLeft||s.scrollLeft)-t.clientLeft,y:o=r.top+(a.documentElement.scrollTop||s.scrollTop)-t.clientTop};for(n=e;n&&n!=t&&n.nodeType;)i+=n.offsetLeft||0,o+=n.offsetTop||0,n=n.offsetParent;for(n=e.parentNode;n&&n!=t&&n.nodeType;)i-=n.scrollLeft||0,o-=n.scrollTop||0,n=n.parentNode}return{x:i,y:o}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t,n=this.doc;if(this!==x.DOM&&n===document){var r=x.DOM.addedStyles;if((r=r||[])[e])return;r[e]=!0,x.DOM.addedStyles=r}(r=n.getElementById("mceDefaultStyles"))||((r=n.createElement("style")).id="mceDefaultStyles",r.type="text/css",(t=n.getElementsByTagName("head")[0]).firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)),r.styleSheet?r.styleSheet.cssText+=e:r.appendChild(n.createTextNode(e))},loadCSS:function(e){var n,r=this,i=r.doc;r!==x.DOM&&i===document?x.DOM.loadCSS(e):(e=e||"",n=i.getElementsByTagName("head")[0],s(e.split(","),function(e){var t;e=a._addCacheSuffix(e),r.files[e]||(r.files[e]=!0,t=r.create("link",{rel:"stylesheet",href:e}),g&&i.documentMode&&i.recalc&&(t.onload=function(){i.recalc&&i.recalc(),t.onload=null}),n.appendChild(t))}))},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,!1)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(e,t,n){this.$$(e).toggleClass(t,n).each(function(){""===this.className&&c(this).attr("class",null)})},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return"none"==this.$$(e).css("display")},uniqueId:function(e){return(e||"mce_")+this.counter++},setHTML:function(e,n){e=this.$$(e),g?e.each(function(e,t){if(!1!==t.canHaveHTML){for(;t.firstChild;)t.removeChild(t.firstChild);try{t.innerHTML="<br>"+n,t.removeChild(t.firstChild)}catch(e){c("<div></div>").html("<br>"+n).contents().slice(1).appendTo(t)}return n}}):e.html(n)},getOuterHTML:function(e){return 1==(e=this.get(e)).nodeType&&"outerHTML"in e?e.outerHTML:c("<div></div>").append(c(e).clone()).html()},setOuterHTML:function(e,t){var n=this;n.$$(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}n.remove(c(this).html(t),!0)})},decode:e.decode,encode:e.encodeAllRaw,insertAfter:function(e,r){return r=this.get(r),this.run(e,function(e){var t=r.parentNode,n=r.nextSibling;return n?t.insertBefore(e,n):t.appendChild(e),e})},replace:function(t,e,n){return this.run(e,function(e){return h(e,"array")&&(t=t.cloneNode(!0)),n&&s(o(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})},rename:function(t,e){var n,r=this;return t.nodeName!=e.toUpperCase()&&(n=r.create(e),s(r.getAttribs(t),function(e){r.setAttrib(n,e.nodeName,r.getAttrib(t,e.nodeName))}),r.replace(n,t,1)),n||t},findCommonAncestor:function(e,t){for(var n,r=e;r;){for(n=t;n&&r!=n;)n=n.parentNode;if(r==n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},toHex:function(e){return this.styles.toHex(a.trim(e))},run:function(e,n,r){var i,o=this;return!!(e="string"==typeof e?o.get(e):e)&&(r=r||this,e.nodeType||!e.length&&0!==e.length?n.call(r,e):(i=[],s(e,function(e,t){e&&("string"==typeof e&&(e=o.get(e)),i.push(n.call(r,e,t)))}),i))},getAttribs:function(e){var t;if(!(e=this.get(e)))return[];if(g){if(t=[],"OBJECT"==e.nodeName)return e.attributes;"OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"});return e.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t}return e.attributes},isEmpty:function(e,t){var n,r,i,o,a,s,c=this,l=0;if(e=e.firstChild){a=new d(e,e.parentNode),t=t||(c.schema?c.schema.getNonEmptyElements():null),o=c.schema?c.schema.getWhiteSpaceElements():{};do{if(1===(i=e.nodeType)){var u=e.getAttribute("data-mce-bogus");if(u){e=a.next("all"===u);continue}if(s=e.nodeName.toLowerCase(),t&&t[s]){if("br"!==s)return!1;l++,e=a.next();continue}for(n=(r=c.getAttribs(e)).length;n--;)if("name"===(s=r[n].nodeName)||"data-mce-bookmark"===s)return!1}if(8==i)return!1;if(3===i&&!v.test(e.nodeValue))return!1;if(3===i&&e.parentNode&&o[e.parentNode.nodeName]&&v.test(e.nodeValue))return!1;e=a.next()}while(e)}return l<=1},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new t(this)},nodeIndex:n,split:function(e,t,n){var r,i,a=this,o=a.createRng();function s(e){var t,n,r=e.childNodes,i=e.nodeType;if(1!=i||"bookmark"!=e.getAttribute("data-mce-type")){for(t=r.length-1;0<=t;t--)s(r[t]);if(9!=i){if(3==i&&0<e.nodeValue.length){var o=p(e.nodeValue).length;if(!a.isBlock(e.parentNode)||0<o||0===o&&(n=(o=e).previousSibling&&"SPAN"==o.previousSibling.nodeName,o=o.nextSibling&&"SPAN"==o.nextSibling.nodeName,n&&o))return}else if(1==i&&(1==(r=e.childNodes).length&&r[0]&&1==r[0].nodeType&&"bookmark"==r[0].getAttribute("data-mce-type")&&e.parentNode.insertBefore(r[0],e),r.length||/^(br|hr|input|img)$/i.test(e.nodeName)))return;a.remove(e)}return e}}if(e&&t)return o.setStart(e.parentNode,a.nodeIndex(e)),o.setEnd(t.parentNode,a.nodeIndex(t)),r=o.extractContents(),(o=a.createRng()).setStart(t.parentNode,a.nodeIndex(t)+1),o.setEnd(e.parentNode,a.nodeIndex(e)+1),o=o.extractContents(),(i=e.parentNode).insertBefore(s(r),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(s(o),e),a.remove(e),n||t},bind:function(e,t,n,r){var i=this;if(a.isArray(e)){for(var o=e.length;o--;)e[o]=i.bind(e[o],t,n,r);return e}return!i.settings.collect||e!==i.doc&&e!==i.win||i.boundEvents.push([e,t,n,r]),i.events.bind(e,t,n,r||i)},unbind:function(e,t,n){var r,i=this;if(a.isArray(e)){for(r=e.length;r--;)e[r]=i.unbind(e[r],t,n);return e}if(i.boundEvents&&(e===i.doc||e===i.win))for(r=i.boundEvents.length;r--;){var o=i.boundEvents[r];e!=o[0]||t&&t!=o[1]||n&&n!=o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&&1==e.nodeType?(t=e.getAttribute("data-mce-contenteditable"))&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null:null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&&e!==t&&null===(n=this.getContentEditable(e));e=e.parentNode);return n},destroy:function(){var e=this;if(e.boundEvents){for(var t=e.boundEvents.length;t--;){var n=e.boundEvents[t];this.events.unbind(n[0],n[1],n[2])}e.boundEvents=null}i.setDocument&&i.setDocument(),e.win=e.doc=e.root=e.events=e.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var r=this,i=t;if(e)for("string"==typeof t&&(i=function(e){return r.is(e,t)}),e=e[n];e;e=e[n])if(i(e))return e;return null}},x.DOM=new x(document),x.nodeIndex=n,x}),r("tinymce.core.util.Fun",[],function(){var r=[].slice;function n(e){var t=r.call(arguments);return t.length-1>=e.length?e.apply(this,t.slice(1)):function(){var e=t.concat([].slice.call(arguments));return n.apply(this,e)}}return{constant:function(e){return function(){return e}},negate:function(t){return function(e){return!t(e)}},and:function(){var n=r.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}},or:function(){var n=r.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}},curry:n,compose:function(t,n){return function(e){return t(n(e))}},noop:function(){}}}),r("tinymce.core.text.Zwsp",[],function(){var t="\ufeff";return{isZwsp:function(e){return e===t},ZWSP:t,trim:function(e){return e.replace(new RegExp(t,"g"),"")}}}),r("tinymce.core.caret.CaretContainer",["tinymce.core.dom.NodeType","tinymce.core.text.Zwsp"],function(n,o){var t=n.isElement,a=n.isText;function r(e){return a(e)&&(e=e.parentNode),t(e)&&e.hasAttribute("data-mce-caret")}function i(e){return a(e)&&o.isZwsp(e.data)}function s(e){return r(e)||i(e)}function c(e){return a(e)&&e.data[0]==o.ZWSP}function l(e){return a(e)&&e.data[e.data.length-1]==o.ZWSP}return{isCaretContainer:s,isCaretContainerBlock:r,isCaretContainerInline:i,showCaretContainerBlock:function(e){var t;return e&&e.hasAttribute("data-mce-caret")?(t=(t=(t=e).getElementsByTagName("br"))[t.length-1],n.isBogus(t)&&t.parentNode.removeChild(t),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},insertInline:function(e,t){var n,r=e.ownerDocument.createTextNode(o.ZWSP),i=e.parentNode;if(t){if(n=e.previousSibling,a(n)){if(s(n))return n;if(l(n))return n.splitText(n.data.length-1)}i.insertBefore(r,e)}else{if(n=e.nextSibling,a(n)){if(s(n))return n;if(c(n))return n.splitText(1),n}e.nextSibling?i.insertBefore(r,e.nextSibling):i.appendChild(r)}return r},prependInline:function(e){var t;return n.isText(e)?(0<(t=e.data).length&&t.charAt(0)!==o.ZWSP&&e.insertData(0,o.ZWSP),e):null},appendInline:function(e){var t;return n.isText(e)?(0<(t=e.data).length&&t.charAt(t.length-1)!==o.ZWSP&&e.insertData(t.length,o.ZWSP),e):null},isBeforeInline:function(e){return e&&n.isText(e.container())&&e.container().data.charAt(e.offset())===o.ZWSP},isAfterInline:function(e){return e&&n.isText(e.container())&&e.container().data.charAt(e.offset()-1)===o.ZWSP},insertBlock:function(e,t,n){var r;return(e=t.ownerDocument.createElement(e)).setAttribute("data-mce-caret",n?"before":"after"),e.setAttribute("data-mce-bogus","all"),e.appendChild(((r=document.createElement("br")).setAttribute("data-mce-bogus","1"),r)),r=t.parentNode,n?r.insertBefore(e,t):t.nextSibling?r.insertBefore(e,t.nextSibling):r.appendChild(e),e},hasContent:function(e){return e.firstChild!==e.lastChild||!n.isBr(e.firstChild)},startsWithCaretContainer:c,endsWithCaretContainer:l}}),r("tinymce.core.dom.RangeUtils",["tinymce.core.util.Tools","tinymce.core.dom.TreeWalker","tinymce.core.dom.NodeType","tinymce.core.dom.Range","tinymce.core.caret.CaretContainer"],function(o,v,e,t,n){var g=o.each,r=e.isContentEditableTrue,b=e.isContentEditableFalse,x=n.isCaretContainer;function a(e){return r(e)||b(e)}function s(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}function C(e,t,n){return null!==s(e,t,n)}function w(e){return"_mce_caret"===e.id}function i(y){this.walk=function(e,i){var t,o,a,s,n,r,c=e.startContainer,l=e.startOffset,u=e.endContainer,d=e.endOffset,e=y.select("td[data-mce-selected],th[data-mce-selected]");if(0<e.length)g(e,function(e){i([e])});else{if(1==c.nodeType&&c.hasChildNodes()&&(c=c.childNodes[l]),1==u.nodeType&&u.hasChildNodes()&&(e=d,r=(n=u).childNodes,--e>r.length-1?e=r.length-1:e<0&&(e=0),u=r[e]||n),c==u)return i(f([c]));for(t=y.findCommonAncestor(c,u),o=c;o;o=o.parentNode){if(o===u)return p(c,t,!0);if(o===t)break}for(o=u;o;o=o.parentNode){if(o===c)return p(u,t);if(o===t)break}r=h(c,t)||c,e=h(u,t)||u,p(c,r,!0),(s=m(r==c?r:r.nextSibling,"nextSibling",e==u?e.nextSibling:e)).length&&i(f(s)),p(u,e)}function f(e){var t=e[0];return 3===t.nodeType&&t===c&&l>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===d&&0<e.length&&t===u&&3===t.nodeType&&e.splice(e.length-1,1),e}function m(e,t,n){for(var r=[];e&&e!=n;e=e[t])r.push(e);return r}function h(e,t){do{if(e.parentNode==t)return e}while(e=e.parentNode)}function p(e,t,n){var r=n?"nextSibling":"previousSibling";for(a=(o=e).parentNode;o&&o!=t;o=a)a=o.parentNode,(s=m(o==e?o:o[r],r)).length&&(n||s.reverse(),i(f(s)))}},this.split=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,e=e.endOffset;function i(e,t){return e.splitText(t)}return t==r&&3==t.nodeType?0<n&&n<t.nodeValue.length&&(t=(r=i(t,n)).previousSibling,n<e?(t=r=i(r,e-=n).previousSibling,e=r.nodeValue.length,n=0):e=0):(3==t.nodeType&&0<n&&n<t.nodeValue.length&&(t=i(t,n),n=0),3==r.nodeType&&0<e&&e<r.nodeValue.length&&(e=(r=i(r,e).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:e}},this.normalize=function(h){var p,g=!1;function e(e){var s,c,t,l,u,n,d,r,i,o,f=y.getRoot();function a(e,t){for(var n=new v(e,y.getParent(e.parentNode,y.isBlock)||f);e=n[t?"prev":"next"]();)if("BR"===e.nodeName)return 1}function m(e,t){var n,r,i,o,a;if(t=t||s,i=y.getParent(t.parentNode,y.isBlock)||f,e&&"BR"==t.nodeName&&d&&y.isEmpty(i))s=t.parentNode,c=y.nodeIndex(t),g=!0;else{for(n=new v(t,i);l=n[e?"prev":"next"]();){if("false"===y.getContentEditableParent(l)||(o=l,a=y.getRoot(),x(o)&&!1===C(o,a,w)))return;if(3===l.nodeType&&0<l.nodeValue.length)return void(!1===function(e,t,n){return C(e,t,function(e){return e.nodeName===n})}(l,f,"A")&&(s=l,c=e?l.nodeValue.length:0,g=!0));if(y.isBlock(l)||u[l.nodeName.toLowerCase()])return;r=l}p&&r&&(s=r,g=!0,c=0)}}if(s=h[(e?"start":"end")+"Container"],c=h[(e?"start":"end")+"Offset"],d=1==s.nodeType&&c===s.childNodes.length,u=y.schema.getNonEmptyElements(),n=e,!x(s)){if(1==s.nodeType&&c>s.childNodes.length-1&&(n=!1),9===s.nodeType&&(s=y.getRoot(),c=0),s===f){if(n&&(l=s.childNodes[0<c?c-1:0])){if(x(l))return;if(u[l.nodeName]||"TABLE"==l.nodeName)return}if(s.hasChildNodes()){if(c=Math.min(!n&&0<c?c-1:c,s.childNodes.length-1),s=s.childNodes[c],c=0,!p&&s===f.lastChild&&"TABLE"===s.nodeName)return;if(function(e){for(;e&&e!=f;){if(b(e))return 1;e=e.parentNode}}(s)||x(s))return;if(s.hasChildNodes()&&!/TABLE/.test(s.nodeName)){t=new v(l=s,f);do{if(b(l)||x(l)){g=!1;break}if(3===l.nodeType&&0<l.nodeValue.length){c=n?0:l.nodeValue.length,s=l,g=!0;break}if(u[l.nodeName.toLowerCase()]&&(!(r=l)||!/^(TD|TH|CAPTION)$/.test(r.nodeName))){c=y.nodeIndex(l),s=l.parentNode,"IMG"!==l.nodeName&&"PRE"!==l.nodeName||n||c++,g=!0;break}}while(l=n?t.next():t.prev())}}}p&&(3===s.nodeType&&0===c&&m(!0),1!==s.nodeType||!(l=(l=s.childNodes[c])||s.childNodes[c-1])||"BR"!==l.nodeName||(o="A",(i=l).previousSibling&&i.previousSibling.nodeName==o)||a(l)||a(l,!0)||m(!0,l)),n&&!p&&3===s.nodeType&&c===s.nodeValue.length&&m(!1),g&&h["set"+(e?"Start":"End")](s,c)}}return p=h.collapsed,e(!0),p||e(),g&&p&&h.collapse(!0),g}}return i.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1},i.getCaretRangeFromPoint=function(t,n,r){var i,e;if(r.caretPositionFromPoint)e=r.caretPositionFromPoint(t,n),(i=r.createRange()).setStart(e.offsetNode,e.offset),i.collapse(!0);else if(r.caretRangeFromPoint)i=r.caretRangeFromPoint(t,n);else if(r.body.createTextRange){i=r.body.createTextRange();try{i.moveToPoint(t,n),i.collapse(!0)}catch(e){i=function(e,n,t){var r=t.elementFromPoint(e,n),i=t.body.createTextRange();if(r&&"HTML"!=r.tagName||(r=t.body),i.moveToElementText(r),0<(t=(t=o.toArray(i.getClientRects())).sort(function(e,t){return(e=Math.abs(Math.max(e.top-n,e.bottom-n)))-(t=Math.abs(Math.max(t.top-n,t.bottom-n)))})).length){n=(t[0].bottom+t[0].top)/2;try{return i.moveToPoint(e,n),i.collapse(!0),i}catch(e){}}return null}(t,n,r)}return e=i,t=r.body,n=e&&e.parentElement?e.parentElement():null,b(s(n,t,a))?null:e}return i},i.getSelectedNode=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset==n+1?t.childNodes[n]:null},i.getNode=function(e,t){return 1==e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},i}),r("tinymce.core.caret.CaretCandidate",["tinymce.core.dom.NodeType","tinymce.core.util.Arr","tinymce.core.caret.CaretContainer"],function(e,t,n){var r=e.isContentEditableTrue,i=e.isContentEditableFalse,o=e.isBr,a=e.isText,s=e.matchNodeNames("script style textarea"),c=e.matchNodeNames("img input textarea hr iframe video audio object"),l=e.matchNodeNames("table"),u=n.isCaretContainer;function d(e){return!u(e)&&(a(e)?!s(e.parentNode):c(e)||o(e)||l(e)||i(e))}function f(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode){if(i(e))return!1;if(r(e))return!0}return!0}return{isCaretCandidate:d,isInEditable:f,isAtomic:function(e){return c(e)||!!i(e=e)&&!0!==t.reduce(e.getElementsByTagName("*"),function(e,t){return e||r(t)},!1)},isEditableCaretCandidate:function(e,t){return d(e)&&f(e,t)}}}),r("tinymce.core.geom.ClientRect",[],function(){var t=Math.round;function n(e){return e?{left:t(e.left),top:t(e.top),bottom:t(e.bottom),right:t(e.right),width:t(e.width),height:t(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function r(e,t,n){return 0<=e&&e<=Math.min(t.height,n.height)/2}function i(e,t){return e.bottom-e.height/2<t.top||!(e.top>t.bottom)&&r(t.top-e.bottom,e,t)}function o(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&r(t.bottom-e.top,e,t)}function a(e,t){return e.left<t.left}function s(e,t){return e.right>t.right}return{clone:n,collapse:function(e,t){return e=n(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},isEqual:function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},isAbove:i,isBelow:o,isLeft:a,isRight:s,compare:function(e,t){return i(e,t)?-1:o(e,t)?1:a(e,t)?-1:s(e,t)?1:0},containsXY:function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}}}),r("tinymce.core.text.ExtendingChar",[],function(){var t=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]");return{isExtendingChar:function(e){return"string"==typeof e&&768<=e.charCodeAt(0)&&t.test(e)}}}),r("tinymce.core.caret.CaretPosition",["tinymce.core.util.Fun","tinymce.core.dom.NodeType","tinymce.core.dom.DOMUtils","tinymce.core.dom.RangeUtils","tinymce.core.caret.CaretCandidate","tinymce.core.geom.ClientRect","tinymce.core.text.ExtendingChar"],function(i,t,n,e,r,s,c){var l=t.isElement,r=r.isCaretCandidate,u=t.matchStyleValues("display","block table"),o=t.matchStyleValues("float","left right"),d=i.and(l,r,i.negate(o)),a=i.negate(t.matchStyleValues("white-space","pre pre-line pre-wrap")),f=t.isText,m=t.isBr,h=n.nodeIndex,p=e.getNode;function g(e){return"createRange"in e?e.createRange():n.DOM.createRng()}function y(e){return e&&/[\r\n\t ]/.test(e)}function v(e){var t=e.startContainer,n=e.startOffset;return!(!y(e.toString())||!a(t.parentNode)||!y((e=t.data)[n-1])&&!y(e[n+1]))}function b(e){var t,n=[];function r(e){var t,n,r,i=e.getClientRects(),i=0<i.length?s.clone(i[0]):s.clone(e.getBoundingClientRect());return m(e)&&0===i.left?(t=g(n=(e=e).ownerDocument),n=n.createTextNode(""),(r=e.parentNode).insertBefore(n,e),t.setStart(n,0),t.setEnd(n,1),e=s.clone(t.getBoundingClientRect()),r.removeChild(n),e):i}function i(e,t){return(e=s.collapse(e,t)).width=1,e.right=e.left+1,e}function o(e){0===e.height||0<n.length&&s.isEqual(e,n[n.length-1])||n.push(e)}function a(e,t){var n=g(e.ownerDocument);if(t<e.data.length){if(c.isExtendingChar(e.data[t]))return;if(c.isExtendingChar(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!v(n)))return void o(i(r(n),!1))}0<t&&(n.setStart(e,t-1),n.setEnd(e,t),v(n)||o(i(r(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),v(n)||o(i(r(n),!0)))}if(f(e.container()))a(e.container(),e.offset());else if(l(e.container()))if(e.isAtEnd())t=p(e.container(),e.offset()),f(t)&&a(t,t.data.length),d(t)&&!m(t)&&o(i(r(t),!1));else{if(t=p(e.container(),e.offset()),f(t)&&a(t,0),d(t)&&e.isAtEnd())return o(i(r(t),!1)),n;e=p(e.container(),e.offset()-1),!d(e)||m(e)||!u(e)&&!u(t)&&d(t)||o(i(r(e),!1)),d(t)&&o(i(r(t),!0))}return n}function x(t,n,e){function r(){return e=e||b(new x(t,n))}return{container:i.constant(t),offset:i.constant(n),toRange:function(){var e=g(t.ownerDocument);return e.setStart(t,n),e.setEnd(t,n),e},getClientRects:r,isVisible:function(){return 0<r().length},isAtStart:function(){return f(t),0===n},isAtEnd:function(){return f(t)?n>=t.data.length:n>=t.childNodes.length},isEqual:function(e){return e&&t===e.container()&&n===e.offset()},getNode:function(e){return p(t,e?n-1:n)}}}return x.fromRangeStart=function(e){return new x(e.startContainer,e.startOffset)},x.fromRangeEnd=function(e){return new x(e.endContainer,e.endOffset)},x.after=function(e){return new x(e.parentNode,h(e)+1)},x.before=function(e){return new x(e.parentNode,h(e))},x.isAtStart=function(e){return!!e&&e.isAtStart()},x.isAtEnd=function(e){return!!e&&e.isAtEnd()},x.isTextPosition=function(e){return!!e&&t.isText(e.container())},x}),r("tinymce.core.caret.CaretBookmark",["tinymce.core.dom.NodeType","tinymce.core.dom.DOMUtils","tinymce.core.util.Fun","tinymce.core.util.Arr","tinymce.core.caret.CaretPosition"],function(c,e,a,l,u){var d=c.isText,n=c.isBogus,f=e.nodeIndex;function m(e){return e?l.reduce(e.childNodes,function(e,t){return n(t)&&"BR"!=t.nodeName?e=e.concat(m(t)):e.push(t),e},[]):[]}function i(t){return function(e){return t===e}}function r(e){var r=m(function e(t){t=t.parentNode;return n(t)?e(t):t}(e)),t=l.findIndex(r,i(e),e);return r=r.slice(0,t+1),t=l.reduce(r,function(e,t,n){return d(t)&&d(r[n-1])&&e++,e},0),r=l.filter(r,c.matchNodeNames(e.nodeName)),l.findIndex(r,i(e),e)-t}function s(e){var t=d(e)?"text()":e.nodeName.toLowerCase();return t+"["+r(e)+"]"}return{create:function(e,t){var n,r,i=[],o=t.container(),t=t.offset();return d(o)?n=function(e,t){for(;(e=e.previousSibling)&&d(e);)t+=e.data.length;return t}(o,t):(t>=(r=o.childNodes).length?(n="after",t=r.length-1):n="before",o=r[t]),i.push(s(o)),r=function(e,t,n){var r=[];for(t=t.parentNode;t!=e&&(!n||!n(t));t=t.parentNode)r.push(t);return r}(e,o),r=l.filter(r,a.negate(c.isBogus)),(i=i.concat(l.map(r,s))).reverse().join("/")+","+n},resolve:function(e,t){var n;if(!t)return null;if(t=(n=t.split(","))[0].split("/"),n=1<n.length?n[1]:"before",!(t=l.reduce(t,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),e=e,n=t[1],t=parseInt(t[2],10),r=m(e),r=l.filter(r,function(e,t){return!d(e)||!d(r[t-1])}),(r=l.filter(r,c.matchNodeNames(n)))[t]):null;var n,r},e)))return null;if(d(t)){for(var r,i=t,o=parseInt(n,10),a=i,s=0;d(a);){if(r=a.data.length,s<=o&&o<=s+r){i=a,o-=s;break}if(!d(a.nextSibling)){i=a,o=r;break}s+=r,a=a.nextSibling}return o>i.data.length&&(o=i.data.length),new u(i,o)}return n="after"===n?f(t)+1:f(t),new u(t.parentNode,n)}}}),r("tinymce.core.dom.BookmarkManager",["tinymce.core.caret.CaretBookmark","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.Env","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],function(p,g,y,v,b,f,x,C){function w(e){v.isText(e)&&0===e.data.length&&e.parentNode.removeChild(e)}var k=v.isContentEditableFalse;function e(m){var h=m.dom;this.getBookmark=function(e,a){var t,n,r,i="&#xFEFF;";function o(e,t){var n=0;return C.each(h.select(e),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!=t&&void n++}),n}function s(i){function e(e){var t,n=e?"start":"end",r=i[n+"Container"],n=i[n+"Offset"];1==r.nodeType&&"TR"==r.nodeName&&(r=(t=r.childNodes)[Math.min(e?n:n-1,t.length-1)])&&(n=e?0:r.childNodes.length,i["set"+(e?"Start":"End")](r,n))}return e(!0),e(),i}function c(e){var o=h.getRoot(),t={};function n(e,t){var n,r=e[t?"startContainer":"endContainer"],e=e[t?"startOffset":"endOffset"],i=[],t=0;for(3===r.nodeType?i.push(a?function(e,t){for(var n=x.trim(e.data.slice(0,t)).length,r=e.previousSibling;r&&3===r.nodeType;r=r.previousSibling)n+=x.trim(r.data).length;return n}(r,e):e):(e>=(n=r.childNodes).length&&n.length&&(t=1,e=Math.max(0,n.length-1)),i.push(h.nodeIndex(n[e],a)+t));r&&r!=o;r=r.parentNode)i.push(h.nodeIndex(r,a));return i}return t.start=n(e,!0),m.isCollapsed()||(t.end=n(e)),t}if(2==e)return u=(f=m.getNode())?f.nodeName:null,t=m.getRng(),k(f)||"IMG"==u?{name:u,index:o(u,f)}:m.tridentSel?m.tridentSel.getBookmark(e):(f=l((r=t).startContainer,r.startOffset)||l(r.endContainer,r.endOffset))?{name:u=f.tagName,index:o(u,f)}:c(t);function l(e,t){return v.isElement(e)&&(e=b.getNode(e,t),k(e))?e:g.isCaretContainer(e)&&(t=(e=v.isText(e)&&g.isCaretContainerBlock(e)?e.parentNode:e).previousSibling,k(t)||(t=e.nextSibling,k(t)))?t:void 0}if(3==e)return t=m.getRng(),{start:p.create(h.getRoot(),y.fromRangeStart(t)),end:p.create(h.getRoot(),y.fromRangeEnd(t))};if(e)return{rng:m.getRng()};if(t=m.getRng(),r=h.uniqueId(),e=m.isCollapsed(),n="overflow:hidden;line-height:0px",t.duplicate||t.item){if(t.item)return{name:u=(f=t.item(0)).nodeName,index:o(u,f)};d=t.duplicate();try{t.collapse(),t.pasteHTML('<span data-mce-type="bookmark" id="'+r+'_start" style="'+n+'">'+i+"</span>"),e||(d.collapse(!1),t.moveToElementText(d.parentElement()),0===t.compareEndPoints("StartToEnd",d)&&d.move("character",-1),d.pasteHTML('<span data-mce-type="bookmark" id="'+r+'_end" style="'+n+'">'+i+"</span>"))}catch(e){return null}}else{if("IMG"==(u=(f=m.getNode()).nodeName))return{name:u,index:o(u,f)};var u,d=s(t.cloneRange()),f=(e||(d.collapse(!1),u=h.create("span",{"data-mce-type":"bookmark",id:r+"_end",style:n},i),d.insertNode(u),w(u.nextSibling)),(t=s(t)).collapse(!0),h.create("span",{"data-mce-type":"bookmark",id:r+"_start",style:n},i));t.insertNode(f),w(f.previousSibling)}return m.moveToBookmark({id:r,keep:1}),{id:r}},this.moveToBookmark=function(a){var s,c,o,l,u,d,e,t;function n(e){var t,n,r,i,o=a[e?"start":"end"];if(o){for(r=o[0],n=c,t=o.length-1;1<=t;t--){if(i=n.childNodes,o[t]>i.length-1)return;n=i[o[t]]}3===n.nodeType&&(r=Math.min(o[0],n.nodeValue.length)),1===n.nodeType&&(r=Math.min(o[0],n.childNodes.length)),e?s.setStart(n,r):s.setEnd(n,r)}return 1}function r(e){var t,n,r=h.get(a.id+"_"+e),i=a.keep;if(r&&(n=r.parentNode,"start"==e?(t=i?(n=r.firstChild,1):h.nodeIndex(r),o=l=n,u=d=t):(t=i?(n=r.firstChild,1):h.nodeIndex(r),l=n,d=t),!i)){for(n=r.previousSibling,i=r.nextSibling,C.each(C.grep(r.childNodes),function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});r=h.get(a.id+"_"+e);)h.remove(r,1);n&&i&&n.nodeType==i.nodeType&&3==n.nodeType&&!f.opera&&(t=n.nodeValue.length,n.appendData(i.nodeValue),h.remove(i),"start"==e?(o=l=n,u=d=t):(l=n,d=t))}}function i(e){return!h.isBlock(e)||e.innerHTML||f.ie||(e.innerHTML='<br data-mce-bogus="1" />'),e}if(a)if(C.isArray(a.start)){if(s=h.createRng(),c=h.getRoot(),m.tridentSel)return m.tridentSel.moveToBookmark(a);n(!0)&&n()&&m.setRng(s)}else"string"==typeof a.start?m.setRng((e=h.createRng(),t=p.resolve(h.getRoot(),a.start),e.setStart(t.container(),t.offset()),t=p.resolve(h.getRoot(),a.end),e.setEnd(t.container(),t.offset()),e)):a.id?(r("start"),r("end"),o&&((s=h.createRng()).setStart(i(o),u),s.setEnd(i(l),d),m.setRng(s))):a.name?m.select(h.select(a.name)[a.index]):a.rng&&m.setRng(a.rng)}}return e.isBookmarkNode=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},e}),r("tinymce.core.dom.ElementUtils",["tinymce.core.dom.BookmarkManager","tinymce.core.util.Tools"],function(o,e){var a=e.each;return function(i){this.compare=function(e,t){return e.nodeName==t.nodeName&&(!!r(n(e),n(t))&&(!!r(i.parseStyle(i.getAttrib(e,"style")),i.parseStyle(i.getAttrib(t,"style")))&&(!o.isBookmarkNode(e)&&!o.isBookmarkNode(t))));function n(t){var n={};return a(i.getAttribs(t),function(e){e=e.nodeName.toLowerCase();0!==e.indexOf("_")&&"style"!==e&&0!==e.indexOf("data-")&&(n[e]=i.getAttrib(t,e))}),n}function r(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(void 0===(n=t[r]))return;if(e[r]!=n)return;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return;return 1}}}}),r("tinymce.core.caret.CaretUtils",["tinymce.core.util.Fun","tinymce.core.dom.TreeWalker","tinymce.core.dom.NodeType","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretCandidate"],function(e,a,c,t,l,n){var r=c.isContentEditableTrue,u=c.isContentEditableFalse,i=c.matchStyleValues("display","block table table-cell table-caption list-item"),d=l.isCaretContainer,s=l.isCaretContainerBlock,f=e.curry,m=c.isElement,h=n.isCaretCandidate;function o(e){return 0<e}function p(e){return e<0}function g(e,t){for(var n;n=e(t);)if(!s(n))return n;return null}function y(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode)if(r(e))return e;return t}function v(e,t){for(;e&&e!=t;){if(i(e))return e;e=e.parentNode}return null}function b(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n}function x(e,t,n){for(var r,i,o,a=e?"previousSibling":"nextSibling";n&&n!=t;){if(r=n[a],d(r)&&(r=r[a]),u(r)){if(o=n,v(r,i=t)==v(o,i))return r;break}if(h(r))break;n=n.parentNode}return null}var C=f(b,!0),w=f(b,!1);function k(e,t){return u((e=e,(t=t)&&(n=t.container(),t=t.offset(),m(n))?n.childNodes[t+e]:null));var n}return{isForwards:o,isBackwards:p,findNode:function(e,t,n,r,i){var o=new a(e,r);if(t<0){if((u(e)||s(e))&&n(e=g(o.prev,!0)))return e;for(;e=g(o.prev,i);)if(n(e))return e}if(0<t){if((u(e)||s(e))&&n(e=g(o.next,!0)))return e;for(;e=g(o.next,i);)if(n(e))return e}return null},getEditingHost:y,getParentBlock:v,isInSameBlock:function(e,t,n){return v(e.container(),n)==v(t.container(),n)},isInSameEditingHost:function(e,t,n){return y(e.container(),n)==y(t.container(),n)},isBeforeContentEditableFalse:f(k,0),isAfterContentEditableFalse:f(k,-1),normalizeRange:function(e,t,n){var r,i,o=f(x,!0,t),t=f(x,!1,t),a=n.startContainer,s=n.startOffset;if(l.isCaretContainerBlock(a)){if("before"==(i=(a=m(a)?a:a.parentNode).getAttribute("data-mce-caret"))&&(r=a.nextSibling,u(r)))return C(r);if("after"==i&&(r=a.previousSibling,u(r)))return w(r)}if(n.collapsed&&c.isText(a)){if(d(a)){if(1===e){if(r=t(a))return C(r);if(r=o(a))return w(r)}if(-1===e){if(r=o(a))return w(r);if(r=t(a))return C(r)}return n}if(l.endsWithCaretContainer(a)&&s>=a.data.length-1)return 1===e&&(r=t(a))?C(r):n;if(l.startsWithCaretContainer(a)&&s<=1)return-1===e&&(r=o(a))?w(r):n;if(s===a.data.length)return(r=t(a))?C(r):n;if(0===s)return(r=o(a))?w(r):n}return n}}}),r("tinymce.core.caret.CaretWalker",["tinymce.core.dom.NodeType","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.util.Arr","tinymce.core.util.Fun"],function(u,e,d,f,m,h){var p=u.isContentEditableFalse,g=u.isText,y=u.isElement,v=u.isBr,b=f.isForwards,x=f.isBackwards,C=e.isCaretCandidate,w=e.isAtomic,k=e.isEditableCaretCandidate;function E(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null}function S(e,t){if(b(e)){if(C(t.previousSibling)&&!g(t.previousSibling))return d.before(t);if(g(t))return d(t,0)}if(x(e)){if(C(t.nextSibling)&&!g(t.nextSibling))return d.after(t);if(g(t))return d(t,t.data.length)}return!x(e)||v(t)?d.before(t):d.after(t)}function N(e,t,n){var r,i,o,a,s,c,l;if(!y(n)||!t)return null;if(t.isEqual(d.after(n))&&n.lastChild){if(a=d.after(n.lastChild),x(e)&&C(n.lastChild)&&y(n.lastChild))return v(n.lastChild)?d.before(n.lastChild):a}else a=t;if(t=a.container(),s=a.offset(),g(t)){if(x(e)&&0<s)return d(t,--s);if(b(e)&&s<t.length)return d(t,++s);r=t}else{if(x(e)&&0<s&&(i=E(t,s-1),C(i)))return!w(i)&&(o=f.findNode(i,e,k,i))?g(o)?d(o,o.data.length):d.after(o):g(i)?d(i,i.data.length):d.before(i);if(b(e)&&s<t.childNodes.length&&(i=E(t,s),C(i)))return s=i,c=n,u.isBr(s)&&((l=N(1,d.after(s),c))&&!f.isInSameBlock(d.before(s),d.before(l),c))?N(e,d.after(i),n):!w(i)&&(o=f.findNode(i,e,k,i))?g(o)?d(o,0):d.before(o):g(i)?d(i,0):d.after(i);r=a.getNode()}return(b(e)&&a.isAtEnd()||x(e)&&a.isAtStart())&&(r=f.findNode(r,e,h.constant(!0),n,!0),k(r))?S(e,r):(i=f.findNode(r,e,k,n),!(s=m.last(m.filter(function(e,t){for(var n=[];e&&e!=t;)n.push(e),e=e.parentNode;return n}(t,n),p)))||i&&s.contains(i)?i?S(e,i):null:b(e)?d.after(s):d.before(s))}return function(t){return{next:function(e){return N(1,e,t)},prev:function(e){return N(-1,e,t)}}}}),r("tinymce.core.caret.CaretFinder",["ephox.katamari.api.Fun","ephox.katamari.api.Option","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.dom.NodeType"],function(e,a,i,o,s,r,c){function t(e,t){var n,r=e?t.firstChild:t.lastChild;return c.isText(r)?a.some(new o(r,e?0:r.data.length)):r?i.isCaretCandidate(r)?a.some(e?o.before(r):(n=r,c.isBr(n)?o.before(n):o.after(n))):(n=t,t=r,t=(r=e)?o.before(t):o.after(t),m(r,n,t)):a.none()}var l=function(e){return o.isTextPosition(e)?0===e.offset():i.isCaretCandidate(e.getNode())},u=function(e){return o.isTextPosition(e)?e.offset()===e.container().data.length:i.isCaretCandidate(e.getNode(!0))},d=function(e,t){return!o.isTextPosition(e)&&!o.isTextPosition(t)&&e.getNode()===t.getNode(!0)},f=function(e){return!o.isTextPosition(e)&&c.isBr(e.getNode())},m=function(e,t,n){t=new r(t);return a.from(e?t.next(n):t.prev(n))};return{fromPosition:m,nextPosition:e.curry(m,!0),prevPosition:e.curry(m,!1),navigate:function(r,i,o){return m(r,i,o).bind(function(e){return s.isInSameBlock(o,e,i)&&(t=o,n=e,r?!d(t,n)&&!f(t)&&u(t)&&l(n):!d(n,t)&&l(t)&&u(n))?m(r,i,e):a.some(e);var t,n})},positionIn:t,firstPositionIn:e.curry(t,!0),lastPositionIn:e.curry(t,!1)}}),r("tinymce.core.dom.RangeNormalizer",["tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.dom.NodeType"],function(e,t,l,n){var r=function(o){var a=t.fromRangeStart(o),s=t.fromRangeEnd(o),c=o.commonAncestorContainer;return e.fromPosition(!1,c,s).map(function(e){return!l.isInSameBlock(a,s,c)&&l.isInSameBlock(a,e,c)?(t=a.container(),n=a.offset(),r=e.container(),e=e.offset(),(i=document.createRange()).setStart(t,n),i.setEnd(r,e),i):o;var t,n,r,i}).getOr(o)},i=function(e){return t=e.endContainer,n.isElement(t)&&/^(P|H[1-6]|DIV|LI|DT|DD)$/.test(t.nodeName)&&0===e.endOffset;var t};return{normalize:function(e){return(e=e).collapsed&&i(e)?e:r(e)}}}),r("global!console",[],function(){return console="undefined"==typeof console?{log:function(){}}:console}),t("global!document",document),r("ephox.sugar.api.node.Element",["ephox.katamari.api.Fun","global!Error","global!console","global!document"],function(t,n,r,i){function o(e){if(null==e)throw new n("Node cannot be null or undefined");return{dom:t.constant(e)}}return{fromHtml:function(e,t){t=(t||i).createElement("div");if(t.innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw r.error("HTML does not have a single root node",e),"HTML must have a single root node";return o(t.childNodes[0])},fromTag:function(e,t){t=(t||i).createElement(e);return o(t)},fromText:function(e,t){t=(t||i).createTextNode(e);return o(t)},fromDom:o}}),r("ephox.katamari.api.Type",["global!Array","global!String"],function(r,i){function e(n){return function(e){return(null===(e=e)?"null":"object"==(t=typeof e)&&r.prototype.isPrototypeOf(e)?"array":"object"==t&&i.prototype.isPrototypeOf(e)?"string":t)===n;var t}}return{isString:e("string"),isObject:e("object"),isArray:e("array"),isNull:e("null"),isBoolean:e("boolean"),isUndefined:e("undefined"),isFunction:e("function"),isNumber:e("number")}}),r("ephox.katamari.data.Immutable",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","global!Array","global!Error"],function(i,o,a,s){return function(){var t=arguments;return function(){for(var n=new a(arguments.length),e=0;e<n.length;e++)n[e]=arguments[e];if(t.length!==n.length)throw new s('Wrong number of arguments to struct. Expected "['+t.length+']", got '+n.length+" arguments");var r={};return i.each(t,function(e,t){r[e]=o.constant(n[t])}),r}}}),r("ephox.katamari.api.Obj",["ephox.katamari.api.Option","global!Object"],function(s,e){function t(n,r){var i={};return o(n,function(e,t){e=r(e,t,n);i[e.k]=e.v}),i}function n(e,n){var r=[];return o(e,function(e,t){r.push(n(e,t))}),r}function r(e){return n(e,function(e){return e})}var c=void 0===(e=e.keys)?function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n}:e,o=function(e,t){for(var n=c(e),r=0,i=n.length;r<i;r++){var o=n[r];t(e[o],o,e)}};return{bifilter:function(e,n){var r={},i={};return o(e,function(e,t){(n(e,t)?r:i)[t]=e}),{t:r,f:i}},each:o,map:function(e,r){return t(e,function(e,t,n){return{k:t,v:r(e,t,n)}})},mapToArray:n,tupleMap:t,find:function(e,t){for(var n=c(e),r=0,i=n.length;r<i;r++){var o=n[r],a=e[o];if(t(a,o,e))return s.some(a)}return s.none()},keys:c,values:r,size:function(e){return r(e).length}}}),r("ephox.katamari.util.BagUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Type","global!Error"],function(r,n,i){function o(e){return e.slice(0).sort()}return{sort:o,reqMessage:function(e,t){throw new i("All required keys ("+o(e).join(", ")+") were not specified. Specified keys were: "+o(t).join(", ")+".")},unsuppMessage:function(e){throw new i("Unsupported keys for object: "+o(e).join(", "))},validateStrArr:function(t,e){if(!n.isArray(e))throw new i("The "+t+" fields must be an array. Was: "+e+".");r.each(e,function(e){if(!n.isString(e))throw new i("The value "+e+" in the "+t+" fields was not a string.")})},invalidTypeMessage:function(e,t){throw new i("All values need to be of type: "+t+". Keys ("+o(e).join(", ")+") were not.")},checkDupes:function(e){var n=o(e);r.find(n,function(e,t){return t<n.length-1&&e===n[t+1]}).each(function(e){throw new i("The field: "+e+" occurs more than once in the combined fields: ["+n.join(", ")+"].")})}}}),r("ephox.katamari.data.MixedBag",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Obj","ephox.katamari.api.Option","ephox.katamari.util.BagUtils","global!Error","global!Object"],function(s,c,l,u,d,e,f){return function(i,o){var a=i.concat(o);if(0===a.length)throw new e("You must specify at least one required or optional field.");return d.validateStrArr("required",i),d.validateStrArr("optional",o),d.checkDupes(a),function(t){var n=l.keys(t),e=(s.forall(i,function(e){return s.contains(n,e)})||d.reqMessage(i,n),s.filter(n,function(e){return!s.contains(a,e)})),r=(0<e.length&&d.unsuppMessage(e),{});return s.each(i,function(e){r[e]=c.constant(t[e])}),s.each(o,function(e){r[e]=c.constant(f.prototype.hasOwnProperty.call(t,e)?u.some(t[e]):u.none())}),r}}}),r("ephox.katamari.api.Struct",["ephox.katamari.data.Immutable","ephox.katamari.data.MixedBag"],function(e,t){return{immutable:e,immutableBag:t}}),r("ephox.sugar.alien.Recurse",[],function(){return{toArray:function(e,t){function n(e){return r.push(e),t(e)}for(var r=[],i=t(e);(i=i.bind(n)).isSome(););return r}}}),r("ephox.katamari.api.Global",[],function(){return"undefined"!=typeof window?window:Function("return this;")()}),r("ephox.katamari.api.Resolve",["ephox.katamari.api.Global"],function(a){function n(e,t){for(var n=void 0!==t?t:a,r=0;r<e.length&&null!=n;++r)n=n[e[r]];return n}function r(e,t){for(var n,r,i=void 0!==t?t:a,o=0;o<e.length;++o)n=i,r=e[o],void 0!==n[r]&&null!==n[r]||(n[r]={}),i=n[r];return i}return{path:n,resolve:function(e,t){e=e.split(".");return n(e,t)},forge:r,namespace:function(e,t){e=e.split(".");return r(e,t)}}}),r("ephox.sand.util.Global",["ephox.katamari.api.Resolve"],function(n){return{getOrDie:function(e,t){t=n.resolve(e,t);if(void 0===t)throw e+" not available on this browser";return t}}}),r("ephox.sand.api.Node",["ephox.sand.util.Global"],function(e){function n(){return e.getOrDie("Node")}function r(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)}return{documentPositionPreceding:function(e,t){return r(e,t,n().DOCUMENT_POSITION_PRECEDING)},documentPositionContainedBy:function(e,t){return r(e,t,n().DOCUMENT_POSITION_CONTAINED_BY)}}}),r("ephox.katamari.api.Thunk",[],function(){return{cached:function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(null,arguments)),t}}}}),t("global!Number",Number),r("ephox.sand.detect.Version",["ephox.katamari.api.Arr","global!Number","global!String"],function(e,i,o){function a(){return c(0,0)}var s=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},c=function(e,t){return{major:e,minor:t}};return{nu:c,detect:function(e,t){var n,r,t=o(t).toLowerCase();return 0===e.length?a():(r=s(e=e,n=t))?c((e=function(e){return i(n.replace(r,"$"+e))})(1),e(2)):{major:0,minor:0}},unknown:a}}),r("ephox.sand.core.Browser",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],function(e,t){function n(e){var t=e.current;return{current:t,version:e.version,isEdge:l(r,t),isChrome:l(i,t),isIE:l(o,t),isOpera:l(a,t),isFirefox:l(s,t),isSafari:l(c,t)}}var r="Edge",i="Chrome",o="IE",a="Opera",s="Firefox",c="Safari",l=function(e,t){return function(){return t===e}};return{unknown:function(){return n({current:void 0,version:t.unknown()})},nu:n,edge:e.constant(r),chrome:e.constant(i),ie:e.constant(o),opera:e.constant(a),firefox:e.constant(s),safari:e.constant(c)}}),r("ephox.sand.core.OperatingSystem",["ephox.katamari.api.Fun","ephox.sand.detect.Version"],function(e,t){function n(e){var t=e.current;return{current:t,version:e.version,isWindows:u(r,t),isiOS:u(i,t),isAndroid:u(o,t),isOSX:u(s,t),isLinux:u(a,t),isSolaris:u(c,t),isFreeBSD:u(l,t)}}var r="Windows",i="iOS",o="Android",a="Linux",s="OSX",c="Solaris",l="FreeBSD",u=function(e,t){return function(){return t===e}};return{unknown:function(){return n({current:void 0,version:t.unknown()})},nu:n,windows:e.constant(r),ios:e.constant(i),android:e.constant(o),linux:e.constant(a),osx:e.constant(s),solaris:e.constant(c),freebsd:e.constant(l)}}),r("ephox.sand.detect.DeviceType",["ephox.katamari.api.Fun"],function(c){return function(e,t,n){var r=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!r,o=e.isAndroid()&&3===e.version.major,a=e.isAndroid()&&4===e.version.major,o=r||o||a&&!0===/mobile/i.test(n),a=e.isiOS()||e.isAndroid(),s=a&&!o,t=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n);return{isiPad:c.constant(r),isiPhone:c.constant(i),isTablet:c.constant(o),isPhone:c.constant(s),isTouch:c.constant(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:c.constant(t)}}}),r("ephox.sand.detect.UaString",["ephox.katamari.api.Arr","ephox.sand.detect.Version","global!String"],function(r,i,o){function t(e,t){var n=o(t).toLowerCase();return r.find(e,function(e){return e.search(n)})}return{detectBrowser:function(e,n){return t(e,n).map(function(e){var t=i.detect(e.versionRegexes,n);return{current:e.name,version:t}})},detectOs:function(e,n){return t(e,n).map(function(e){var t=i.detect(e.versionRegexes,n);return{current:e.name,version:t}})}}}),r("ephox.katamari.str.StrAppend",[],function(){return{addToStart:function(e,t){return t+e},addToEnd:function(e,t){return e+t},removeFromStart:function(e,t){return e.substring(t)},removeFromEnd:function(e,t){return e.substring(0,e.length-t)}}}),r("ephox.katamari.str.StringParts",["ephox.katamari.api.Option","global!Error"],function(t,e){return{first:function(e,t){return e.substr(0,t)},last:function(e,t){return e.substr(e.length-t,e.length)},head:function(e){return""===e?t.none():t.some(e.substr(0,1))},tail:function(e){return""===e?t.none():t.some(e.substring(1))}}}),r("ephox.katamari.api.Strings",["ephox.katamari.str.StrAppend","ephox.katamari.str.StringParts","global!Error"],function(n,r,e){function i(e,t){return a(e,t,0)}function o(e,t){return a(e,t,e.length-t.length)}var a=function(e,t,n){return""===t||!(e.length<t.length)&&e.substr(n,n+t.length)===t};return{supplant:function(e,n){return e.replace(/\${([^{}]*)}/g,function(e,t){t=n[t];return function(e){e=typeof e;return"string"==e||"number"==e}(t)?t:e})},startsWith:i,removeLeading:function(e,t){return i(e,t)?n.removeFromStart(e,t.length):e},removeTrailing:function(e,t){return o(e,t)?n.removeFromEnd(e,t.length):e},ensureLeading:function(e,t){return i(e,t)?e:n.addToStart(e,t)},ensureTrailing:function(e,t){return o(e,t)?e:n.addToEnd(e,t)},endsWith:o,contains:function(e,t){return-1!==e.indexOf(t)},trim:function(e){return e.replace(/^\s+|\s+$/g,"")},lTrim:function(e){return e.replace(/^\s+/g,"")},rTrim:function(e){return e.replace(/\s+$/g,"")},capitalize:function(e){return r.head(e).bind(function(t){return r.tail(e).map(function(e){return t.toUpperCase()+e})}).getOr(e)}}}),r("ephox.sand.info.PlatformInfo",["ephox.katamari.api.Fun","ephox.katamari.api.Strings"],function(e,n){function t(t){return function(e){return n.contains(e,t)}}var r=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,r=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return n.contains(e,"edge/")&&n.contains(e,"chrome")&&n.contains(e,"safari")&&n.contains(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,r],search:function(e){return n.contains(e,"chrome")&&!n.contains(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return n.contains(e,"msie")||n.contains(e,"trident")}},{name:"Opera",versionRegexes:[r,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:t("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:t("firefox")},{name:"Safari",versionRegexes:[r,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(n.contains(e,"safari")||n.contains(e,"mobile/"))&&n.contains(e,"applewebkit")}}],i=[{name:"Windows",search:t("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return n.contains(e,"iphone")||n.contains(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:t("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:t("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:t("linux"),versionRegexes:[]},{name:"Solaris",search:t("sunos"),versionRegexes:[]},{name:"FreeBSD",search:t("freebsd"),versionRegexes:[]}];return{browsers:e.constant(r),oses:e.constant(i)}}),r("ephox.sand.core.PlatformDetection",["ephox.sand.core.Browser","ephox.sand.core.OperatingSystem","ephox.sand.detect.DeviceType","ephox.sand.detect.UaString","ephox.sand.info.PlatformInfo"],function(r,i,o,a,s){return{detect:function(e){var t=s.browsers(),n=s.oses(),t=a.detectBrowser(t,e).fold(r.unknown,r.nu),n=a.detectOs(n,e).fold(i.unknown,i.nu);return{browser:t,os:n,deviceType:o(n,t,e)}}}}),t("global!navigator",navigator),r("ephox.sand.api.PlatformDetection",["ephox.katamari.api.Thunk","ephox.sand.core.PlatformDetection","global!navigator"],function(e,t,n){return{detect:e.cached(function(){var e=n.userAgent;return t.detect(e)})}}),r("ephox.sugar.api.node.NodeTypes",[],function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}}),r("ephox.sugar.api.search.Selectors",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.sugar.api.node.Element","ephox.sugar.api.node.NodeTypes","global!Error","global!document"],function(n,r,i,e,o,a){function s(e){return e.nodeType!==l&&e.nodeType!==u||0===e.childElementCount}var t,c=void 0!==(t=a.createElement("span")).matches?0:void 0!==t.msMatchesSelector?1:void 0!==t.webkitMatchesSelector?2:void 0!==t.mozMatchesSelector?3:-1,l=e.ELEMENT,u=e.DOCUMENT;return{all:function(e,t){t=void 0===t?a:t.dom();return s(t)?[]:n.map(t.querySelectorAll(e),i.fromDom)},is:function(e,t){e=e.dom();if(e.nodeType!==l)return!1;if(0==c)return e.matches(t);if(1==c)return e.msMatchesSelector(t);if(2==c)return e.webkitMatchesSelector(t);if(3==c)return e.mozMatchesSelector(t);throw new o("Browser lacks native selectors")},one:function(e,t){t=void 0===t?a:t.dom();return s(t)?r.none():r.from(t.querySelector(e)).map(i.fromDom)}}}),r("ephox.sugar.api.dom.Compare",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sand.api.Node","ephox.sand.api.PlatformDetection","ephox.sugar.api.search.Selectors"],function(n,r,i,e,t){function o(e,t){return e.dom()===t.dom()}e=e.detect().browser.isIE()?function(e,t){return i.documentPositionContainedBy(e.dom(),t.dom())}:function(e,t){e=e.dom(),t=t.dom();return e!==t&&e.contains(t)};return{eq:o,isEqualNode:function(e,t){return e.dom().isEqualNode(t.dom())},member:function(e,t){return n.exists(t,r.curry(o,e))},contains:e,is:t.is}}),r("ephox.sugar.api.search.Traverse",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Struct","ephox.sugar.alien.Recurse","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element"],function(s,n,c,r,e,t,i,l){function o(e){return l.fromDom(e.dom().ownerDocument)}function a(e){return e=e.dom(),r.from(e.parentNode).map(l.fromDom)}function u(e){return e=e.dom(),r.from(e.previousSibling).map(l.fromDom)}function d(e){return e=e.dom(),r.from(e.nextSibling).map(l.fromDom)}function f(e){return e=e.dom(),n.map(e.childNodes,l.fromDom)}function m(e,t){return e=e.dom().childNodes,r.from(e[t]).map(l.fromDom)}var h=e.immutable("element","offset");return{owner:o,defaultView:function(e){e=e.dom().ownerDocument.defaultView;return l.fromDom(e)},documentElement:function(e){e=o(e);return l.fromDom(e.dom().documentElement)},parent:a,findIndex:function(t){return a(t).bind(function(e){e=f(e);return n.findIndex(e,function(e){return i.eq(t,e)})})},parents:function(e,t){for(var n=s.isFunction(t)?t:c.constant(!1),r=e.dom(),i=[];null!==r.parentNode&&void 0!==r.parentNode;){var o=r.parentNode,a=l.fromDom(o);if(i.push(a),!0===n(a))break;r=o}return i},siblings:function(t){return a(t).map(f).map(function(e){return n.filter(e,function(e){return!i.eq(t,e)})}).getOr([])},prevSibling:u,offsetParent:function(e){e=e.dom();return r.from(e.offsetParent).map(l.fromDom)},prevSiblings:function(e){return n.reverse(t.toArray(e,u))},nextSibling:d,nextSiblings:function(e){return t.toArray(e,d)},children:f,child:m,firstChild:function(e){return m(e,0)},lastChild:function(e){return m(e,e.dom().childNodes.length-1)},leaf:function(e,t){var n=f(e);return 0<n.length&&t<n.length?h(n[t],0):h(e,t)}}}),r("ephox.sugar.api.dom.Insert",["ephox.sugar.api.search.Traverse"],function(r){function i(t,n){r.parent(t).each(function(e){e.dom().insertBefore(n.dom(),t.dom())})}function o(e,t){e.dom().appendChild(t.dom())}return{before:i,after:function(e,t){r.nextSibling(e).fold(function(){r.parent(e).each(function(e){o(e,t)})},function(e){i(e,t)})},prepend:function(t,n){r.firstChild(t).fold(function(){o(t,n)},function(e){t.dom().insertBefore(n.dom(),e.dom())})},append:o,appendAt:function(e,t,n){r.child(e,n).fold(function(){o(e,t)},function(e){i(e,t)})},wrap:function(e,t){i(e,t),o(t,e)}}}),r("ephox.sugar.api.dom.InsertAll",["ephox.katamari.api.Arr","ephox.sugar.api.dom.Insert"],function(i,o){return{before:function(t,e){i.each(e,function(e){o.before(t,e)})},after:function(n,r){i.each(r,function(e,t){t=0===t?n:r[t-1];o.after(t,e)})},prepend:function(t,e){i.each(e.slice().reverse(),function(e){o.prepend(t,e)})},append:function(t,e){i.each(e,function(e){o.append(t,e)})}}}),r("ephox.sugar.api.dom.Remove",["ephox.katamari.api.Arr","ephox.sugar.api.dom.InsertAll","ephox.sugar.api.search.Traverse"],function(t,n,r){function i(e){null!==(e=e.dom()).parentNode&&e.parentNode.removeChild(e)}return{empty:function(e){e.dom().textContent="",t.each(r.children(e),function(e){i(e)})},remove:i,unwrap:function(e){var t=r.children(e);0<t.length&&n.before(e,t),i(e)}}}),r("ephox.sugar.api.node.Node",["ephox.sugar.api.node.NodeTypes"],function(t){function n(e){return e.dom().nodeName.toLowerCase()}function r(e){return e.dom().nodeType}function e(t){return function(e){return r(e)===t}}var i=e(t.ELEMENT),o=e(t.TEXT),a=e(t.DOCUMENT);return{name:n,type:r,value:function(e){return e.dom().nodeValue},isElement:i,isText:o,isDocument:a,isComment:function(e){return r(e)===t.COMMENT||"#comment"===n(e)}}}),r("ephox.sugar.api.node.Body",["ephox.katamari.api.Thunk","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","global!document"],function(e,t,n,r){var e=e.cached(function(){return i(t.fromDom(r))}),i=function(e){e=e.dom().body;if(null==e)throw"Body is not available yet";return t.fromDom(e)};return{body:e,getBody:i,inBody:function(e){e=n.isText(e)?e.dom().parentNode:e.dom();return null!=e&&e.ownerDocument.body.contains(e)}}}),r("ephox.sugar.api.search.PredicateFilter",["ephox.katamari.api.Arr","ephox.sugar.api.node.Body","ephox.sugar.api.search.Traverse"],function(r,t,i){var o=function(e,t){var n=[];return r.each(i.children(e),function(e){n=(n=t(e)?n.concat([e]):n).concat(o(e,t))}),n};return{all:function(e){return o(t.body(),e)},ancestors:function(e,t,n){return r.filter(i.parents(e,n),t)},siblings:function(e,t){return r.filter(i.siblings(e),t)},children:function(e,t){return r.filter(i.children(e),t)},descendants:o}}),r("ephox.sugar.api.search.SelectorFilter",["ephox.sugar.api.search.PredicateFilter","ephox.sugar.api.search.Selectors"],function(r,i){return{all:function(e){return i.all(e)},ancestors:function(e,t,n){return r.ancestors(e,function(e){return i.is(e,t)},n)},siblings:function(e,t){return r.siblings(e,function(e){return i.is(e,t)})},children:function(e,t){return r.children(e,function(e){return i.is(e,t)})},descendants:function(e,t){return i.all(t,e)}}}),r("tinymce.core.dom.ElementType",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sugar.api.node.Node"],function(r,i,o){function e(t){var n;return function(e){return(n=n||r.mapToObject(t,i.constant(!0))).hasOwnProperty(o.name(e))}}var t=e(["h1","h2","h3","h4","h5","h6"]),n=e(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]);return{isBlock:n,isInline:function(e){return o.isElement(e)&&!n(e)},isHeading:t,isTextBlock:e(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),isVoid:e(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),isTableCell:e(["td","th"]),isBr:function(e){return o.isElement(e)&&"br"===o.name(e)}}}),r("tinymce.core.dom.PaddingBr",["ephox.katamari.api.Arr","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorFilter","tinymce.core.dom.ElementType"],function(n,t,r,i,o,a){return{removeTrailingBr:function(e){var t=o.descendants(e,"br"),e=n.filter(function(e){for(var t=[],n=e.dom();n;)t.push(i.fromDom(n)),n=n.lastChild;return t}(e).slice(-1),a.isBr);t.length===e.length&&n.each(e,r.remove)},fillWithPaddingBr:function(e){r.empty(e),t.append(e,i.fromHtml('<br data-mce-bogus="1">'))}}}),r("tinymce.core.fmt.FormatUtils",["tinymce.core.dom.TreeWalker"],function(c){function l(e){return e&&/^(IMG)$/.test(e.nodeName)}function u(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function r(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),""+(t="fontFamily"===n?t.replace(/[\'\"]/g,"").replace(/,\s+/g,","):t)}return{isInlineBlock:l,moveStart:function(e,t,n){var r,i,o,a=n.startContainer,s=n.startOffset;if((n.startContainer!==n.endContainer||!l(n.startContainer.childNodes[n.startOffset]))&&(3===a.nodeType&&s>=a.nodeValue.length&&(s=e.nodeIndex(a),a=a.parentNode),1===a.nodeType))for(s<(o=a.childNodes).length?(a=o[s],r=new c(a,e.getParent(a,e.isBlock))):(a=o[o.length-1],(r=new c(a,e.getParent(a,e.isBlock))).next(!0)),i=r.current();i;i=r.next())if(3===i.nodeType&&!u(i))return n.setStart(i,0),void t.setRng(n)},getNonWhiteSpaceSibling:function(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1===e.nodeType||!u(e))return e},isTextBlock:function(e,t){return t.nodeType&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},isValid:function(e,t,n){return e.schema.isValidChild(t,n)},isWhiteSpaceNode:u,replaceVars:function(e,n){return"string"!=typeof e?e=e(n):n&&(e=e.replace(/%(\w+)/g,function(e,t){return n[t]||e})),e},isEq:function(e,t){return e=""+((e=e||"").nodeName||e),t=""+((t=t||"").nodeName||t),e.toLowerCase()===t.toLowerCase()},normalizeStyleValue:r,getStyle:function(e,t,n){return r(e,e.getStyle(t,n),n)},getTextDecoration:function(t,e){var n;return t.getParent(e,function(e){return(n=t.getStyle(e,"text-decoration"))&&"none"!==n}),n},getParents:function(e,t,n){return e.getParents(t,n,e.getRoot())}}}),r("tinymce.core.fmt.ExpandRange",["tinymce.core.dom.BookmarkManager","tinymce.core.dom.TreeWalker","tinymce.core.fmt.FormatUtils"],function(e,p,g){var y=e.isBookmarkNode,v=g.getParents,b=g.isWhiteSpaceNode,x=g.isTextBlock,C=function(e,t){for(void 0===t&&(t=(3===e.nodeType?e:e.childNodes).length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=(3===e.nodeType?e:e.childNodes).length);return{node:e,offset:t}};return{expandRng:function(c,a,s,l){function e(e){var t,n,r,i=t=e?u:f,o=e?"previousSibling":"nextSibling",a=h.getRoot();if(3!==i.nodeType||b(i)||!(e?0<d:m<i.nodeValue.length))for(;;){if(!s[0].block_expand&&h.isBlock(t))return t;for(n=t[o];n;n=n[o])if(!y(n)&&!b(n)&&("BR"!==(r=n).nodeName||!r.getAttribute("data-mce-bogus")||r.nextSibling))return t;if(t===a||t.parentNode===a){i=t;break}t=t.parentNode}return i}function t(e){for(var t=e;t;){if(1===t.nodeType&&h.getContentEditable(t))return"false"===h.getContentEditable(t)?t:e;t=t.parentNode}return e}function n(e,t,i){function n(e,t){var n,r,e=e.nodeValue;return void 0===t&&(t=i?e.length:0),i?(n=e.lastIndexOf(" ",t),-1===(n=(r=e.lastIndexOf("",t))<n?n:r)||l||n++):(n=e.indexOf(" ",t),r=e.indexOf("",t),n=-1!==n&&(-1===r||n<r)?n:r),n}var r,o,a,s;if(3===e.nodeType){if(-1!==(a=n(e,t)))return{container:e,offset:a};s=e}for(r=new p(e,h.getParent(e,h.isBlock)||c.getBody());o=r[i?"prev":"next"]();)if(3===o.nodeType){if(-1!==(a=n(s=o)))return{container:o,offset:a}}else if(h.isBlock(o))break;if(s)return{container:s,offset:t=i?0:s.length}}function r(e,t){var n,r,i,o;for(3===e.nodeType&&0===e.nodeValue.length&&e[t]&&(e=e[t]),n=v(h,e),r=0;r<n.length;r++)for(i=0;i<s.length;i++)if(!("collapsed"in(o=s[i])&&o.collapsed!==a.collapsed)&&h.is(n[r],o.selector))return n[r];return e}function i(e,t){var n,r,i=h.getRoot();if((r=s[0].wrapper?r:h.getParent(e,s[0].block,i))||(n=h.getParent(e,"LI,TD,TH"),r=h.getParent(3===e.nodeType?e.parentNode:e,function(e){return e!==i&&x(c,e)},n)),!(r=r&&s[0].wrapper?v(h,r,"ul,ol").reverse()[0]||r:r))for(r=e;r[t]&&!h.isBlock(r[t])&&(r=r[t],!g.isEq(r,"br")););return r||e}var o,u=a.startContainer,d=a.startOffset,f=a.endContainer,m=a.endOffset,h=c.dom,u=(1===u.nodeType&&u.hasChildNodes()&&(o=u.childNodes.length-1,3===(u=u.childNodes[o<d?o:d]).nodeType&&(d=0)),1===f.nodeType&&f.hasChildNodes()&&(o=f.childNodes.length-1,3===(f=f.childNodes[o<m?o:m-1]).nodeType&&(m=f.nodeValue.length)),t(u)),f=t(f);return(y(u.parentNode)||y(u))&&3===(u=(u=y(u)?u:u.parentNode).nextSibling||u).nodeType&&(d=0),(y(f.parentNode)||y(f))&&3===(f=(f=y(f)?f:f.parentNode).previousSibling||f).nodeType&&(m=f.length),s[0].inline&&(a.collapsed&&((o=n(u,d,!0))&&(u=o.container,d=o.offset),(o=n(f,m))&&(f=o.container,m=o.offset)),f=l?f:function(e,t){var n=C(e,t);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=C(n.node.previousSibling);n.node&&0<n.offset&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&1<n.offset&&(e=n.node).splitText(n.offset-1)}return e}(f,m)),(s[0].inline||s[0].block_expand)&&(s[0].inline&&3===u.nodeType&&0!==d||(u=e(!0)),s[0].inline&&3===f.nodeType&&m!==f.nodeValue.length||(f=e())),s[0].selector&&!1!==s[0].expand&&!s[0].inline&&(u=r(u,"previousSibling"),f=r(f,"nextSibling")),(s[0].block||s[0].selector)&&(u=i(u,"previousSibling"),f=i(f,"nextSibling"),s[0].block&&(h.isBlock(u)||(u=e(!0)),h.isBlock(f)||(f=e()))),1===u.nodeType&&(d=h.nodeIndex(u),u=u.parentNode),1===f.nodeType&&(m=h.nodeIndex(f)+1,f=f.parentNode),{startContainer:u,startOffset:d,endContainer:f,endOffset:m}}}}),r("tinymce.core.fmt.MatchFormat",["tinymce.core.fmt.FormatUtils"],function(u){function o(t,e,n,r){var i=t.dom.getRoot();return e!==i&&(e=t.dom.getParent(e,function(e){return!!a(t,e,n)||(e.parentNode===i||!!c(t,e,n,r,!0))}),c(t,e,n,r))}function d(e,t,n){return!!m(t,n.inline)||(!!m(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0))}function f(e,t,n,r,i,o){var a,s,c,l=n[r];if(n.onmatch)return n.onmatch(t,n,r);if(l)if(void 0===l.length){for(a in l)if(l.hasOwnProperty(a)){if(s="attributes"===r?e.getAttrib(t,a):u.getStyle(e,t,a),i&&!s&&!n.exact)return;if((!i||n.exact)&&!m(s,u.normalizeStyleValue(e,u.replaceVars(l[a],o),a)))return}}else for(c=0;c<l.length;c++)if("attributes"===r?e.getAttrib(t,l[c]):u.getStyle(e,t,l[c]))return n;return n}var m=u.isEq,a=function(e,t,n){var r=e.formatter.get(n);if(r)for(var i=0;i<r.length;i++)if(!1===r[i].inherit&&e.dom.is(t,r[i].selector))return!0;return!1},c=function(e,t,n,r,i){var o,a,s,c,l=e.formatter.get(n),u=e.dom;if(l&&t)for(a=0;a<l.length;a++)if(o=l[a],d(e.dom,t,o)&&f(u,t,o,"attributes",i,r)&&f(u,t,o,"styles",i,r)){if(c=o.classes)for(s=0;s<c.length;s++)if(!e.dom.hasClass(t,c[s]))return;return o}};return{matchNode:c,matchName:d,match:function(e,t,n,r){var i;return r?o(e,r,t,n):(r=e.selection.getNode(),!!o(e,r,t,n)||!((i=e.selection.getStart())===r||!o(e,i,t,n)))},matchAll:function(r,i,o){var a=[],s={},e=r.selection.getStart();return r.dom.getParent(e,function(e){for(var t,n=0;n<i.length;n++)t=i[n],!s[t]&&c(r,e,t,o)&&(s[t]=!0,a.push(t))},r.dom.getRoot()),a},canApply:function(e,t){var n,r,i,o,a=e.formatter.get(t),s=e.dom;if(a)for(t=e.selection.getStart(),n=u.getParents(s,t),i=a.length-1;0<=i;i--){if(!(o=a[i].selector)||a[i].defaultBlock)return!0;for(r=n.length-1;0<=r;r--)if(s.is(n[r],o))return!0}return!1},matchesUnInheritedFormatSelector:a}}),r("tinymce.core.fmt.CaretFormat",["ephox.katamari.api.Arr","ephox.sugar.api.node.Element","tinymce.core.dom.PaddingBr","tinymce.core.dom.RangeUtils","tinymce.core.dom.TreeWalker","tinymce.core.fmt.ExpandRange","tinymce.core.fmt.FormatUtils","tinymce.core.fmt.MatchFormat","tinymce.core.text.Zwsp","tinymce.core.util.Fun","tinymce.core.util.Tools"],function(m,a,s,h,n,p,i,g,e,o,r){function d(e){var t;if(e)for(e=(t=new n(e,e)).current();e;e=t.next())if(3===e.nodeType)return e;return null}function y(e,t){var n=e.create("span",{id:u,"data-mce-bogus":"1",style:f?"color:red":""});return t&&n.appendChild(e.doc.createTextNode(w)),n}function v(e){for(;e;){if(e.id===u)return e;e=e.parentNode}}function c(t,e){(e=v(e.getStart()))&&!t.isEmpty(e)&&r.walk(e,function(e){1!==e.nodeType||e.id===u||t.isEmpty(e)||t.setAttrib(e,"data-mce-bogus",null)},"childNodes")}function b(e,t,n,r){var i=t.getRng(!0),o=e.getParent(n,e.isBlock);k(n)?(!1!==r&&(i.setStartBefore(n),i.setEndBefore(n)),e.remove(n)):(r=E(n),i.startContainer===r&&0<i.startOffset&&i.setStart(r,i.startOffset-1),i.endContainer===r&&0<i.endOffset&&i.setEnd(r,i.endOffset-1),e.remove(n,!0)),o&&e.isEmpty(o)&&s.fillWithPaddingBr(a.fromDom(o)),t.setRng(i)}function l(e,t,n,r){if(n)b(e,t,n,r);else if(!(n=v(t.getStart())))for(;n=e.get(u);)b(e,t,n,!1)}function x(e,t,n){var r=e.dom;(e=r.getParent(n,o.curry(i.isTextBlock,e)))&&r.isEmpty(e)||(s.removeTrailingBr(a.fromDom(n)),r.isEmpty(n))?n.parentNode.replaceChild(t,n):r.insertAfter(t,n)}function C(e){e._hasCaretEvents||(t(e),e._hasCaretEvents=!0)}var w=e.ZWSP,u="_mce_caret",f=!1,k=function(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==w||1<e.childNodes.length)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0},E=function(e){e=d(e);return e&&e.nodeValue.charAt(0)===w&&e.deleteData(0,1),e},S=function(e,t){return e.appendChild(t),t},t=function(e){var t,n,r=e.dom,i=e.selection;e._hasCaretEvents||(e.on("BeforeGetContent",function(e){t&&"raw"!==e.format&&t()}),e.on("mouseup keydown",function(e){n&&n(e)}),t=function(){var e,t=[];if(k(v(i.getStart()),t))for(e=t.length;e--;)r.setAttrib(t[e],"data-mce-bogus","1")},n=function(e){e=e.keyCode;l(r,i,null,!1),8===e&&i.isCollapsed()&&i.getStart().innerHTML===w&&l(r,i,v(i.getStart())),37!==e&&39!==e||l(r,i,v(i.getStart())),c(r,i)},e.on("SetContent",function(e){e.selection&&c(r,i)}),e._hasCaretEvents=!0)};return{applyCaretFormat:function(e,t,n){var r,i,o,a,s,c=e.dom,l=e.selection,u=(C(e),a=(r=l.getRng(!0)).startOffset,s=r.startContainer.nodeValue,(i=v(l.getStart()))&&(o=d(i)),/[^\s\u00a0\u00ad\u200b\ufeff]/);s&&0<a&&a<s.length&&u.test(s.charAt(a))&&u.test(s.charAt(a-1))?(u=l.getBookmark(),r.collapse(!0),r=p.expandRng(e,r,e.formatter.get(t)),r=new h(c).split(r),e.formatter.apply(t,n,r),l.moveToBookmark(u)):(i&&o.nodeValue===w||(o=(i=y(c,!0)).firstChild,r.insertNode(i),a=1),e.formatter.apply(t,n,i),l.setCursorLocation(o,a))},removeCaretFormat:function(e,t,n,r){var i,o,a,s,c,l=e.dom,u=e.selection,d=u.getRng(!0),f=[];for(C(e),s=d.startContainer,c=d.startOffset,3===(o=s).nodeType&&(c!==s.nodeValue.length&&(i=!0),o=o.parentNode);o;){if(g.matchNode(e,o,t,n,r)){a=o;break}o.nextSibling&&(i=!0),f.push(o),o=o.parentNode}a&&(i?(c=u.getBookmark(),d.collapse(!0),d=p.expandRng(e,d,e.formatter.get(t),!0),d=new h(l).split(d),e.formatter.remove(t,n,d),u.moveToBookmark(c)):(s=v(a),c=function(e,t){e=m.foldr(e,function(e,t){return S(e,t.cloneNode(!1))},t);return S(e,e.ownerDocument.createTextNode(w))}(f,d=y(l,!1)),x(e,d,s||a),b(l,u,s,!1),u.setCursorLocation(c,1),l.isEmpty(a)&&l.remove(a)))},isCaretNode:function(e){return 1===e.nodeType&&e.id===u}}}),r("tinymce.core.fmt.Hooks",["tinymce.core.util.Arr","tinymce.core.dom.NodeType","tinymce.core.dom.DomQuery"],function(i,o,a){var e,t,n={},s=i.filter,c=i.each;return t=function(e){var t,n,r=e.selection.getRng();t=o.matchNodeNames("pre"),r.collapsed||(n=e.selection.getSelectedBlocks(),c(s(s(n,t),function(e){return t(e.previousSibling)&&-1!==i.indexOf(n,e.previousSibling)}),function(e){var t;t=e.previousSibling,a(e=e).remove(),a(t).append("<br><br>").append(e.childNodes)}))},n[e="pre"]||(n[e]=[]),n[e].push(t),{postProcess:function(e,t){c(n[e],function(e){e(t)})}}}),r("tinymce.core.fmt.RemoveFormat",["ephox.katamari.api.Fun","tinymce.core.dom.BookmarkManager","tinymce.core.dom.RangeUtils","tinymce.core.dom.TreeWalker","tinymce.core.fmt.CaretFormat","tinymce.core.fmt.ExpandRange","tinymce.core.fmt.FormatUtils","tinymce.core.fmt.MatchFormat","tinymce.core.util.Tools"],function(e,d,f,o,m,h,N,T,y){function p(e){return/^(TH|TD)$/.test(e.nodeName)}function g(e,t,n){var r,i=t[n?"startContainer":"endContainer"],t=t[n?"startOffset":"endOffset"];return 1===i.nodeType&&(r=i.childNodes.length-1,!n&&t&&t--,i=i.childNodes[r<t?r:t]),i=3!==(i=3===i.nodeType&&n&&t>=i.nodeValue.length?new o(i,e.getBody()).next()||i:i).nodeType||n||0!==t?i:new o(i,e.getBody()).prev()||i}var v=/^(src|href|style)$/,R=y.each,b=N.isEq,_=function(e,t,n,r){e=e.create(n,r);return t.parentNode.insertBefore(e,t),e.appendChild(t),e},x=function(e,t,n,r){return!(t=N.getNonWhiteSpaceSibling(t,n,r))||"BR"===t.nodeName||e.isBlock(t)},B=function(e,n,r,i,o){var t,a,s,c,l,u,d,f,m,h,p=e.dom;if(f=p,!(b(u=i,(l=n).inline)||b(u,l.block)||l.selector&&1===u.nodeType&&f.is(u,l.selector)||(f=i,n.links&&"A"===f.tagName)))return!1;if("all"!==n.remove)for(R(n.styles,function(e,t){e=N.normalizeStyleValue(p,N.replaceVars(e,r),t),"number"==typeof t&&(t=e,o=0),!n.remove_similar&&o&&!b(N.getStyle(p,o,t),e)||p.setStyle(i,t,""),s=1}),s&&""===p.getAttrib(i,"style")&&(i.removeAttribute("style"),i.removeAttribute("data-mce-style")),R(n.attributes,function(e,t){var n;e=N.replaceVars(e,r),"number"==typeof t&&(t=e,o=0),o&&!b(p.getAttrib(o,t),e)||("class"===t&&(e=p.getAttrib(i,t))&&(n="",R(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(n+=(n?" ":"")+e)}),n)?p.setAttrib(i,t,n):("class"===t&&i.removeAttribute("className"),v.test(t)&&i.removeAttribute("data-mce-"+t),i.removeAttribute(t)))}),R(n.classes,function(e){e=N.replaceVars(e,r),o&&!p.hasClass(o,e)||p.removeClass(i,e)}),a=p.getAttribs(i),t=0;t<a.length;t++){var g=a[t].nodeName;if(0!==g.indexOf("_")&&0!==g.indexOf("data-"))return!1}return"none"!==n.remove?(c=e,u=n,f=(l=i).parentNode,m=c.dom,h=c.settings.forced_root_block,u.block&&(h?f!==m.getRoot()||u.list_block&&b(l,u.list_block)||R(y.grep(l.childNodes),function(e){N.isValid(c,h,e.nodeName.toLowerCase())?d?d.appendChild(e):(d=_(m,e,h),m.setAttribs(d,c.settings.forced_root_block_attrs)):d=0}):m.isBlock(l)&&!m.isBlock(f)&&(x(m,l,!1)||x(m,l.firstChild,!0,1)||l.insertBefore(m.create("br"),l.firstChild),x(m,l,!0)||x(m,l.lastChild,!1,1)||l.appendChild(m.create("br")))),u.selector&&u.inline&&!b(u.inline,l)||m.remove(l,1),!0):void 0};return{removeFormat:B,remove:function(x,C,w,e,k){function i(e){n=x,r=C,i=w,o=k,R(N.getParents(n.dom,e.parentNode).reverse(),function(e){var t;a||"_start"===e.id||"_end"===e.id||(t=T.matchNode(n,e,r,i,o))&&!1!==t.split&&(a=e)});var n,r,i,o,a,t,s,c,l,u,d,f=x,m=E,h=a,p=e,g=!0,y=S,v=w,b=f.dom;if(h){for(d=h.parentNode,t=p.parentNode;t&&t!==d;t=t.parentNode){for(s=b.clone(t,!1),u=0;u<m.length;u++)if(B(f,m[u],v,s,s)){s=0;break}s&&(c&&s.appendChild(c),l=l||s,c=s)}!g||y.mixed&&b.isBlock(h)||(p=b.split(h,p)),c&&(e.parentNode.insertBefore(c,e),l.appendChild(e))}return p}function o(e){var t=s.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return 3===(n=d.isBookmarkNode(n)?n[e?"firstChild":"lastChild"]:n).nodeType&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),s.remove(t,!0),n}function t(e){var t,n,r=e.commonAncestorContainer;if(e=h.expandRng(x,e,E,!0),S.split){if((t=g(x,e,!0))!==(n=g(x,e))){if(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild&&(t="TR"===t.nodeName?t.firstChild.firstChild||t:t.firstChild||t),r&&/^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName)&&p(n)&&n.firstChild&&(n=n.firstChild||n),s.isChildOf(t,n)&&!s.isBlock(n)&&!p(t)&&!p(n))return t=_(s,t,"span",{id:"_start","data-mce-type":"bookmark"}),i(t),t=o(!0);t=_(s,t,"span",{id:"_start","data-mce-type":"bookmark"}),n=_(s,n,"span",{id:"_end","data-mce-type":"bookmark"}),i(t),i(n),t=o(!0),n=o()}else t=n=i(t);e.startContainer=t.parentNode||t,e.startOffset=s.nodeIndex(t),e.endContainer=n.parentNode||n,e.endOffset=s.nodeIndex(n)+1}new f(s).walk(e,function(e){R(e,function(e){c(e),1===e.nodeType&&"underline"===x.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===N.getTextDecoration(s,e.parentNode)&&B(x,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})}var n,E=x.formatter.get(C),S=E[0],a=!0,s=x.dom,r=x.selection,c=function(e){var t,n,r,i,o;if(1===e.nodeType&&s.getContentEditable(e)&&(i=a,a="true"===s.getContentEditable(e),o=!0),t=y.grep(e.childNodes),a&&!o)for(n=0,r=E.length;n<r&&!B(x,E[n],w,e,e);n++);if(S.deep&&t.length){for(n=0,r=t.length;n<r;n++)c(t[n]);o&&(a=i)}};if(e)e.nodeType?((n=s.createRng()).setStartBefore(e),n.setEndAfter(e),t(n)):t(e);else if("false"===s.getContentEditable(r.getNode())){e=r.getNode();for(var l=0,u=E.length;l<u&&(!E[l].ceFalseOverride||!B(x,E[l],w,e,e));l++);}else r.isCollapsed()&&S.inline&&!s.select("td[data-mce-selected],th[data-mce-selected]").length?m.removeCaretFormat(x,C,w,k):(n=r.getBookmark(),t(r.getRng(!0)),r.moveToBookmark(n),S.inline&&T.match(x,C,w,r.getStart())&&N.moveStart(s,r,r.getRng(!0)),x.nodeChanged())}}}),r("tinymce.core.fmt.ApplyFormat",["tinymce.core.dom.BookmarkManager","tinymce.core.dom.ElementUtils","tinymce.core.dom.NodeType","tinymce.core.dom.RangeNormalizer","tinymce.core.dom.RangeUtils","tinymce.core.dom.TreeWalker","tinymce.core.fmt.CaretFormat","tinymce.core.fmt.ExpandRange","tinymce.core.fmt.FormatUtils","tinymce.core.fmt.Hooks","tinymce.core.fmt.MatchFormat","tinymce.core.fmt.RemoveFormat","tinymce.core.util.Fun","tinymce.core.util.Tools"],function(C,a,t,f,w,i,k,m,E,S,N,T,R,_){function B(e,t){var n;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(n=E.getTextDecoration(e,t.parentNode),e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null))}function A(n,e){return R.curry(function(e,t){return!(!t||!E.getStyle(n,t,e))},e)}function D(e,t,n){var r,i,o=new a(e);if(t&&n&&(t=s(t,"previousSibling"),n=s(n,"nextSibling"),o.compare(t,n))){for(r=t.nextSibling;r&&r!==n;)r=(i=r).nextSibling,t.appendChild(i);return e.remove(n),O(_.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n}function P(h,p,g,r){function y(n,e){var t;e=e||x,n&&(e.onformat&&e.onformat(n,e,g,r),O(e.styles,function(e,t){c.setStyle(n,t,E.replaceVars(e,g))}),e.styles&&(t=c.getAttrib(n,"style"))&&n.setAttribute("data-mce-style",t),O(e.attributes,function(e,t){c.setAttrib(n,t,E.replaceVars(e,g))}),O(e.classes,function(e){e=E.replaceVars(e,g),c.hasClass(n,e)||c.addClass(n,e)}))}function v(e,t){var n=!1;return!!x.selector&&(O(e,function(e){return!("collapsed"in e&&e.collapsed!==s)&&c.is(t,e.selector)&&!k.isCaretNode(t)?(y(t,e),!(n=!0)):void 0}),n)}function e(c,e,t,l){var u=[],d=!0,f=x.inline||x.block,m=c.create(f);y(m),new w(c).walk(e,function(e){var a,s=function(e){var t,n=d,r=e.nodeName.toLowerCase(),i=e.parentNode.nodeName.toLowerCase();if(1===e.nodeType&&c.getContentEditable(e)&&(n=d,d="true"===c.getContentEditable(e),t=!0),E.isEq(r,"br"))a=0,x.block&&c.remove(e);else if(x.wrapper&&N.matchNode(h,e,p,g))a=0;else if(d&&!t&&x.block&&!x.wrapper&&E.isTextBlock(h,r)&&E.isValid(h,i,f))e=c.rename(e,f),y(e),u.push(e),a=0;else{if(x.selector){var o=v(b,e);if(!x.inline||o)return void(a=0)}!d||t||!E.isValid(h,f,r)||!E.isValid(h,i,f)||!l&&3===e.nodeType&&1===e.nodeValue.length&&65279===e.nodeValue.charCodeAt(0)||k.isCaretNode(e)||x.inline&&c.isBlock(e)?(a=0,O(_.grep(e.childNodes),s),t&&(d=n),a=0):(a||(a=c.clone(m,!1),e.parentNode.insertBefore(a,e),u.push(a)),a.appendChild(e))}};O(e,s)}),!0===x.links&&O(u,function(e){var t=function(e){"A"===e.nodeName&&y(e,x),O(_.grep(e.childNodes),t)};t(e)}),O(u,function(o){var e,t,n=function(e){var t=0;return O(e.childNodes,function(e){E.isWhiteSpaceNode(e)||C.isBookmarkNode(e)||t++}),t},r=function(e){var t=!1;return O(e.childNodes,function(e){if(M(e))return t=e,!1}),t},i=n(o);(1<u.length||!c.isBlock(o))&&0===i?c.remove(o,1):(x.inline||x.wrapper)&&(x.exact||1!==i||((t=r(i=o))&&!C.isBookmarkNode(t)&&N.matchName(c,t,x)&&(e=c.clone(t,!1),y(e),c.replace(e,i,!0),c.remove(t,1)),o=e||i),O(b,function(t){var r,e,n,i;O(c.select(t.inline,o),function(e){M(e)&&T.removeFormat(h,t,g,e,t.exact?e:null)}),r=c,n=o,(e=t).clear_child_styles&&(i=e.links?"*:not(a)":"*",O(r.select(i,n),function(n){M(n)&&O(e.styles,function(e,t){r.setStyle(n,t,"")})}))}),N.matchNode(h,o.parentNode,p,g)&&T.removeFormat(h,x,g,o)&&(o=0),x.merge_with_parents&&c.getParent(o.parentNode,function(e){if(N.matchNode(h,e,p,g))return T.removeFormat(h,x,g,o)&&(o=0),!0}),!o||c.isBlock(o)||E.getStyle(c,o,"fontSize")||(t=function(e,t){do{if(1!==n(e))break;if(!(e=r(e)))break;if(t(e))return e}while(e);return null}(o,A(c,"fontSize")))&&P(h,"fontsize",{value:E.getStyle(c,t,"fontSize")},o),o&&!1!==x.merge_siblings&&(o=D(c,E.getNonWhiteSpaceSibling(o),o),o=D(c,o,E.getNonWhiteSpaceSibling(o,!0))))})}var t,i,n,o,a,b=h.formatter.get(p),x=b[0],s=!r&&h.selection.isCollapsed(),c=h.dom,l=h.selection;if("false"===c.getContentEditable(l.getNode())){r=l.getNode();for(var u=0,d=b.length;u<d;u++)if(b[u].ceFalseOverride&&c.is(r,b[u].selector))return void y(r,b[u])}else x&&(r?r.nodeType?v(b,r)||((t=c.createRng()).setStartBefore(r),t.setEndAfter(r),e(c,m.expandRng(h,t,b),0,!0)):e(c,r,0,!0):s&&x.inline&&!c.select("td[data-mce-selected],th[data-mce-selected]").length?k.applyCaretFormat(h,p,g):(t=h.selection.getNode(),h.settings.forced_root_block||!b[0].defaultBlock||c.getParent(t,c.isBlock)||P(h,b[0].defaultBlock),h.selection.setRng((n=h,n=f.normalize(n.selection.getRng()),o=n.startContainer,a=n.endContainer,o!==a&&0===n.endOffset&&(a=(3===(o=I(o,a)).nodeType?o.data:o.childNodes).length,n.setEnd(o,a)),n)),o=l.getBookmark(),e(c,m.expandRng(h,l.getRng(!0),b)),x.styles&&((x.styles.color||x.styles.textDecoration)&&(_.walk(t,R.curry(B,c),"childNodes"),B(c,t)),x.styles.backgroundColor&&L(t,A(c,"fontSize"),(i=c,a="backgroundColor",n=E.replaceVars(x.styles.backgroundColor,g),R.curry(function(e,t,n){i.setStyle(n,e,t)},a,n)))),l.moveToBookmark(o),E.moveStart(c,l,l.getRng(!0)),h.nodeChanged()),S.postProcess(p,h))}var O=_.each,M=function(e){return e&&1===e.nodeType&&!C.isBookmarkNode(e)&&!k.isCaretNode(e)&&!t.isBogus(e)},L=function(e,t,n){O(e.childNodes,function(e){M(e)&&(t(e)&&n(e),e.hasChildNodes()&&L(e,t,n))})},s=function(e,t){for(var n=e;n;n=n[t]){if(3===n.nodeType&&0!==n.nodeValue.length)return e;if(1===n.nodeType&&!C.isBookmarkNode(n))return n}return e},I=function(e,t){for(var n=new i(t),r=n.prev2();r;r=n.prev2()){if(3===r.nodeType&&0<r.data.length)return r;if(1<r.childNodes.length||r===e||"BR"===r.tagName)return r}};return{applyFormat:P}}),r("tinymce.core.fmt.FormatChanged",["ephox.katamari.api.Cell","tinymce.core.fmt.FormatUtils","tinymce.core.fmt.MatchFormat","tinymce.core.util.Tools"],function(e,d,f,m){var h=m.each;return{formatChanged:function(e,t,n,r,i){var o,a,s,c,l,u;null===t.get()&&(a=e,s={},(o=t).set({}),a.on("NodeChange",function(n){var r=d.getParents(a.dom,n.element),i={},r=m.grep(r,function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")});h(o.get(),function(e,n){h(r,function(t){return a.formatter.matchNode(t,n,{},e.similar)?(s[n]||(h(e,function(e){e(!0,{node:t,format:n,parents:r})}),s[n]=e),i[n]=e,!1):!f.matchesUnInheritedFormatSelector(a,t,n)&&void 0})}),h(s,function(e,t){i[t]||(delete s[t],h(e,function(e){e(!1,{node:n.element,format:t,parents:r})}))})})),e=n,c=r,l=i,u=(n=t).get(),h(e.split(","),function(e){u[e]||(u[e]=[],u[e].similar=l),u[e].push(c)}),n.set(u)}}}),r("tinymce.core.fmt.DefaultFormats",["tinymce.core.util.Tools"],function(i){return{get:function(r){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},fontsize_semplice:{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{fontSize:"%value"}},lineheight_semplice:{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{lineHeight:"%value"}},letterspacing_semplice:{inline:"span",styles:{letterSpacing:"%value"}},fontfamily_semplice:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(n,e,t){i.each(t,function(e,t){r.setAttrib(n,t,e)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return i.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){t[e]={block:e,remove:"all"}}),t}}}),r("tinymce.core.fmt.FormatRegistry",["tinymce.core.fmt.DefaultFormats","tinymce.core.util.Tools"],function(t,i){return function(e){function n(e,t){e&&("string"!=typeof e?i.each(e,function(e,t){n(t,e)}):(t=t.length?t:[t],i.each(t,function(e){void 0===e.deep&&(e.deep=!e.selector),void 0===e.split&&(e.split=!e.selector||e.inline),void 0===e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),r[e]=t))}var r={};return n(t.get(e.dom)),n(e.settings.formats),{get:function(e){return e?r[e]:r},register:n,unregister:function(e){return e&&r[e]&&delete r[e],r}}}}),r("tinymce.core.fmt.Preview",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools","tinymce.core.html.Schema"],function(e,f,i){var l=f.each,m=e.DOM;function u(e,t){var r,n,l=t&&t.schema||new i({});function u(e){var t,n;return r="string"==typeof e?{name:e,classes:[],attrs:{}}:e,e=m.create(r.name),t=e,(n=r).classes.length&&m.addClass(t,n.classes.join(" ")),m.setAttribs(t,n.attrs),e}function d(t,e,n){var r,i,o,a,s=0<e.length&&e[0],c=s&&s.name;if(a=c,o="string"!=typeof(o=t)?o.nodeName.toLowerCase():o,a=!(!(o=(o=l.getElementRule(o))&&o.parentsRequired)||!o.length)&&(a&&-1!==f.inArray(o,a)?a:o[0]))c===a?(i=e[0],e=e.slice(1)):i=a;else if(s)i=e[0],e=e.slice(1);else if(!n)return t;return i&&(r=u(i)).appendChild(t),n&&(r||(r=m.create("div")).appendChild(t),f.each(n,function(e){e=u(e);r.insertBefore(e,t)})),d(r,e,i&&i.siblings)}return e&&e.length?(t=u(r=e[0]),(n=m.create("div")).appendChild(d(t,e.slice(1),r.siblings)),n):""}function n(e){var t,o={classes:[],attrs:{}};return"*"!==(e=o.selector=f.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,n,r,i){switch(t){case"#":o.attrs.id=n;break;case".":o.classes.push(n);break;case":":-1!==f.inArray("checked disabled enabled read-only required".split(" "),n)&&(o.attrs[n]=n)}return"["===r&&(t=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/))&&(o.attrs[t[1]]=t[2]),""})),o.name=t||"div",o}function d(e){return e&&"string"==typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),f.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var e=f.map(e.split(/(?:~\+|~|\+)/),n),t=e.pop();return e.length&&(t.siblings=e),t}).reverse()):[]}return{getCssText:function(n,e){var t,r,i,o,a="",s=n.settings.preview_styles;if(!1===s)return"";function c(e){return e.replace(/%(\w+)/g,"")}if("string"!=typeof s&&(s="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof e){if(!(e=n.formatter.get(e)))return;e=e[0]}return"preview"in e&&!1===(s=e.preview)?"":(t=e.block||e.inline||"span",i=(i=d(e.selector)).length?(i[0].name||(i[0].name=t),t=e.selector,u(i,n)):u([t],n),r=m.select(t,i)[0]||i.firstChild,l(e.styles,function(e,t){(e=c(e))&&m.setStyle(r,t,e)}),l(e.attributes,function(e,t){(e=c(e))&&m.setAttrib(r,t,e)}),l(e.classes,function(e){e=c(e),m.hasClass(r,e)||m.addClass(r,e)}),n.fire("PreviewFormats"),m.setStyles(i,{position:"absolute",left:-65535}),n.getBody().appendChild(i),o=m.getStyle(n.getBody(),"fontSize",!0),o=/px$/.test(o)?parseInt(o,10):0,l(s.split(" "),function(e){var t=m.getStyle(r,e,!0);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=m.getStyle(n.getBody(),e,!0),"#ffffff"===m.toHex(t).toLowerCase())||"color"===e&&"#000000"===m.toHex(t).toLowerCase())){if("font-size"===e&&/em|%$/.test(t)){if(0===o)return;t=(t=parseFloat(t,10)/(/%$/.test(t)?100:1))*o+"px"}"border"===e&&t&&(a+="padding:0 2px;"),a+=e+":"+t+";"}}),n.fire("AfterPreviewFormats"),m.remove(i),a)},parseSelector:d,selectorToHtml:function(e,t){return u(d(e),t)}}}),r("tinymce.core.fmt.ToggleFormat",["tinymce.core.fmt.ApplyFormat","tinymce.core.fmt.MatchFormat","tinymce.core.fmt.RemoveFormat"],function(o,a,s){return{toggle:function(e,t,n,r,i){t=t.get(n);!a.match(e,n,r,i)||"toggle"in t[0]&&!t[0].toggle?o.applyFormat(e,n,r,i):s.remove(e,n,r,i)}}}),r("tinymce.core.keyboard.FormatShortcuts",[],function(){return{setup:function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])}}}),r("tinymce.core.api.Formatter",["ephox.katamari.api.Cell","ephox.katamari.api.Fun","tinymce.core.fmt.ApplyFormat","tinymce.core.fmt.FormatChanged","tinymce.core.fmt.FormatRegistry","tinymce.core.fmt.MatchFormat","tinymce.core.fmt.Preview","tinymce.core.fmt.RemoveFormat","tinymce.core.fmt.ToggleFormat","tinymce.core.keyboard.FormatShortcuts"],function(r,i,o,a,s,c,l,u,d,f){return function(e){var t=s(e),n=r(null);return f.setup(e),{get:t.get,register:t.register,unregister:t.unregister,apply:i.curry(o.applyFormat,e),remove:i.curry(u.remove,e),toggle:i.curry(d.toggle,e,t),match:i.curry(c.match,e),matchAll:i.curry(c.matchAll,e),matchNode:i.curry(c.matchNode,e),canApply:i.curry(c.canApply,e),formatChanged:i.curry(a.formatChanged,e,n),getCssText:i.curry(l.getCssText,e)}}}),r("tinymce.core.geom.Rect",[],function(){"use strict";var o=Math.min,l=Math.max,s=Math.round;function a(e,t,n){var r=t.x,i=t.y,o=e.w,e=e.h,a=t.w,t=t.h;return"b"===(n=(n||"").split(""))[0]&&(i+=t),"r"===n[1]&&(r+=a),"c"===n[0]&&(i+=s(t/2)),"c"===n[1]&&(r+=s(a/2)),"b"===n[3]&&(i-=e),"r"===n[4]&&(r-=o),"c"===n[3]&&(i-=s(e/2)),"c"===n[4]&&(r-=s(o/2)),u(r,i,o,e)}function u(e,t,n,r){return{x:e,y:t,w:n,h:r}}return{inflate:function(e,t,n){return u(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:a,findBestRelativePosition:function(e,t,n,r){for(var i,o=0;o<r.length;o++)if((i=a(e,t,r[o])).x>=n.x&&i.x+i.w<=n.w+n.x&&i.y>=n.y&&i.y+i.h<=n.h+n.y)return r[o];return null},intersect:function(e,t){var n=l(e.x,t.x),r=l(e.y,t.y),i=o(e.x+e.w,t.x+t.w),e=o(e.y+e.h,t.y+t.h);return i-n<0||e-r<0?null:u(n,r,i-n,e-r)},clamp:function(e,t,n){var r=e.x,i=e.y,o=e.x+e.w,e=e.y+e.h,a=t.x+t.w,s=t.y+t.h,c=l(0,t.x-r),t=l(0,t.y-i),a=l(0,o-a),s=l(0,e-s);return r+=c,i+=t,n&&(o+=c,e+=t,r-=a,i-=s),u(r,i,(o-=a)-r,(e-=s)-i)},create:u,fromClientRect:function(e){return u(e.left,e.top,e.width,e.height)}}}),r("tinymce.core.dom.ScriptLoader",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools"],function(e,m){function h(e){return"function"==typeof e}var p=e.DOM,s=m.each,g=m.grep;function t(){var d={},i=[],o={},a=[],f=0;this.isDone=function(e){return 2==d[e]},this.markDone=function(e){d[e]=2},this.add=this.load=function(e,t,n,r){null==d[e]&&(i.push(e),d[e]=0),t&&(o[e]||(o[e]=[]),o[e].push({success:t,failure:r,scope:n||this}))},this.remove=function(e){delete d[e],delete o[e]},this.loadQueue=function(e,t,n){this.loadScripts(i,e,t,n)},this.loadScripts=function(t,e,n,r){var c,l=[];function u(t,e){s(o[e],function(e){h(e[t])&&e[t].call(e.scope)}),o[e]=void 0}a.push({success:e,failure:r,scope:n||this}),(c=function(){var e=g(t);t.length=0,s(e,function(e){var t,n,r,i,o,a;function s(){a.remove(o),i&&(i.onreadystatechange=i.onload=i=null),n()}2===d[e]?u("success",e):3===d[e]?u("failure",e):1!==d[e]&&(d[e]=1,f++,t=e,n=function(){d[e]=2,f--,u("success",e),c()},r=function(){d[e]=3,f--,l.push(e),u("failure",e),c()},o=(a=p).uniqueId(),(i=document.createElement("script")).id=o,i.type="text/javascript",i.src=m._addCacheSuffix(t),"onreadystatechange"in i?i.onreadystatechange=function(){/loaded|complete/.test(i.readyState)&&s()}:i.onload=s,i.onerror=function(){h(r)?r():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+t)},(document.getElementsByTagName("head")[0]||document.body).appendChild(i))}),f||(s(a,function(e){0===l.length?h(e.success)&&e.success.call(e.scope):h(e.failure)&&e.failure.call(e.scope,l)}),a.length=0)})()}}return t.ScriptLoader=new t,t}),r("tinymce.core.AddOnManager",["tinymce.core.dom.ScriptLoader","tinymce.core.util.Tools"],function(c,e){var l=e.each;function u(){this.items=[],this.urls={},this.lookup={}}return u.prototype={get:function(e){if(this.lookup[e])return this.lookup[e].instance},dependencies:function(e){var t;return(t=this.lookup[e]?this.lookup[e].dependencies:t)||[]},requireLangPack:function(e,t){var n=u.language;if(n&&!1!==u.languageLoad){if(t)if(-1!=(t=","+t+",").indexOf(","+n.substr(0,2)+","))n=n.substr(0,2);else if(-1==t.indexOf(","+n+","))return;c.ScriptLoader.add(this.urls[e]+"/langs/"+n+".js")}},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},t},remove:function(e){delete this.urls[e],delete this.lookup[e]},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(e,t){var n=this.urls[e];l(t,function(e){c.ScriptLoader.add(n+"/"+e)})},load:function(t,n,r,i,e){var o=this,a=n;function s(){var e=o.dependencies(t);l(e,function(e){e=o.createUrl(n,e);o.load(e.resource,e,void 0,void 0)}),r&&(i?r.call(i):r.call(c))}o.urls[t]||(0!==(a="object"==typeof n?n.prefix+n.resource+n.suffix:a).indexOf("/")&&-1==a.indexOf("://")&&(a=u.baseURL+"/"+a),o.urls[t]=a.substring(0,a.lastIndexOf("/")),o.lookup[t]?s():c.ScriptLoader.add(a,s,i,e))}},u.PluginManager=new u,u.ThemeManager=new u,u}),r("tinymce.core.html.Node",[],function(){var o=/^[ \t\r\n]*$/,i={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};function a(e,t,n){var r,i,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(r=e[a])return r;for(i=e.parent;i&&i!==t;i=i.parent)if(r=i[a])return r}}function s(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}return s.prototype={replace:function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},attr:function(e,t){var n,r;if("string"!=typeof e){for(r in e)this.attr(r,e[r]);return this}if(n=this.attributes){if(void 0===t)return n.map[e];if(null===t){if(e in n.map)for(delete n.map[e],r=n.length;r--;)if(n[r].name===e)return n=n.splice(r,1),this}else{if(e in n.map){for(r=n.length;r--;)if(n[r].name===e){n[r].value=t;break}}else n.push({name:e,value:t});n.map[e]=t}return this}},clone:function(){var e,t,n,r,i,o=new s(this.name,this.type);if(n=this.attributes){for((i=[]).map={},e=0,t=n.length;e<t;e++)"id"!==(r=n[e]).name&&(i[i.length]={name:r.name,value:r.value},i.map[r.name]=r.value);o.attributes=i}return o.value=this.value,o.shortEnded=this.shortEnded,o},wrap:function(e){return this.parent.insert(e,this),e.append(this),this},unwrap:function(){for(var e,t=this.firstChild;t;)e=t.next,this.insert(t,this,!0),t=e;this.remove()},remove:function(){var e=this.parent,t=this.next,n=this.prev;return e&&(e.firstChild===this?(e.firstChild=t)&&(t.prev=null):n.next=t,e.lastChild===this?(e.lastChild=n)&&(n.next=null):t.prev=n,this.parent=this.next=this.prev=null),this},append:function(e){var t;return e.parent&&e.remove(),(t=this.lastChild)?((t.next=e).prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e},insert:function(e,t,n){var r;return e.parent&&e.remove(),r=t.parent||this,n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,(e.next=t).prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,(e.prev=t).next=e),e.parent=r,e},getAll:function(e){for(var t=[],n=this.firstChild;n;n=a(n,this))n.name===e&&t.push(n);return t},empty:function(){var e,t,n;if(this.firstChild){for(e=[],n=this.firstChild;n;n=a(n,this))e.push(n);for(t=e.length;t--;)(n=e[t]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}return this.firstChild=this.lastChild=null,this},isEmpty:function(e,t){var n,r,i=this.firstChild;if(t=t||{},i)do{if(1===i.type){if(i.attributes.map["data-mce-bogus"])continue;if(e[i.name])return!1;for(n=i.attributes.length;n--;)if("name"===(r=i.attributes[n].name)||0===r.indexOf("data-mce-bookmark"))return!1}if(8===i.type)return!1;if(3===i.type&&!o.test(i.value))return!1;if(3===i.type&&i.parent&&t[i.parent.name]&&o.test(i.value))return!1}while(i=a(i,this));return!0},walk:function(e){return a(this,null,e)}},s.create=function(e,t){var n,r=new s(e,i[e]||1);if(t)for(n in t)r.attr(n,t[n]);return r},s}),r("tinymce.core.html.SaxParser",["tinymce.core.html.Schema","tinymce.core.html.Entities","tinymce.core.util.Tools"],function(e,W,V){var r=V.each;function q(e,t,n){var r,i,o=1,a=e.getShortEndedElements(),s=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;for(s.lastIndex=r=n;i=s.exec(t);){if(r=s.lastIndex,"/"===i[1])o--;else if(!i[1]){if(i[2]in a)continue;o++}if(0===o)break}return r}function t(U,z){var t=this;function n(){}U=U||{},t.schema=z=z||new e,!1!==U.fix_self_closing&&(U.fix_self_closing=!0),r("comment cdata text start end pi doctype".split(" "),function(e){e&&(t[e]=U[e]||n)}),t.parse=function(e){var t,n,r,s,i,o,a,c,l,u,d,f,m,h,p,g,y,v,b,x,C,w,k,E,S,N,T,R,_,B=this,A=0,D=[],P=0,O=W.decode,M=V.makeMap("src,href,data,background,formaction,poster"),L=/((java|vb)script|mhtml):/i,I=/^data:/i;function F(e){for(var t,n=D.length;n--&&D[n].name!==e;);if(0<=n){for(t=D.length-1;n<=t;t--)(e=D[t]).valid&&B.end(e.name);D.length=n}}function H(e,t,n,r,i){var o,a;if(n=(t=t.toLowerCase())in d?t:O(n||r||i||""),m&&!c&&!1==(0===(r=t).indexOf("data-")||0===r.indexOf("aria-"))){if(!(o=v[t])&&b){for(a=b.length;a--&&!(o=b[a]).pattern.test(t););-1===a&&(o=null)}if(!o)return;if(o.validValues&&!(n in o.validValues))return}if(M[t]&&!U.allow_script_urls){i=n.replace(/[\s\u0000-\u001F]+/g,"");try{i=decodeURIComponent(i)}catch(e){i=unescape(i)}if(L.test(i))return;if(!U.allow_html_data_urls&&I.test(i)&&!/^data:image\//i.test(i))return}c&&(t in M||0===t.indexOf("on"))||(s.map[t]=n,s.push({name:t,value:n}))}for(S=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),N=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,u=z.getShortEndedElements(),E=U.self_closing_elements||z.getSelfClosingElements(),d=z.getBoolAttrs(),m=U.validate,l=U.remove_internals,_=U.fix_self_closing,T=z.getSpecialElements(),k=e+">";t=S.exec(k);){if(A<t.index&&B.text(O(e.substr(A,t.index-A))),n=t[6])F(n=":"===(n=n.toLowerCase()).charAt(0)?n.substr(1):n);else if(n=t[7]){if(t.index+t[0].length>e.length){B.text(O(e.substr(t.index))),A=t.index+t[0].length;continue}if(f=(n=":"===(n=n.toLowerCase()).charAt(0)?n.substr(1):n)in u,_&&E[n]&&0<D.length&&D[D.length-1].name===n&&F(n),!m||(h=z.getElementRule(n))){if(p=!0,m&&(v=h.attributes,b=h.attributePatterns),(y=t[8])?((c=-1!==y.indexOf("data-mce-type"))&&l&&(p=!1),(s=[]).map={},y.replace(N,H)):(s=[]).map={},m&&!c){if(x=h.attributesRequired,C=h.attributesDefault,w=h.attributesForced,h.removeEmptyAttrs&&!s.length&&(p=!1),w)for(i=w.length;i--;)a=(g=w[i]).name,"{$uid}"===(R=g.value)&&(R="mce_"+P++),s.map[a]=R,s.push({name:a,value:R});if(C)for(i=C.length;i--;)(a=(g=C[i]).name)in s.map||("{$uid}"===(R=g.value)&&(R="mce_"+P++),s.map[a]=R,s.push({name:a,value:R}));if(x){for(i=x.length;i--&&!(x[i]in s.map););-1===i&&(p=!1)}if(g=s.map["data-mce-bogus"]){if("all"===g){A=q(z,e,S.lastIndex),S.lastIndex=A;continue}p=!1}}p&&B.start(n,s,f)}else p=!1;if(r=T[n]){r.lastIndex=A=t.index+t[0].length,A=(t=r.exec(e))?(p&&(o=e.substr(A,t.index-A)),t.index+t[0].length):(o=e.substr(A),e.length),p&&(0<o.length&&B.text(o,!0),B.end(n)),S.lastIndex=A;continue}f||(y&&y.indexOf("/")==y.length-1?p&&B.end(n):D.push({name:n,valid:p}))}else(n=t[1])?(">"===n.charAt(0)&&(n=" "+n),U.allow_conditional_comments||"[if"!==n.substr(0,3).toLowerCase()||(n=" "+n),B.comment(n)):(n=t[2])?B.cdata(n.replace(/<!--|-->/g,"")):(n=t[3])?B.doctype(n):(n=t[4])&&B.pi(n,t[5]);A=t.index+t[0].length}for(A<e.length&&B.text(O(e.substr(A))),i=D.length-1;0<=i;i--)(n=D[i]).valid&&B.end(n.name)}}return t.findEndTag=q,t}),r("tinymce.core.html.DomParser",["tinymce.core.html.Node","tinymce.core.html.Schema","tinymce.core.html.SaxParser","tinymce.core.util.Tools"],function(te,e,ne,r){function re(e,t){e.padd_empty_with_br?t.empty().append(new te("br","1")).shortEnded=!0:t.empty().append(new te("#text","3")).value=""}var ie=r.makeMap,t=r.each,i=r.explode,oe=r.extend;return function(Y,X){var G=this,Z={},J=[],Q={},ee={};(Y=Y||{}).validate=!("validate"in Y)||Y.validate,Y.root_name=Y.root_name||"body",G.schema=X=X||new e,G.filterNode=function(e){var t,n,r;n in Z&&((r=Q[n])?r.push(e):Q[n]=[e]),t=J.length;for(;t--;)(n=J[t].name)in e.attributes.map&&((r=ee[n])?r.push(e):ee[n]=[e]);return e},G.addNodeFilter=function(e,n){t(i(e),function(e){var t=Z[e];t||(Z[e]=t=[]),t.push(n)})},G.addAttributeFilter=function(e,n){t(i(e),function(e){for(var t=0;t<J.length;t++)if(J[t].name===e)return void J[t].callbacks.push(n);J.push({name:e,callbacks:[n]})})},G.parse=function(L,e){var t,n,s,r,i,o,a,c,l,u,d,f,m,h,p,I,g,y,v,F,b,x=[];function C(e,t){var n,t=new te(e,t);return e in Z&&((n=Q[e])?n.push(t):Q[e]=[t]),t}function w(e){for(var t,n=X.getBlockElements(),r=e.prev;r&&3===r.type;){if(0<(t=r.value.replace(p,"")).length)return void(r.value=t);if(t=r.next){if(3==t.type&&t.value.length){r=r.prev;continue}if(!n[t.name]&&"script"!=t.name&&"style"!=t.name){r=r.prev;continue}}t=r.prev,r.remove(),r=t}}if(e=e||{},Q={},ee={},f=oe(ie("script,style,head,html,body,title,meta,param"),X.getBlockElements()),F=X.getNonEmptyElements(),v=X.children,d=Y.validate,b=("forced_root_block"in e?e:Y).forced_root_block,y=X.getWhiteSpaceElements(),m=/^[ \t\r\n]+/,p=/[ \t\r\n]+$/,I=/[ \t\r\n]+/g,g=/^[ \t\r\n]+$/,t=new ne({validate:d,allow_script_urls:Y.allow_script_urls,allow_conditional_comments:Y.allow_conditional_comments,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!=t&&(n[t]=e[t]);return n}(X.getSelfClosingElements()),cdata:function(e){s.append(C("#cdata",4)).value=e},text:function(e,t){var n;h||(e=e.replace(I," "),s.lastChild&&f[s.lastChild.name]&&(e=e.replace(m,""))),0!==e.length&&((n=C("#text",3)).raw=!!t,s.append(n).value=e)},comment:function(e){s.append(C("#comment",8)).value=e},pi:function(e,t){s.append(C(e,7)).value=t,w(s)},doctype:function(e){s.append(C("#doctype",10)).value=e,w(s)},start:function(e,t,n){var r,i,o,a=d?X.getElementRule(e):{};if(a){for((r=C(a.outputName||e,1)).attributes=t,r.shortEnded=n,s.append(r),(a=v[s.name])&&v[r.name]&&!a[r.name]&&x.push(r),i=J.length;i--;)(o=J[i].name)in t.map&&((l=ee[o])?l.push(r):ee[o]=[r]);f[e]&&w(r),n||(s=r),!h&&y[e]&&(h=!0)}},end:function(e){var t,n,r,i=d?X.getElementRule(e):{};if(i){if(f[e]&&!h){if((t=s.firstChild)&&3===t.type)if(0<(n=t.value.replace(m,"")).length)t.value=n,t=t.next;else for(r=t.next,t.remove(),t=r;t&&3===t.type;)n=t.value,r=t.next,0!==n.length&&!g.test(n)||(t.remove(),t=r),t=r;if((t=s.lastChild)&&3===t.type)if(0<(n=t.value.replace(p,"")).length)t.value=n,t=t.prev;else for(r=t.prev,t.remove(),t=r;t&&3===t.type;)n=t.value,r=t.prev,0!==n.length&&!g.test(n)||(t.remove(),t=r),t=r}if(h&&y[e]&&(h=!1),(i.removeEmpty||i.paddEmpty)&&s.isEmpty(F,y))if(i.paddEmpty)re(Y,s);else if(!s.attributes.map.name&&!s.attributes.map.id)return e=s.parent,f[s.name]?s.empty().remove():s.unwrap(),void(s=e);s=s.parent}}},X),n=s=new te(e.context||Y.root_name,11),t.parse(L),d&&x.length)if(e.context)e.invalid=!0;else for(var k,E,S,N,T,R,_,B,H,A,D,U=x,z=ie("tr,td,th,tbody,thead,tfoot,table"),W=X.getNonEmptyElements(),V=X.getWhiteSpaceElements(),q=X.getTextBlockElements(),j=X.getSpecialElements(),P=0;P<U.length;P++)if((k=U[P]).parent&&!k.fixed)if(q[k.name]&&"li"==k.parent.name){for(B=k.next;B&&q[B.name];)B.name="li",B.fixed=!0,k.parent.insert(B,k.parent),B=B.next;k.unwrap(k)}else{for(S=[k],E=k.parent;E&&!X.isValidChild(E.name,k.name)&&!z[E.name];E=E.parent)S.push(E);if(E&&1<S.length){for(S.reverse(),D=N=G.filterNode(S[0].clone()),_=0;_<S.length-1;_++){for(X.isValidChild(N.name,S[_].name)?(T=G.filterNode(S[_].clone()),N.append(T)):T=N,R=S[_].firstChild;R&&R!=S[_+1];)H=R.next,T.append(R),R=H;N=T}D.isEmpty(W,V)?E.insert(k,S[0],!0):(E.insert(D,S[0],!0),E.insert(k,D)),((E=S[0]).isEmpty(W,V)||(D="br",(A=E)&&A.firstChild===A.lastChild&&A.firstChild.name===D))&&E.empty().remove()}else k.parent&&("li"===k.name?!(B=k.prev)||"ul"!==B.name&&"ul"!==B.name?!(B=k.next)||"ul"!==B.name&&"ul"!==B.name?k.wrap(G.filterNode(new te("ul",1))):B.insert(k,B.firstChild,!0):B.append(k):X.isValidChild(k.parent.name,"div")&&X.isValidChild("div",k.name)?k.wrap(G.filterNode(new te("div",1))):j[k.name]?k.empty().remove():k.unwrap())}if(b&&("body"==n.name||e.isRootContent)){var $,O,M=n.firstChild;function K(e){e&&((M=e.firstChild)&&3==M.type&&(M.value=M.value.replace(m,"")),(M=e.lastChild)&&3==M.type&&(M.value=M.value.replace(p,"")))}if(X.isValidChild(n.name,b.toLowerCase())){for(;M;)$=M.next,3==M.type||1==M.type&&"p"!==M.name&&!f[M.name]&&!M.attr("data-mce-type")?(O||((O=C(b,1)).attr(Y.forced_root_block_attrs),n.insert(O,M)),O.append(M)):(K(O),O=null),M=$;K(O)}}if(!e.invalid){for(u in Q){for(l=Z[u],a=(r=Q[u]).length;a--;)r[a].parent||r.splice(a,1);for(i=0,o=l.length;i<o;i++)l[i](r,u,e)}for(i=0,o=J.length;i<o;i++)if((l=J[i]).name in ee){for(a=(r=ee[l.name]).length;a--;)r[a].parent||r.splice(a,1);for(a=0,c=l.callbacks.length;a<c;a++)l.callbacks[a](r,l.name,e)}}return n},Y.remove_trailing_brs&&G.addNodeFilter("br",function(e){var t,n,r,i,o,a,s,c=e.length,l=oe({},X.getBlockElements()),u=X.getNonEmptyElements(),d=X.getNonEmptyElements();for(l.body=1,t=0;t<c;t++)if(r=(n=e[t]).parent,l[n.parent.name]&&n===r.lastChild){for(o=n.prev;o;){if("span"!==(a=o.name)||"bookmark"!==o.attr("data-mce-type")){if("br"!==a)break;if("br"===a){n=null;break}}o=o.prev}n&&(n.remove(),r.isEmpty(u,d)&&(s=X.getElementRule(r.name))&&(s.removeEmpty?r.remove():s.paddEmpty&&re(Y,r)))}else{for(i=n;r&&r.firstChild===i&&r.lastChild===i&&!l[(i=r).name];)r=r.parent;i===r&&!0!==Y.padd_empty_with_br&&((s=new te("#text",3)).value="",n.replace(s))}}),G.addAttributeFilter("href",function(e){var t,n=e.length;if(!Y.allow_unsafe_link_target)for(;n--;)"a"===(t=e[n]).name&&"_blank"===t.attr("target")&&t.attr("rel",function(e){e=e?r.trim(e):"";return/\b(noopener)\b/g.test(e)?e:e.split(" ").filter(function(e){return 0<e.length}).concat(["noopener"]).sort().join(" ")}(t.attr("rel")))}),Y.allow_html_in_named_anchor||G.addAttributeFilter("id,name",function(e){for(var t,n,r,i,o=e.length;o--;)if("a"===(i=e[o]).name&&i.firstChild&&!i.attr("href"))for(r=i.parent,t=i.lastChild;n=t.prev,r.insert(t,i),t=n;);}),Y.fix_list_elements&&G.addNodeFilter("ul,ol",function(e){for(var t,n,r=e.length;r--;)"ul"!==(n=(t=e[r]).parent).name&&"ol"!==n.name||(t.prev&&"li"===t.prev.name?t.prev.append(t):((n=new te("li",1)).attr("style","list-style-type: none"),t.wrap(n)))}),Y.validate&&X.getValidClasses()&&G.addAttributeFilter("class",function(e){for(var t,n,r,i,o,a,s,c=e.length,l=X.getValidClasses();c--;){for(n=(t=e[c]).attr("class").split(" "),o="",r=0;r<n.length;r++)i=n[r],s=!1,(a=l["*"])&&a[i]&&(s=!0),a=l[t.name],(s=!s&&a&&a[i]?!0:s)&&(o&&(o+=" "),o+=i);o.length||(o=null),t.attr("class",o)}})}}),r("tinymce.core.html.Writer",["tinymce.core.html.Entities","tinymce.core.util.Tools"],function(t,e){var n=e.makeMap;return function(e){var s=[],c=(e=e||{}).indent,l=n(e.indent_before||""),u=n(e.indent_after||""),d=t.getEncodeFunc(e.entity_encoding||"raw",e.entities),f="html"==e.element_format;return{start:function(e,t,n){var r,i,o,a;if(c&&l[e]&&0<s.length&&0<(a=s[s.length-1]).length&&"\n"!==a&&s.push("\n"),s.push("<",e),t)for(r=0,i=t.length;r<i;r++)o=t[r],s.push(" ",o.name,'="',d(o.value,!0),'"');s[s.length]=!n||f?">":" />",n&&c&&u[e]&&0<s.length&&0<(a=s[s.length-1]).length&&"\n"!==a&&s.push("\n")},end:function(e){s.push("</",e,">"),c&&u[e]&&0<s.length&&0<(e=s[s.length-1]).length&&"\n"!==e&&s.push("\n")},text:function(e,t){0<e.length&&(s[s.length]=t?e:d(e))},cdata:function(e){s.push("<![CDATA[",e,"]]>")},comment:function(e){s.push("\x3c!--",e,"--\x3e")},pi:function(e,t){t?s.push("<?",e," ",d(t),"?>"):s.push("<?",e,"?>"),c&&s.push("\n")},doctype:function(e){s.push("<!DOCTYPE",e,">",c?"\n":"")},reset:function(){s.length=0},getContent:function(){return s.join("").replace(/\n$/,"")}}}}),r("tinymce.core.html.Serializer",["tinymce.core.html.Writer","tinymce.core.html.Schema"],function(e,n){return function(t,m){var h=new e(t);(t=t||{}).validate=!("validate"in t)||t.validate,this.schema=m=m||new n,this.writer=h,this.serialize=function(e){var u,d;function f(e){var t,n,r,i,o,a,s,c,l=u[e.type];if(l)l(e);else{if(l=e.name,t=e.shortEnded,n=e.attributes,d&&n&&1<n.length&&((o=[]).map={},c=m.getElementRule(e.name))){for(a=0,s=c.attributesOrder.length;a<s;a++)(r=c.attributesOrder[a])in n.map&&(i=n.map[r],o.map[r]=i,o.push({name:r,value:i}));for(a=0,s=n.length;a<s;a++)(r=n[a].name)in o.map||(i=n.map[r],o.map[r]=i,o.push({name:r,value:i}));n=o}if(h.start(e.name,n,t),!t){if(e=e.firstChild)for(;f(e),e=e.next;);h.end(l)}}}return d=t.validate,u={3:function(e){h.text(e.value,e.raw)},8:function(e){h.comment(e.value)},7:function(e){h.pi(e.name,e.value)},10:function(e){h.doctype(e.value)},4:function(e){h.cdata(e.value)},11:function(e){if(e=e.firstChild)for(;f(e),e=e.next;);}},h.reset(),1!=e.type||t.inner?u[11](e):f(e),h.getContent()}}}),r("tinymce.core.dom.Serializer",["tinymce.core.dom.DOMUtils","tinymce.core.html.DomParser","tinymce.core.html.SaxParser","tinymce.core.html.Entities","tinymce.core.html.Serializer","tinymce.core.html.Node","tinymce.core.html.Schema","tinymce.core.Env","tinymce.core.util.Tools","tinymce.core.text.Zwsp"],function(e,t,m,r,h,n,i,p,o,g){var y=o.each,v=o.trim,a=e.DOM;return function(c,l){var u,s,d,n=["data-mce-selected"];function f(e){var t=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\ufeff]+<\\/span>","\\s?("+n.join("|")+')="[^"]+"'].join("|"),"gi");return e=g.trim(e.replace(t,""))}function e(e){for(var t,n,r,i=e,o=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,a=l.schema,i=f(i),s=a.getShortEndedElements();r=o.exec(i);)t=o.lastIndex,n=r[0].length,r=s[r[1]]?t:m.findEndTag(a,i,t),i=i.substring(0,t-n)+i.substring(r),o.lastIndex=t-n;return i}return l&&(u=l.dom,s=l.schema),u=u||a,s=s||new i(c),c.entity_encoding=c.entity_encoding||"named",c.remove_trailing_brs=!("remove_trailing_brs"in c)||c.remove_trailing_brs,(d=new t(c,s)).addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,r=e.length;r--;)(n=e[r]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),d.addAttributeFilter("src,href,style",function(e,t){for(var n,r,i=e.length,o="data-mce-"+t,a=c.url_converter,s=c.url_converter_scope;i--;)void 0!==(r=(n=e[i]).attributes.map[o])?(n.attr(t,0<r.length?r:null),n.attr(o,null)):(r=n.attributes.map[t],"style"===t?r=u.serializeStyle(u.parseStyle(r),n.name):a&&(r=a.call(s,r,t,n.name)),n.attr(t,0<r.length?r:null))}),d.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)(t=e[r]).attr("class")&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",0<n.length?n:null))}),d.addAttributeFilter("data-mce-type",function(e,t,n){for(var r,i=e.length;i--;)"bookmark"!==(r=e[i]).attributes.map["data-mce-type"]||n.cleanup||r.remove()}),d.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=r.decode(t.value))}),d.addNodeFilter("script,style",function(e,t){var n,r,i,o=e.length;function a(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(;o--;)r=(n=e[o]).firstChild?n.firstChild.value:"","script"===t?((i=n.attr("type"))&&n.attr("type","mce-no/type"==i?null:i.replace(/^mce\-/,"")),0<r.length&&(n.firstChild.value="// <![CDATA[\n"+a(r)+"\n// ]]>")):0<r.length&&(n.firstChild.value="\x3c!--\n"+a(r)+"\n--\x3e")}),d.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)0===(t=e[n]).value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),d.addNodeFilter("xml:namespace,input",function(e,t){for(var n,r=e.length;r--;)7===(n=e[r]).type?n.remove():1!==n.type||"input"!==t||"type"in n.attributes.map||n.attr("type","text")}),d.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:s,addNodeFilter:d.addNodeFilter,addAttributeFilter:d.addAttributeFilter,serialize:function(e,t){var n,r,i,o;function a(e){return e&&"br"===e.name}return p.ie&&0<u.select("script,style,select,map").length?(o=e.innerHTML,e=e.cloneNode(!1),u.setHTML(e,o)):e=e.cloneNode(!0),(i=document.implementation).createHTMLDocument&&(n=i.createHTMLDocument(""),y("BODY"==e.nodeName?e.childNodes:[e],function(e){n.body.appendChild(n.importNode(e,!0))}),e="BODY"!=e.nodeName?n.body.firstChild:n.body,r=u.doc,u.doc=n),(t=t||{}).format=t.format||"html",t.selection&&(t.forced_root_block=""),t.no_events||(t.node=e,this.onPreProcess(t)),o=g.trim(v(t.getInner?e.innerHTML:u.getOuterHTML(e))),i=d.parse(o,t),a(e=(e=i).lastChild)&&a(o=e.prev)&&(e.remove(),o.remove()),e=new h(c,s),t.content=e.serialize(i),t.no_events||this.onPostProcess(t),r&&(u.doc=r),t.node=null,t.content},addRules:function(e){s.addValidElements(e)},setRules:function(e){s.setValidElements(e)},onPreProcess:function(e){l&&l.fire("PreProcess",e)},onPostProcess:function(e){l&&l.fire("PostProcess",e)},addTempAttr:function(e){-1===o.inArray(n,e)&&(d.addAttributeFilter(e,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),n.push(e))},trimHtml:f,getTrimmedContent:function(){return e(l.getBody().innerHTML)},trimContent:e}}}),r("tinymce.core.util.VK",["tinymce.core.Env"],function(t){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return t.mac?e.metaKey:e.ctrlKey&&!e.altKey}}}),r("tinymce.core.dom.RangePoint",["ephox.katamari.api.Arr","tinymce.core.geom.ClientRect"],function(t,i){return{isXYWithinRange:function(n,r,e){return!e.collapsed&&t.foldl(e.getClientRects(),function(e,t){return e||i.containsXY(t,n,r)},!1)}}}),r("tinymce.core.dom.ControlSelection",["ephox.katamari.api.Fun","ephox.sugar.api.node.Element","ephox.sugar.api.search.Selectors","tinymce.core.dom.NodeType","tinymce.core.dom.RangePoint","tinymce.core.Env","tinymce.core.util.Delay","tinymce.core.util.Tools","tinymce.core.util.VK"],function(q,j,$,e,o,K,Y,X,G){var Z=e.isContentEditableFalse,J=e.isContentEditableTrue;function Q(e,t){var n,r,i=t.target;n=t,r=e.selection.getRng(),!a(n.target)||o.isXYWithinRange(n.clientX,n.clientY,r)||t.isDefaultPrevented()||(t.preventDefault(),e.selection.select(i))}var a=function(e){return e&&"IMG"===e.nodeName};return function(r,c){var l,u,d,f,m,h,p,g,y,v,b,x,C,w,k,E,S,N=c.dom,T=X.each,R=c.getDoc(),_=document,i=K.ie&&K.ie<11,B=Math.abs,o=Math.round,A=c.getBody(),D={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},e=".mce-content-body";function F(e){var t=c.settings.object_resizing;return!1!==t&&!K.iOS&&("string"!=typeof t&&(t="table,img,div"),"false"!==e.getAttribute("data-mce-resize")&&(e!=c.getBody()&&$.is(j.fromDom(e),t)))}function P(e){var t,n=e.screenX-h,r=e.screenY-p;w=n*f[2]+v,k=r*f[3]+b,w=w<5?5:w,k=k<5?5:k,("IMG"==l.nodeName&&!1!==c.settings.resize_img_proportional?!G.modifierPressed(e):G.modifierPressed(e)||"IMG"==l.nodeName&&f[2]*f[3]!=0)&&(B(n)>B(r)?(k=o(w*x),w=o(k/x)):(w=o(k/x),k=o(w*x))),N.setStyles(u,{width:w,height:k}),e=f.startPos.x+n,t=f.startPos.y+r,N.setStyles(d,{left:e=0<e?e:0,top:t=0<t?t:0,display:"block"}),d.innerHTML=w+" &times; "+k,f[2]<0&&u.clientWidth<=w&&N.setStyle(u,"left",g+(v-w)),f[3]<0&&u.clientHeight<=k&&N.setStyle(u,"top",y+(b-k)),(n=A.scrollWidth-E)+(r=A.scrollHeight-S)!==0&&N.setStyles(d,{left:e-n,top:t-r}),C||(c.fire("ObjectResizeStart",{target:l,width:v,height:b}),C=!0)}function O(){function e(e,t){t&&(l.style[e]||!c.schema.isValid(l.nodeName.toLowerCase(),e)?N.setStyle(l,e,t):N.setAttrib(l,e,t))}C=!1,e("width",w),e("height",k),N.unbind(R,"mousemove",P),N.unbind(R,"mouseup",O),_!=R&&(N.unbind(_,"mousemove",P),N.unbind(_,"mouseup",O)),N.remove(u),N.remove(d),i&&"TABLE"!=l.nodeName||M(l),c.fire("ObjectResized",{target:l,width:w,height:k}),N.setAttrib(l,"style",N.getAttrib(l,"style")),c.nodeChanged()}function M(e,i,o){var a,s,t;L(),n(),t=N.getPos(e,A),g=t.x,y=t.y,t=e.getBoundingClientRect(),a=t.width||t.right-t.left,s=t.height||t.bottom-t.top,l!=e&&(I(),l=e,w=k=0),t=c.fire("ObjectSelected",{target:e}),F(e)&&!t.isDefaultPrevented()?T(D,function(t,e){var n;function r(e){h=e.screenX,p=e.screenY,v=l.clientWidth,b=l.clientHeight,x=b/v,(f=t).startPos={x:a*t[0]+g,y:s*t[1]+y},E=A.scrollWidth,S=A.scrollHeight,u=l.cloneNode(!0),N.addClass(u,"mce-clonedresizable"),N.setAttrib(u,"data-mce-bogus","all"),u.contentEditable=!1,u.unSelectabe=!0,N.setStyles(u,{left:g,top:y,margin:0}),u.removeAttribute("data-mce-selected"),A.appendChild(u),N.bind(R,"mousemove",P),N.bind(R,"mouseup",O),_!=R&&(N.bind(_,"mousemove",P),N.bind(_,"mouseup",O)),d=N.add(A,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},v+" &times; "+b)}i?e==i&&r(o):((n=N.get("mceResizeHandle"+e))&&N.remove(n),n=N.add(A,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),K.ie&&(n.contentEditable=!1),N.bind(n,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),r(e)}),t.elm=n,N.setStyles(n,{left:a*t[0]+g-n.offsetWidth/2,top:s*t[1]+y-n.offsetHeight/2}))}):L(),l.setAttribute("data-mce-selected","1")}function L(){var e,t;for(e in n(),l&&l.removeAttribute("data-mce-selected"),D)(t=N.get("mceResizeHandle"+e))&&(N.unbind(t),N.remove(t))}function s(e){var t;function n(e,t){if(e)do{if(e===t)return 1}while(e=e.parentNode)}C||c.removed||(T(N.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),e="mousedown"==e.type?e.target:r.getNode(),n(e=N.$(e).closest(i?"table":"table,img,hr")[0],A)&&(W(),n(t=r.getStart(!0),e)&&n(r.getEnd(!0),e)&&(!i||e!=t&&"IMG"!==t.nodeName))?M(e):L())}function H(e,t,n){e&&e.attachEvent&&e.attachEvent("on"+t,n)}function t(e,t,n){e&&e.detachEvent&&e.detachEvent("on"+t,n)}function U(e){var t,n,r,i,o=e.srcElement,e=o.getBoundingClientRect(),a=m.clientX-e.left,s=m.clientY-e.top;for(t in D)if(n=D[t],r=o.offsetWidth*n[0],i=o.offsetHeight*n[1],B(r-a)<8&&B(i-s)<8){f=n;break}C=!0,c.fire("ObjectResizeStart",{target:l,width:l.clientWidth,height:l.clientHeight}),c.getDoc().selection.empty(),M(o,t,m)}function a(e){return Z(function(e,t){for(;t&&t!=e;){if(J(t)||Z(t))return t;t=t.parentNode}return null}(c.getBody(),e))}function z(e){var t,n=e.srcElement;a(n)?(t=e).preventDefault?t.preventDefault():t.returnValue=!1:n!=l&&(c.fire("ObjectSelected",{target:n}),I(),0===n.id.indexOf("mceResizeHandle")?e.returnValue=!1:"IMG"!=n.nodeName&&"TABLE"!=n.nodeName||(L(),H(l=n,"resizestart",U)))}function I(){t(l,"resizestart",U)}function n(){for(var e in D){e=D[e];e.elm&&(N.unbind(e.elm),delete e.elm)}}function W(){try{c.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}}function V(e){var t;if(i){t=R.body.createControlRange();try{return t.addElement(e),t.select(),!0}catch(e){}}}return c.contentStyles.push(e+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+e+" .mce-resizehandle:hover {background: #000}"+e+" img[data-mce-selected],"+e+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+e+" .mce-clonedresizable {position: absolute;"+(K.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+e+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),c.on("init",function(){i?(c.on("ObjectResized",function(e){"TABLE"!=e.target.nodeName&&(L(),V(e.target))}),H(A,"controlselect",z),c.on("mousedown",function(e){m=e})):(W(),11<=K.ie&&(c.on("mousedown click",function(e){var t=e.target,n=t.nodeName;C||!/^(TABLE|IMG|HR)$/.test(n)||a(t)||(2!==e.button&&c.selection.select(t,"TABLE"==n),"mousedown"==e.type&&c.nodeChanged())}),c.dom.bind(A,"mscontrolselect",function(e){function t(e){Y.setEditorTimeout(c,function(){c.selection.select(e)})}a(e.target)?(e.preventDefault(),t(e.target)):/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"==e.target.tagName&&t(e.target))})));var t=Y.throttle(function(e){c.composing||s(e)});c.on("nodechange ResizeEditor ResizeWindow drop",t),c.on("keyup compositionend",function(e){l&&"TABLE"==l.nodeName&&t(e)}),c.on("hide blur",L),c.on("contextmenu",q.curry(Q,c))}),c.on("remove",n),{isResizable:F,showResizeRect:M,hideResizeRect:L,updateResizeRect:s,controlSelect:V,destroy:function(){l=u=null,i&&(I(),t(A,"controlselect",z))}}}}),r("tinymce.core.dom.ScrollIntoView",["tinymce.core.dom.NodeType"],function(l){function u(e){for(var t=0,n=0,r=e;r&&r.nodeType;)t+=r.offsetLeft||0,n+=r.offsetTop||0,r=r.offsetParent;return{x:t,y:n}}return{scrollIntoView:function(e,t,n){var r,i,o,a=e.dom,s=a.getRoot(),c=0;if(!function(e,t,n){t={elm:t,alignToTop:n};return e.fire("scrollIntoView",t),t.isDefaultPrevented()}(e,t,n)&&l.isElement(t)){if(!1===n&&(c=t.offsetHeight),"BODY"!==s.nodeName){n=e.selection.getScrollContainer();if(n)return r=u(t).y-u(n).y+c,o=n.clientHeight,void((r<(i=n.scrollTop)||i+o<r+25)&&(n.scrollTop=r<i?r:r-o+25))}s=a.getViewPort(e.getWin()),r=a.getPos(t).y+c,i=s.y,o=s.h,(r<s.y||i+o<r+25)&&e.getWin().scrollTo(0,r<i?r:r-o+25)}}}}),r("tinymce.core.dom.TridentSelection",[],function(){return function(m){var a=this,h=m.dom;function l(e,t){var n,r,i,o,a,s,c,l=0,u=-1,d=e.duplicate();if(d.collapse(t),(c=d.parentElement()).ownerDocument===m.dom.doc){for(;"false"===c.contentEditable;)c=c.parentNode;if(!c.hasChildNodes())return{node:c,inside:1};for(n=(i=c.children).length-1;l<=n;)if(o=i[s=Math.floor((l+n)/2)],d.moveToElementText(o),0<(u=d.compareEndPoints(t?"StartToStart":"EndToEnd",e)))n=s-1;else{if(!(u<0))return{node:o};l=s+1}if(u<0)for(o?d.collapse(!1):(d.moveToElementText(c),d.collapse(!0),o=c,r=!0),a=0;0!==d.compareEndPoints(t?"StartToStart":"StartToEnd",e)&&0!==d.move("character",1)&&c==d.parentElement();)a++;else for(d.collapse(!0),a=0;0!==d.compareEndPoints(t?"StartToStart":"StartToEnd",e)&&0!==d.move("character",-1)&&c==d.parentElement();)a++;return{node:o,position:u,offset:a,inside:r}}}this.getBookmark=function(e){var t=m.getRng(),n={};function r(e){for(var t,n,r=[],i=e.parentNode,o=h.getRoot().parentNode;i!=o&&9!==i.nodeType;){for(n=(t=i.children).length;n--;)if(e===t[n]){r.push(n);break}i=(e=i).parentNode}return r}function i(e){e=l(t,e);if(e)return{position:e.position,offset:e.offset,indexes:r(e.node),inside:e.inside}}return 2===e&&(t.item?n.start={ctrl:!0,indexes:r(t.item(0))}:(n.start=i(!0),m.isCollapsed()||(n.end=i()))),n},this.moveToBookmark=function(o){var a,s=h.doc.body;function c(e){for(var t,n,r=h.getRoot(),i=e.length-1;0<=i;i--)n=r.children,(t=e[i])<=n.length-1&&(r=n[t]);return r}function e(e){var t,n,r,i=o[e?"start":"end"];i&&(t=0<i.position,(n=s.createTextRange()).moveToElementText(c(i.indexes)),void 0!==(r=i.offset)?(n.collapse(i.inside||t),n.moveStart("character",t?-r:r)):n.collapse(e),a.setEndPoint(e?"StartToStart":"EndToStart",n),e&&a.collapse(!0))}o.start&&(o.start.ctrl?(a=s.createControlRange()).addElement(c(o.start.indexes)):(a=s.createTextRange(),e(!0),e()),a.select())},this.addRange=function(e){var a,t,s,c,l,u,n,r,d=m.dom.doc,f=d.body;function i(e){var t,n=h.create("a"),r=e?s:l,i=e?c:u,o=a.duplicate();r!=d&&r!=d.documentElement||(r=f,i=0),3==r.nodeType?(r.parentNode.insertBefore(n,r),o.moveToElementText(n),o.moveStart("character",i),h.remove(n),a.setEndPoint(e?"StartToStart":"EndToEnd",o)):((t=r.childNodes).length?(i>=t.length?h.insertAfter(n,t[t.length-1]):r.insertBefore(n,t[i]),o.moveToElementText(n)):r.canHaveHTML&&(r.innerHTML="<span>&#xFEFF;</span>",n=r.firstChild,o.moveToElementText(n),o.collapse(!1)),a.setEndPoint(e?"StartToStart":"EndToEnd",o),h.remove(n))}if(s=e.startContainer,c=e.startOffset,l=e.endContainer,u=e.endOffset,a=f.createTextRange(),s==l&&1==s.nodeType){if(c==u&&!s.hasChildNodes()){if(s.canHaveHTML)return(e=s.previousSibling)&&!e.hasChildNodes()&&h.isBlock(e)?e.innerHTML="&#xFEFF;":e=null,s.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",a.moveToElementText(s.lastChild),a.select(),h.doc.selection.clear(),s.innerHTML="",void(e&&(e.innerHTML=""));c=h.nodeIndex(s),s=s.parentNode}if(c==u-1)try{if(r=s.childNodes[c],(t=f.createControlRange()).addElement(r),t.select(),(n=m.getRng()).item&&r===n.item(0))return}catch(e){}}i(!0),i(),a.select()},this.getRangeAt=function(){var t,n,r,s=m.getRng(),c=h.createRng(),i=s.item?s.item(0):s.parentElement();if(i.ownerDocument==h.doc)if(t=m.isCollapsed(),s.item)c.setStart(i.parentNode,h.nodeIndex(i)),c.setEnd(c.startContainer,c.startOffset+1);else try{o(!0),t||o()}catch(e){if(-2147024809!=e.number)throw e;r=a.getBookmark(2),(n=s.duplicate()).collapse(!0),i=n.parentElement(),t||((n=s.duplicate()).collapse(!1),(n=n.parentElement()).innerHTML=n.innerHTML),i.innerHTML=i.innerHTML,a.moveToBookmark(r),s=m.getRng(),o(!0),t||o()}return c;function o(e){var t,n,r=l(s,e),i=0,o=r.node,a=r.offset;if(r.inside&&!o.hasChildNodes())c[e?"setStart":"setEnd"](o,0);else if(void 0===a)c[e?"setStartBefore":"setEndAfter"](o);else{if(r.position<0){if(!(t=r.inside?o.firstChild:o.nextSibling))return void c[e?"setStartAfter":"setEndAfter"](o);if(!a)return void(3==t.nodeType?c[e?"setStart":"setEnd"](t,0):c[e?"setStartBefore":"setEndBefore"](t));for(;t;){if(3==t.nodeType&&a<=(i+=(n=t.nodeValue).length)){o=t,i-=a,i=n.length-i;break}t=t.nextSibling}}else{if(!(t=o.previousSibling))return c[e?"setStartBefore":"setEndBefore"](o);if(!a)return void(3==o.nodeType?c[e?"setStart":"setEnd"](t,o.nodeValue.length):c[e?"setStartAfter":"setEndAfter"](t));for(;t;){if(3==t.nodeType&&a<=(i+=t.nodeValue.length)){o=t,i-=a;break}t=t.previousSibling}}c[e?"setStart":"setEnd"](o,i)}}}}}),r("ephox.sugar.api.properties.Attr",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Obj","ephox.sugar.api.node.Node","global!Error","global!console"],function(r,t,i,n,o,a){function s(e,t,n){if(!(r.isString(n)||r.isBoolean(n)||r.isNumber(n)))throw a.error("Invalid call to Attr.set. Key ",t,":: Value ",n,":: Element ",e),new o("Attribute value was not simple");e.setAttribute(t,n+"")}var c=function(e,t,n){s(e.dom(),t,n)},l=function(e,t){e=e.dom().getAttribute(t);return null===e?void 0:e},u=function(e,t){e=e.dom();return!(!e||!e.hasAttribute)&&e.hasAttribute(t)};return{clone:function(e){return t.foldl(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},set:c,setAll:function(e,t){var n=e.dom();i.each(t,function(e,t){s(n,t,e)})},get:l,has:u,remove:function(e,t){e.dom().removeAttribute(t)},hasNone:function(e){e=e.dom().attributes;return null==e||0===e.length},transfer:function(r,i,e){n.isElement(r)&&n.isElement(i)&&t.each(e,function(e){var t,n;n=i,u(t=r,e=e)&&!u(n,e)&&c(n,e,l(t,e))})}}}),r("ephox.sugar.api.dom.Replication",["ephox.sugar.api.properties.Attr","ephox.sugar.api.node.Element","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.InsertAll","ephox.sugar.api.dom.Remove","ephox.sugar.api.search.Traverse"],function(n,r,i,o,a,s){function t(e,t){return r.fromDom(e.dom().cloneNode(t))}function c(e){return t(e,!0)}function l(e,t){return t=r.fromTag(t),e=n.clone(e),n.setAll(t,e),t}return{shallow:function(e){return t(e,!1)},shallowAs:l,deep:c,copy:function(e,t){t=l(e,t),e=s.children(c(e));return o.append(t,e),t},mutate:function(e,t){var t=l(e,t),n=(i.before(e,t),s.children(e));return o.append(t,n),a.remove(e),t}}}),r("ephox.sugar.api.node.Fragment",["ephox.katamari.api.Arr","ephox.sugar.api.node.Element","global!document"],function(r,i,o){return{fromElements:function(e,t){var n=(t||o).createDocumentFragment();return r.each(e,function(e){n.appendChild(e.dom())}),i.fromDom(n)}}}),r("tinymce.core.dom.Parents",["ephox.katamari.api.Fun","ephox.sugar.api.dom.Compare","ephox.sugar.api.search.Traverse"],function(n,r,i){function o(e,t,n){return r.contains(t,e)?i.parents(e,function(e){return n(e)||r.eq(e,t)}).slice(0,-1):[]}function a(e,t){return o(e,t,n.constant(!1))}return{parentsUntil:o,parents:a,parentsAndSelf:function(e,t){return[e].concat(a(e,t))}}}),r("ephox.katamari.api.Options",["ephox.katamari.api.Option"],function(o){return{cat:function(e){function t(e){n.push(e)}for(var n=[],r=0;r<e.length;r++)e[r].each(t);return n},findMap:function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return o.none()},liftN:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];if(!i.isSome())return o.none();n.push(i.getOrDie())}return o.some(t.apply(null,n))}}}),r("tinymce.core.selection.SelectionUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.Traverse","tinymce.core.dom.NodeType"],function(i,o,a,s,c,l,n,r,u){var d=function(t){return r.firstChild(t).fold(o.constant([t]),function(e){return[t].concat(d(e))})},f=function(t){return r.lastChild(t).fold(o.constant([t]),function(e){return"br"===n.name(e)?r.prevSibling(e).map(function(e){return[t].concat(f(e))}).getOr([]):[t].concat(f(e))})};return{hasAllContentsSelected:function(n,e){return s.liftN([(r=(t=e).startContainer,t=t.startOffset,u.isText(r)?0===t?a.some(l.fromDom(r)):a.none():a.from(r.childNodes[t]).map(l.fromDom)),(t=(r=e).endContainer,r=r.endOffset,u.isText(t)?r===t.data.length?a.some(l.fromDom(t)):a.none():a.from(t.childNodes[r-1]).map(l.fromDom))],function(e,t){e=i.find(d(n),o.curry(c.eq,e)),t=i.find(f(n),o.curry(c.eq,t));return e.isSome()&&t.isSome()}).getOr(!1);var t,r}}}),r("tinymce.core.selection.FragmentReader",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Replication","ephox.sugar.api.node.Element","ephox.sugar.api.node.Fragment","ephox.sugar.api.node.Node","tinymce.core.dom.ElementType","tinymce.core.dom.Parents","tinymce.core.selection.SelectionUtils"],function(r,e,n,i,o,a,s,c,l,u){function d(t,n){return r.find(t,function(e){return"li"===s.name(e)&&u.hasAllContentsSelected(e,n)}).fold(e.constant([]),function(e){return r.find(t,function(e){return"ul"===s.name(e)||"ol"===s.name(e)}).map(function(e){return[o.fromTag("li"),o.fromTag(s.name(e))]}).getOr([])})}var f=function(e,t){e=r.foldl(t,function(e,t){return n.append(t,e),t},e);return 0<t.length?a.fromElements([e]):e},m=function(e,t){var e=l.parentsAndSelf(o.fromDom(t.commonAncestorContainer),o.fromDom(e)),n=r.filter(e,function(e){return c.isInline(e)||c.isHeading(e)}),e=d(e,t);return r.map(n.concat(e),i.shallow)};return{read:function(e,t){return t.collapsed?a.fromElements([]):(e=e,t=t,f(o.fromDom(t.cloneContents()),m(e,t)))}}}),r("tinymce.core.dom.Selection",["ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","tinymce.core.caret.CaretPosition","tinymce.core.dom.BookmarkManager","tinymce.core.dom.ControlSelection","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.dom.ScrollIntoView","tinymce.core.dom.TreeWalker","tinymce.core.dom.TridentSelection","tinymce.core.Env","tinymce.core.selection.FragmentReader","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],function(t,n,r,o,a,e,i,s,c,l,u,d,f,m){function h(e){return!(!e||!e.ownerDocument)&&t.contains(n.fromDom(e.ownerDocument),n.fromDom(e))}var p=m.each,g=m.trim,y=u.ie;function v(e,t,n,r){var i=this;i.dom=e,i.win=t,i.serializer=n,i.editor=r,i.bookmarkManager=new o(i),i.controlSelection=new a(i,r),i.win.getSelection||(i.tridentSel=new l(i))}return v.prototype={setCursorLocation:function(e,t){var n=this.dom.createRng();e?(n.setStart(e,t),n.setEnd(e,t),this.setRng(n),this.collapse(!1)):(this._moveEndPoint(n,this.editor.getBody(),!0),this.setRng(n))},getContent:function(e){var t,n,r=this.getRng(),i=this.dom.create("body"),o=this.getSel();return t=n="",(e=e||{}).get=!0,e.format=e.format||"html",e.selection=!0,this.editor.fire("BeforeGetContent",e),"text"===e.format?this.isCollapsed()?"":f.trim(r.text||(o.toString?o.toString():"")):(r.cloneContents?(o=e.contextual?d.read(this.editor.getBody(),r).dom():r.cloneContents())&&i.appendChild(o):void 0!==r.item||void 0!==r.htmlText?(i.innerHTML="<br>"+(r.item?r.item(0).outerHTML:r.htmlText),i.removeChild(i.firstChild)):i.innerHTML=r.toString(),/^\s/.test(i.innerHTML)&&(t=" "),/\s+$/.test(i.innerHTML)&&(n=" "),e.getInner=!0,e.content=this.isCollapsed()?"":t+this.serializer.serialize(i,e)+n,this.editor.fire("GetContent",e),e.content)},setContent:function(e,t){var n,r,i=this,o=i.getRng(),a=i.win.document;if((t=t||{format:"html"}).set=!0,t.selection=!0,t.content=e,t.no_events||i.editor.fire("BeforeSetContent",t),e=t.content,o.insertNode){e+='<span id="__caret">_</span>',o.startContainer==a&&o.endContainer==a||(o.deleteContents(),0===a.body.childNodes.length)?a.body.innerHTML=e:o.createContextualFragment?o.insertNode(o.createContextualFragment(e)):(n=a.createDocumentFragment(),r=a.createElement("div"),n.appendChild(r),r.outerHTML=e,o.insertNode(n)),r=i.dom.get("__caret"),(o=a.createRange()).setStartBefore(r),o.setEndBefore(r),i.setRng(o),i.dom.remove("__caret");try{i.setRng(o)}catch(e){}}else o.item&&(a.execCommand("Delete",!1,null),o=i.getRng()),/^\s+/.test(e)?(o.pasteHTML('<span id="__mce_tmp">_</span>'+e),i.dom.remove("__mce_tmp")):o.pasteHTML(e);t.no_events||i.editor.fire("SetContent",t)},getStart:function(e){var t,n,r,i,o=this.getRng();if(o.duplicate||o.item){if(o.item)return o.item(0);for((r=o.duplicate()).collapse(1),(t=r.parentElement()).ownerDocument!==this.dom.doc&&(t=this.dom.getRoot()),n=i=o.parentElement();i=i.parentNode;)if(i==t){t=n;break}return t}return(t=1!=(t=o.startContainer).nodeType||!t.hasChildNodes()||e&&o.collapsed?t:t.childNodes[Math.min(t.childNodes.length-1,o.startOffset)])&&3==t.nodeType?t.parentNode:t},getEnd:function(e){var t,n,r=this.getRng();return r.duplicate||r.item?r.item?r.item(0):((r=r.duplicate()).collapse(0),(t=(t=r.parentElement()).ownerDocument!==this.dom.doc?this.dom.getRoot():t)&&"BODY"==t.nodeName&&t.lastChild||t):(t=r.endContainer,n=r.endOffset,(t=1!=t.nodeType||!t.hasChildNodes()||e&&r.collapsed?t:t.childNodes[0<n?n-1:n])&&3==t.nodeType?t.parentNode:t)},getBookmark:function(e,t){return this.bookmarkManager.getBookmark(e,t)},moveToBookmark:function(e){return this.bookmarkManager.moveToBookmark(e)},select:function(e,t){var n=this.dom,r=n.createRng();if(this.lastFocusBookmark=null,e){if(!t&&this.controlSelection.controlSelect(e))return;n=n.nodeIndex(e),r.setStart(e.parentNode,n),r.setEnd(e.parentNode,n+1),t&&(this._moveEndPoint(r,e,!0),this._moveEndPoint(r,e)),this.setRng(r)}return e},isCollapsed:function(){var e=this.getRng(),t=this.getSel();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},collapse:function(e){var t,n=this.getRng();n.item&&(t=n.item(0),(n=this.win.document.body.createTextRange()).moveToElementText(t)),n.collapse(!!e),this.setRng(n)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){var t,n,r,i,o,a,s=this;function c(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}}if(!s.win)return null;if(null==(i=s.win.document))return null;if(!e&&s.lastFocusBookmark)(a=s.lastFocusBookmark).startContainer?((n=i.createRange()).setStart(a.startContainer,a.startOffset),n.setEnd(a.endContainer,a.endOffset)):n=a;else{if(e&&s.tridentSel)return s.tridentSel.getRangeAt(0);try{(t=s.getSel())&&(n=0<t.rangeCount?t.getRangeAt(0):(t.createRange?t:i).createRange())}catch(e){}if((a=s.editor.fire("GetSelectionRange",{range:n})).range!==n)return a.range;if(y&&n&&n.setStart&&i.selection){try{o=i.selection.createRange()}catch(e){}o&&o.item&&(r=o.item(0),(n=i.createRange()).setStartBefore(r),n.setEndAfter(r))}(n=n||(i.createRange?i.createRange():i.body.createTextRange())).setStart&&9===n.startContainer.nodeType&&n.collapsed&&(r=s.dom.getRoot(),n.setStart(r,0),n.setEnd(r,0)),s.selectedRange&&s.explicitRange&&(0===c(n.START_TO_START,n,s.selectedRange)&&0===c(n.END_TO_END,n,s.selectedRange)?n=s.explicitRange:(s.selectedRange=null,s.explicitRange=null))}return n},setRng:function(e,t){var n,r;if((r=e)&&(!!r.select||h(r.startContainer)&&h(r.endContainer)))if(e.select){this.explicitRange=null;try{e.select()}catch(e){}}else if(this.tridentSel){if(e.cloneRange)try{this.tridentSel.addRange(e)}catch(e){}}else{if(r=this.getSel(),e=this.editor.fire("SetSelectionRange",{range:e,forward:t}).range,r){this.explicitRange=e;try{r.removeAllRanges(),r.addRange(e)}catch(e){}!1===t&&r.extend&&(r.collapse(e.endContainer,e.endOffset),r.extend(e.startContainer,e.startOffset)),this.selectedRange=0<r.rangeCount?r.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!r.setBaseAndExtent||u.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(n=e.startContainer.childNodes[e.startOffset])&&"IMG"===n.tagName&&(r.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),r.anchorNode===e.startContainer&&r.focusNode===e.endContainer||r.setBaseAndExtent(n,0,n,1)),this.editor.fire("AfterSetSelectionRange",{range:e,forward:t})}},setNode:function(e){return this.setContent(this.dom.getOuterHTML(e)),e},getNode:function(){var e,t,n,r,i,o=this.getRng(),a=this.dom.getRoot();function s(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}return o?(t=o.startContainer,n=o.endContainer,r=o.startOffset,i=o.endOffset,o.setStart?(e=o.commonAncestorContainer,!o.collapsed&&(t==n&&i-r<2&&t.hasChildNodes()&&(e=t.childNodes[r]),3===t.nodeType&&3===n.nodeType&&(t=t.length===r?s(t.nextSibling,!0):t.parentNode,n=0===i?s(n.previousSibling,!1):n.parentNode,t&&t===n))?t:e&&3==e.nodeType?e.parentNode:e):(e=o.item?o.item(0):o.parentElement()).ownerDocument!==this.win.document?a:e):a},getSelectedBlocks:function(e,t){var n=this.dom,r=[],i=n.getRoot();if(e=n.getParent(e||this.getStart(),n.isBlock),t=n.getParent(t||this.getEnd(),n.isBlock),e&&e!=i&&r.push(e),e&&t&&e!=t)for(var o,a=new c(e,i);(o=a.next())&&o!=t;)n.isBlock(o)&&r.push(o);return t&&e!=t&&t!=i&&r.push(t),r},isForward:function(){var e,t=this.dom,n=this.getSel();return!(n&&n.anchorNode&&n.focusNode)||((e=t.createRng()).setStart(n.anchorNode,n.anchorOffset),e.collapse(!0),(t=t.createRng()).setStart(n.focusNode,n.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0)},normalize:function(){var e=this.getRng();return u.range&&new i(this.dom).normalize(e)&&this.setRng(e,this.isForward()),e},selectorChanged:function(e,t){var a,s=this;return s.selectorChangedData||(s.selectorChangedData={},a={},s.editor.on("NodeChange",function(e){var n=e.element,r=s.dom,i=r.getParents(n,null,r.getRoot()),o={};p(s.selectorChangedData,function(e,n){p(i,function(t){if(r.is(t,n))return a[n]||(p(e,function(e){e(!0,{node:t,selector:n,parents:i})}),a[n]=e),o[n]=e,!1})}),p(a,function(e,t){o[t]||(delete a[t],p(e,function(e){e(!1,{node:n,selector:t,parents:i})}))})})),s.selectorChangedData[e]||(s.selectorChangedData[e]=[]),s.selectorChangedData[e].push(t),s},getScrollContainer:function(){for(var e,t=this.dom.getRoot();t&&"BODY"!=t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e,t){s.scrollIntoView(this.editor,e,t)},placeCaretAt:function(e,t){this.setRng(i.getCaretRangeFromPoint(e,t,this.editor.getDoc()))},_moveEndPoint:function(e,t,n){var r=t,i=new c(t,r),o=this.dom.schema.getNonEmptyElements();do{if(3==t.nodeType&&0!==g(t.nodeValue).length)return void(n?e.setStart(t,0):e.setEnd(t,t.nodeValue.length));if(o[t.nodeName]&&!/^(TD|TH)$/.test(t.nodeName))return void(n?e.setStartBefore(t):"BR"==t.nodeName?e.setEndBefore(t):e.setEndAfter(t));if(u.ie&&u.ie<11&&this.dom.isBlock(t)&&this.dom.isEmpty(t))return void(n?e.setStart(t,0):e.setEnd(t,0))}while(t=n?i.next():i.prev());"BODY"==r.nodeName&&(n?e.setStart(r,0):e.setEnd(r,r.childNodes.length))},getBoundingClientRect:function(){var e=this.getRng();return e.collapsed?r.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},v}),r("tinymce.core.undo.Diff",[],function(){return{KEEP:0,DELETE:2,INSERT:1,diff:function(h,p){function l(e,t,n,r,i){var o=function(e,t,n,r){var i=t-e,o=r-n;if(i===0||o===0)return null;var a=i-o,s=o+i,c=(s%2===0?s:s+1)/2;g[1+c]=e,y[1+c]=t+1;for(var l=0;l<=c;++l){for(var u=-l;u<=l;u+=2){var d=u+c;if(u===-l||u!=l&&g[d-1]<g[d+1])g[d]=g[d+1];else g[d]=g[d-1]+1;var f=g[d];var m=f-e+n-u;while(f<t&&m<r&&h[f]===p[m]){g[d]=++f;++m}if(a%2!=0&&a-l<=u&&u<=a+l)if(y[d-a]<=g[d])return v(y[d-a],u+e-n,t,r)}for(u=a-l;u<=a+l;u+=2){d=u+c-a;if(u===a-l||u!=a+l&&y[d+1]<=y[d-1])y[d]=y[d+1]-1;else y[d]=y[d-1];f=y[d]-1;m=f-e+n-u;while(f>=e&&m>=n&&h[f]===p[m]){y[d]=f--;m--}if(a%2===0&&-l<=u&&u<=l)if(y[d]<=g[d+a])return v(y[d],u+e-n,t,r)}}}(e,t,n,r);if(null===o||o.start===t&&o.diag===t-r||o.end===e&&o.diag===e-n)for(var a=e,s=n;a<t||s<r;)a<t&&s<r&&h[a]===p[s]?(i.push([0,h[a]]),++a,++s):r-n<t-e?(i.push([2,h[a]]),++a):(i.push([1,p[s]]),++s);else{l(e,o.start,n,o.start-o.diag,i);for(var c=o.start;c<o.end;++c)i.push([0,h[c]]);l(o.end,t,o.end-o.diag,r,i)}}var e=h.length+p.length+2,g=new Array(e),y=new Array(e),v=function(e,t,n,r){for(var i=e;i-t<r&&i<n&&h[i]===p[i-t];)++i;return{start:e,end:i,diag:t}},e=[];return l(0,h.length,0,p.length,e),e}}}),r("tinymce.core.undo.Fragments",["tinymce.core.util.Arr","tinymce.core.html.Entities","tinymce.core.undo.Diff"],function(o,t,a){function s(e){return 1===e.nodeType?e.outerHTML:3===e.nodeType?t.encodeRaw(e.data,!1):8===e.nodeType?"\x3c!--"+e.data+"--\x3e":""}var c=function(e,t,n){t=function(e){var t,n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r}(t);e.hasChildNodes()&&n<e.childNodes.length?(n=e.childNodes[n]).parentNode.insertBefore(t,n):e.appendChild(t)},l=function(e,t){e.hasChildNodes()&&t<e.childNodes.length&&(e=e.childNodes[t]).parentNode.removeChild(e)};return{read:function(e){return o.filter(o.map(e.childNodes,s),function(e){return 0<e.length})},write:function(e,t){var n,r,i=o.map(t.childNodes,s);return i=a.diff(i,e),n=t,r=0,o.each(i,function(e){e[0]===a.KEEP?r++:e[0]===a.INSERT?(c(n,e[1],r),r++):e[0]===a.DELETE&&l(n,r)}),t}}}),r("tinymce.core.undo.Levels",["tinymce.core.util.Arr","tinymce.core.undo.Fragments"],function(r,i){function o(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}}function a(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}}function n(e){return"fragmented"===e.type?e.fragments.join(""):e.content}return{createFragmentedLevel:o,createCompleteLevel:a,createFromEditor:function(t){var e=i.read(t.getBody()),e=r.map(e,function(e){return t.serializer.trimContent(e)}),n=e.join("");return-1!==n.indexOf("</iframe>")?o(e):a(n)},applyToEditor:function(e,t,n){"fragmented"===t.type?i.write(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},isEq:function(e,t){return!!e&&!!t&&n(e)===n(t)}}}),r("tinymce.core.UndoManager",["tinymce.core.util.VK","tinymce.core.util.Tools","tinymce.core.undo.Levels"],function(e,m,h){return function(o){var a,r,i=this,s=0,c=[],t=0,l=function(){return 0===t},u=function(e){l()&&(i.typing=e)};function d(e){o.setDirty(e)}function f(e){u(!1),i.add({},e)}function n(){i.typing&&(u(!1),i.add())}return o.on("init",function(){i.add()}),o.on("BeforeExecCommand",function(e){e=e.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&(n(),i.beforeChange())}),o.on("ExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&f(e)}),o.on("ObjectResizeStart Cut",function(){i.beforeChange()}),o.on("SaveContent ObjectResized blur",f),o.on("DragEnd",f),o.on("KeyUp",function(e){var t=e.keyCode;e.isDefaultPrevented()||((33<=t&&t<=36||37<=t&&t<=40||45===t||e.ctrlKey)&&(f(),o.nodeChanged()),46!==t&&8!==t||o.nodeChanged(),r&&i.typing&&!1===h.isEq(h.createFromEditor(o),c[0])&&(!1===o.isDirty()&&(d(!0),o.fire("change",{level:c[0],lastLevel:null})),o.fire("TypingUndo"),r=!1,o.nodeChanged()))}),o.on("KeyDown",function(e){var t,n=e.keyCode;e.isDefaultPrevented()||(33<=n&&n<=36||37<=n&&n<=40||45===n?i.typing&&f(e):(t=e.ctrlKey&&!e.altKey||e.metaKey,!(n<16||20<n)||224===n||91===n||i.typing||t||(i.beforeChange(),u(!0),i.add({},e),r=!0)))}),o.on("MouseDown",function(e){i.typing&&f(e)}),o.addShortcut("meta+z","","Undo"),o.addShortcut("meta+y,meta+shift+z","","Redo"),o.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||o.nodeChanged()}),i={data:c,typing:!1,beforeChange:function(){l()&&(a=o.selection.getBookmark(2,!0))},add:function(e,t){var n,r=o.settings,i=h.createFromEditor(o);if(e=m.extend(e=e||{},i),!1===l()||o.removed)return null;if(i=c[s],o.fire("BeforeAddUndo",{level:e,lastLevel:i,originalEvent:t}).isDefaultPrevented())return null;if(i&&h.isEq(i,e))return null;if(c[s]&&(c[s].beforeBookmark=a),r.custom_undo_redo_levels&&c.length>r.custom_undo_redo_levels){for(n=0;n<c.length-1;n++)c[n]=c[n+1];c.length--,s=c.length}e.bookmark=o.selection.getBookmark(2,!0),s<c.length-1&&(c.length=s+1),c.push(e),s=c.length-1;r={level:e,lastLevel:i,originalEvent:t};return o.fire("AddUndo",r),0<s&&(d(!0),o.fire("change",r)),e},undo:function(){var e;return i.typing&&(i.add(),i.typing=!1,u(!1)),0<s&&(e=c[--s],h.applyToEditor(o,e,!0),d(!0),o.fire("undo",{level:e})),e},redo:function(){var e;return s<c.length-1&&(e=c[++s],h.applyToEditor(o,e,!1),d(!0),o.fire("redo",{level:e})),e},clear:function(){c=[],s=0,i.typing=!1,i.data=c,o.fire("ClearUndos")},hasUndo:function(){return 0<s||i.typing&&c[0]&&!h.isEq(h.createFromEditor(o),c[0])},hasRedo:function(){return s<c.length-1&&!i.typing},transact:function(e){return n(),i.beforeChange(),i.ignore(e),i.add()},ignore:function(e){try{t++,e()}finally{t--}},extra:function(e,t){var n;i.transact(e)&&(e=c[s].bookmark,n=c[s-1],h.applyToEditor(o,n,!0),i.transact(t)&&(c[s-1].beforeBookmark=e))}}}}),r("ephox.sugar.impl.ClosestOrAncestor",["ephox.katamari.api.Type","ephox.katamari.api.Option"],function(o,a){return function(e,t,n,r,i){return e(n,r)?a.some(n):o.isFunction(i)&&i(n)?a.none():t(n,r,i)}}),r("ephox.sugar.api.search.PredicateFind",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.node.Body","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.impl.ClosestOrAncestor"],function(a,n,s,c,t,r,l,i){function o(e,t,n){for(var r=e.dom(),i=a.isFunction(n)?n:s.constant(!1);r.parentNode;){var r=r.parentNode,o=l.fromDom(r);if(t(o))return c.some(o);if(i(o))break}return c.none()}function u(e,t){return n.find(e.dom().childNodes,s.compose(t,l.fromDom)).map(l.fromDom)}function d(e,r){function i(e){for(var t=0;t<e.childNodes.length;t++){if(r(l.fromDom(e.childNodes[t])))return c.some(l.fromDom(e.childNodes[t]));var n=i(e.childNodes[t]);if(n.isSome())return n}return c.none()}return i(e.dom())}return{first:function(e){return d(t.body(),e)},ancestor:o,closest:function(e,t,n){return i(function(e){return t(e)},o,e,t,n)},sibling:function(t,n){var e=t.dom();return e.parentNode?u(l.fromDom(e.parentNode),function(e){return!r.eq(t,e)&&n(e)}):c.none()},child:u,descendant:d}}),r("tinymce.core.delete.DeleteUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.PredicateFind"],function(e,r,i,o,t,a){function s(e){return!0===c[t.name(e)]}var n,c;n=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],c=e.foldl(n,function(e,t){return e[t]=!0,e},{});return{getParentTextBlock:function(e,t){return i.contains(e,t)?a.closest(t,s,(n=e,function(e){return i.eq(n,o.fromDom(e.dom().parentNode))})):r.none();var n},paddEmptyBody:function(e){var t;e.dom.isEmpty(e.getBody())&&(e.setContent(""),t=(t=(e=e).getBody()).firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t,e.selection.setCursorLocation(t,0))}}}),r("ephox.sugar.api.search.SelectorFind",["ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Selectors","ephox.sugar.impl.ClosestOrAncestor"],function(r,i,o){function a(e,t,n){return r.ancestor(e,function(e){return i.is(e,t)},n)}return{first:function(e){return i.one(e)},ancestor:a,sibling:function(e,t){return r.sibling(e,function(e){return i.is(e,t)})},child:function(e,t){return r.child(e,function(e){return i.is(e,t)})},descendant:function(e,t){return i.one(t,e)},closest:function(e,t,n){return o(i.is,a,e,t,n)}}}),r("ephox.sugar.api.search.SelectorExists",["ephox.sugar.api.search.SelectorFind"],function(r){return{any:function(e){return r.first(e).isSome()},ancestor:function(e,t,n){return r.ancestor(e,t,n).isSome()},sibling:function(e,t){return r.sibling(e,t).isSome()},child:function(e,t){return r.child(e,t).isSome()},descendant:function(e,t){return r.descendant(e,t).isSome()},closest:function(e,t,n){return r.closest(e,t,n).isSome()}}}),r("tinymce.core.dom.Empty",["ephox.katamari.api.Fun","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorExists","tinymce.core.caret.CaretCandidate","tinymce.core.dom.NodeType","tinymce.core.dom.TreeWalker"],function(n,r,i,o,a,s,c){function l(e,t){return s.isText(t)&&/^[ \t\r\n]*$/.test(t.data)&&!1===function(e,t){e=i.fromDom(e),t=i.fromDom(t);return o.ancestor(t,"pre,code",n.curry(r.eq,e))}(e,t)}var u=function(e,t){return a.isCaretCandidate(t)&&!1===l(e,t)||(e=t,s.isElement(e)&&"A"===e.nodeName&&e.hasAttribute("name"))||d(t)},d=s.hasAttribute("data-mce-bookmark"),f=s.hasAttribute("data-mce-bogus"),m=s.hasAttributeValue("data-mce-bogus","all");return{isEmpty:function(e){var t,n,r=e.dom(),i=0;if(u(r,r))return!1;if(!(n=r.firstChild))return!0;t=new c(n,r);do{if(m(n))n=t.next(!0);else{if(!f(n))if(s.isBr(n))i++;else if(u(r,n))return!1;n=t.next()}}while(n);return i<=1}}}),r("tinymce.core.delete.BlockBoundary",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.katamari.api.Struct","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Traverse","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.delete.DeleteUtils","tinymce.core.dom.Empty","tinymce.core.dom.NodeType"],function(e,t,o,a,n,r,i,s,c,l,u,d,f,m,h){var p=n.immutable("block","position"),g=n.immutable("from","to"),y=function(e,t){var e=i.fromDom(e),n=i.fromDom(t.container());return f.getParentTextBlock(e,n).map(function(e){return p(e,t)})},v=function(e){return!1===r.eq(e.from().block(),e.to().block())},b=function(e){return l.parent(e.from().block()).bind(function(t){return l.parent(e.to().block()).filter(function(e){return r.eq(t,e)})}).isSome()},x=function(e){return!1===h.isContentEditableFalse(e.from().block())&&!1===h.isContentEditableFalse(e.to().block())},C=function(t,n,r){return h.isBr(r.position().getNode())&&!1===m.isEmpty(r.block())?u.positionIn(!1,r.block().dom()).bind(function(e){return e.isEqual(r.position())?u.fromPosition(n,t,e).bind(function(e){return y(t,e)}):o.some(r)}).getOr(r):r};return{read:function(e,t,n){return n.collapsed?(i=t,t=n,t=y(r=e,d.fromRangeStart(t)),n=t.bind(function(e){return u.fromPosition(i,r,e.position()).bind(function(e){return y(r,e).map(function(e){return C(r,i,e)})})}),a.liftN([t,n],g).filter(function(e){return v(e)&&b(e)&&x(e)})):o.none();var r,i}}}),r("tinymce.core.delete.MergeBlocks",["ephox.katamari.api.Arr","ephox.katamari.api.Option","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.search.Traverse","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.dom.Empty","tinymce.core.dom.NodeType"],function(o,a,s,c,l,u,d,e,f,m){function r(e,t,n,r){var i=u.children(t);return m.isBr(r.getNode())&&(c.remove(l.fromDom(r.getNode())),r=d.positionIn(!1,n.dom()).getOr(r)),!1===f.isEmpty(t)&&o.each(i,function(e){s.append(n,e)}),f.isEmpty(t)&&c.remove(t),0<i.length?a.from(r):a.none()}return{mergeBlocks:function(e,t,n){return e?f.isEmpty(t)?(c.remove(t),d.positionIn(!0,n.dom())):d.positionIn(!1,t.dom()).bind(function(e){return r(0,n,t,e)}):f.isEmpty(n)?(c.remove(n),d.positionIn(!0,t.dom())):d.positionIn(!1,n.dom()).bind(function(e){return r(0,t,n,e)})}}}),r("tinymce.core.delete.BlockBoundaryDelete",["tinymce.core.delete.BlockBoundary","tinymce.core.delete.MergeBlocks"],function(r,i){return{backspaceDelete:function(t,n){var e=r.read(t.getBody(),n,t.selection.getRng()).bind(function(e){return i.mergeBlocks(n,e.from().block(),e.to().block())});return e.each(function(e){t.selection.setRng(e.toRange())}),e.isSome()}}}),r("tinymce.core.delete.BlockRangeDelete",["ephox.katamari.api.Options","ephox.sugar.api.dom.Compare","ephox.sugar.api.node.Element","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.delete.DeleteUtils","tinymce.core.delete.MergeBlocks"],function(t,i,o,r,a,s,c){var l=function(e,n){var r=n.getRng();return t.liftN([s.getParentTextBlock(e,o.fromDom(r.startContainer)),s.getParentTextBlock(e,o.fromDom(r.endContainer))],function(e,t){return!1===i.eq(e,t)&&(r.deleteContents(),c.mergeBlocks(!0,e,t).each(function(e){n.setRng(e.toRange())}),!0)}).getOr(!1)},u=function(e,t){var n=r.prevPosition(e.dom(),a.fromRangeStart(t)).isNone(),e=r.nextPosition(e.dom(),a.fromRangeEnd(t)).isNone();return n&&e},d=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0};return{backspaceDelete:function(e,t){return!e.selection.isCollapsed()&&((e=e).selection.getRng(),n=o.fromDom(e.getBody()),r=e.selection.getRng(),u(n,r)?d(e):l(n,e.selection));var n,r}}}),r("ephox.katamari.api.Adt",["ephox.katamari.api.Arr","ephox.katamari.api.Obj","ephox.katamari.api.Type","global!Array","global!Error","global!console"],function(c,l,u,d,f,m){return{generate:function(a){if(!u.isArray(a))throw new f("cases must be an array");if(0===a.length)throw new f("there must be at least one case");var s=[],n={};return c.each(a,function(e,r){var t=l.keys(e);if(1!==t.length)throw new f("one and only one name per case");var i=t[0],o=e[i];if(void 0!==n[i])throw new f("duplicate key detected:"+i);if("cata"===i)throw new f("cannot have a case named cata (sorry)");if(!u.isArray(o))throw new f("case arguments must be an array");s.push(i),n[i]=function(){var e=arguments.length;if(e!==o.length)throw new f("Wrong number of arguments to case "+i+". Expected "+o.length+" ("+o+"), got "+e);for(var n=new d(e),t=0;t<n.length;t++)n[t]=arguments[t];return{fold:function(){if(arguments.length!==a.length)throw new f("Wrong number of arguments to fold. Expected "+a.length+", got "+arguments.length);return arguments[r].apply(null,n)},match:function(e){var t=l.keys(e);if(s.length!==t.length)throw new f("Wrong number of arguments to match. Expected: "+s.join(",")+"\nActual: "+t.join(","));if(c.forall(s,function(e){return c.contains(t,e)}))return e[i].apply(null,n);throw new f("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+s.join(", "))},log:function(e){m.log(e,{constructors:s,constructor:i,params:n})}}}}),n}}}),r("tinymce.core.delete.CefDeleteAction",["ephox.katamari.api.Adt","ephox.katamari.api.Option","ephox.sugar.api.node.Element","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.delete.DeleteUtils","tinymce.core.dom.Empty","tinymce.core.dom.NodeType"],function(e,a,o,i,s,c,l,u,d){function f(e,t,n,r){var i=r.getNode(!1===t);return l.getParentTextBlock(o.fromDom(e),o.fromDom(n.getNode())).map(function(e){return u.isEmpty(e)?m.remove(e.dom()):m.moveToElement(i)}).orThunk(function(){return a.some(m.moveToElement(i))})}var m=e.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),h=function(e,t){t=t.getNode(!1===e),e=e?"after":"before";return d.isElement(t)&&t.getAttribute("data-mce-caret")===e},p=function(t,n,r){return i.fromPosition(n,t,r).bind(function(e){return n&&d.isContentEditableFalse(e.getNode())||!1===n&&d.isContentEditableFalse(e.getNode(!0))?f(t,n,r,e):n&&c.isAfterContentEditableFalse(r)||!1===n&&c.isBeforeContentEditableFalse(r)?a.some(m.moveToPosition(e)):a.none()})},g=function(e,t){return e&&d.isContentEditableFalse(t.nextSibling)?a.some(m.moveToElement(t.nextSibling)):!1===e&&d.isContentEditableFalse(t.previousSibling)?a.some(m.moveToElement(t.previousSibling)):a.none()};return{read:function(e,t,n){var r,i,o,n=c.normalizeRange(t?1:-1,e,n),n=s.fromRangeStart(n);return!1===t&&c.isAfterContentEditableFalse(n)?a.some(m.remove(n.getNode(!0))):t&&c.isBeforeContentEditableFalse(n)?a.some(m.remove(n.getNode())):(r=e,h(i=t,o=n)?g(i,o.getNode(!1===i)).fold(function(){return p(r,i,o)},a.some):p(r,i,o))}}}),r("tinymce.core.delete.DeleteElement",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.dom.Insert","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.api.search.PredicateFind","ephox.sugar.api.search.Traverse","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.dom.Empty","tinymce.core.dom.NodeType"],function(u,d,f,n,m,r,i,h,p,o,a,g,s,y){function e(e){return o.isCaretCandidate(e.previousSibling)?d.some((t=e.previousSibling,y.isText(t)?new g(t,t.data.length):g.after(t))):e.previousSibling?a.lastPositionIn(e.previousSibling):d.none();var t}function t(e){return o.isCaretCandidate(e.nextSibling)?d.some((t=e.nextSibling,y.isText(t)?new g(t,0):g.before(t))):e.nextSibling?a.firstPositionIn(e.nextSibling):d.none();var t}function c(r,i){return e(i).orThunk(function(){return t(i)}).orThunk(function(){return e=r,t=i,n=g.before(t.previousSibling||t.parentNode),a.prevPosition(e,n).fold(function(){return a.nextPosition(e,g.after(t))},d.some);var e,t,n})}function l(n,r){return t(r).orThunk(function(){return e(r)}).orThunk(function(){return e=n,t=r,a.nextPosition(e,g.after(t)).fold(function(){return a.prevPosition(e,g.before(t))},d.some);var e,t})}function v(t,n,e){e.fold(function(){t.focus()},function(e){t.selection.setRng(e.toRange(),n)})}function b(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(i.name(t))}function x(e){var t;return s.isEmpty(e)?(t=r.fromHtml('<br data-mce-bogus="1">'),m.empty(e),n.append(e,t),d.some(g.before(t.dom()))):d.none()}var C=function(e,t){return e=e,r=(n=t).container(),i=n.offset(),!1===g.isTextPosition(n)&&r===e.parentNode&&i>g.before(e).offset()?new g(t.container(),t.offset()-1):t;var n,r,i},w=function(e,t,n){return(e?l:c)(t,n)};return{deleteElement:function(t,n,e){s=n,c=t.getBody(),r=e.dom();var r,i,o,a,s=w(s,c,r).map(u.curry(C,r)),c=h.ancestor(e,u.curry(b,t),(i=t.getBody(),function(e){return e.dom()===i})),l=(o=e,a=s,f.liftN([p.prevSibling(o),p.nextSibling(o),a],function(e,t,n){var r,e=e.dom(),i=t.dom();return y.isText(e)&&y.isText(i)?(r=e.data.length,e.appendData(i.data),m.remove(t),m.remove(o),n.container()===i?new g(e,r):n):(m.remove(o),n)}).orThunk(function(){return m.remove(o),a}));c.bind(x).fold(function(){v(t,n,l)},function(e){v(t,n,d.some(e))})}}}),r("tinymce.core.delete.CefDelete",["ephox.katamari.api.Arr","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorFilter","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.delete.BlockBoundary","tinymce.core.delete.CefDeleteAction","tinymce.core.delete.DeleteElement","tinymce.core.delete.DeleteUtils","tinymce.core.delete.MergeBlocks","tinymce.core.dom.NodeType"],function(t,n,o,r,i,e,a,s,c,l,u,d){var f=function(t,n){return function(e){return c.deleteElement(t,n,o.fromDom(e)),!0}},m=function(t,n){return function(e){e=n?i.before(e):i.after(e);return t.selection.setRng(e.toRange()),!0}},h=function(t){return function(e){return t.selection.setRng(e.toRange()),!0}},p=function(e){t.each(r.descendants(e,".mce-offscreen-selection"),n.remove)};return{backspaceDelete:function(e,t){return e.selection.isCollapsed()?(r=e,i=t,s.read(r.getBody(),i,r.selection.getRng()).map(function(e){return e.fold(f(r,i),m(r,i),h(r))}).getOr(!1)):(t=t,n=(e=e).selection.getNode(),!!d.isContentEditableFalse(n)&&(p(o.fromDom(e.getBody())),c.deleteElement(e,t,o.fromDom(e.selection.getNode())),l.paddEmptyBody(e),!0));var n,r,i},paddEmptyElement:function(e){var t,n=function(e,t){for(;t&&t!==e;){if(d.isContentEditableTrue(t)||d.isContentEditableFalse(t))return t;t=t.parentNode}return null}(e.getBody(),e.selection.getNode());return d.isContentEditableTrue(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(i.before(t).toRange())),!0}}}),r("tinymce.core.caret.CaretContainerInline",["ephox.katamari.api.Fun","tinymce.core.dom.NodeType","tinymce.core.text.Zwsp"],function(e,t,r){function n(e,t){return e?i((e=t).previousSibling)?(a(e.previousSibling)||e.previousSibling.appendData(r.ZWSP),e.previousSibling):i(e)?(o(e)||e.insertData(0,r.ZWSP),e):(n=s(e),e.parentNode.insertBefore(n,e),n):i((e=t).nextSibling)?(o(e.nextSibling)||e.nextSibling.insertData(0,r.ZWSP),e.nextSibling):i(e)?(a(e)||e.appendData(r.ZWSP),e):(n=s(e),e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n),n);var n}var i=t.isText,o=function(e){return i(e)&&e.data[0]===r.ZWSP},a=function(e){return i(e)&&e.data[e.data.length-1]===r.ZWSP},s=function(e){return e.ownerDocument.createTextNode(r.ZWSP)};return{insertInline:n,insertInlineBefore:e.curry(n,!0),insertInlineAfter:e.curry(n,!1)}}),r("tinymce.core.caret.CaretContainerRemove",["ephox.katamari.api.Arr","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],function(i,n,o,e,r,t){function a(e,t){0===t.length?d(e):e.nodeValue=t}function s(e){var t=r.trim(e);return{count:e.length-t.length,text:t}}function c(e){var t;l(e)&&n.isCaretContainer(e)&&(n.hasContent(e)?e.removeAttribute("data-mce-caret"):d(e)),u(e)&&(t=r.trim(function(e){try{return e.nodeValue}catch(e){return""}}(e)),a(e,t))}var l=e.isElement,u=e.isText,d=function(e){var t=e.parentNode;t&&t.removeChild(e)},f=function(e,t){return c(e),t},m=function(e,t){var n=s(e.data.substr(0,t.offset())),r=s(e.data.substr(t.offset())),r=n.text+r.text;return 0<r.length?(a(e,r),new o(e,t.offset()-n.count)):t},h=function(e,t){var n=t.container(),r=i.indexOf(n.childNodes,e).map(function(e){return e<t.offset()?new o(n,t.offset()-1):t}).getOr(t);return c(e),r};return{removeAndReposition:function(e,t){return o.isTextPosition(t)?(n=e,((r=t).container()===n?m:f)(n,r)):(n=e,((r=t).container()===n.parentNode?h:f)(n,r));var n,r},remove:c}}),r("tinymce.core.EditorSettings",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Type","tinymce.core.util.Tools"],function(e,r,t,o){return{getEditorSettings:function(e,t,n,r,i){return i=o.extend({id:t,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!1,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:e.convertURL,url_converter_scope:e,ie7_compat:!0},r,i,{validate:!0,content_editable:i.inline}),r&&r.external_plugins&&i.external_plugins&&(i.external_plugins=o.extend({},r.external_plugins,i.external_plugins)),i},get:function(e,t){return r.from(e.settings[t])},getString:e.curry(function(e,t,n){return r.from(t.settings[n]).filter(e)},t.isString)}}),r("tinymce.core.text.Bidi",[],function(){var t=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/;return{hasStrongRtl:function(e){return t.test(e)}}}),r("tinymce.core.keyboard.InlineUtils",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.katamari.api.Type","ephox.sugar.api.node.Element","ephox.sugar.api.search.Selectors","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.dom.DOMUtils","tinymce.core.dom.NodeType","tinymce.core.EditorSettings","tinymce.core.text.Bidi"],function(r,e,i,t,n,o,a,s,c,l,u,d,f,m,h,p){function g(e,t){var n=t.container(),r=t.offset();return e?s.isCaretContainerInline(n)?m.isText(n.nextSibling)?new l(n.nextSibling,0):l.after(n):s.isBeforeInline(t)?new l(n,r+1):t:s.isCaretContainerInline(n)?m.isText(n.previousSibling)?new l(n.previousSibling,n.previousSibling.data.length):l.before(n):s.isAfterInline(t)?new l(n,r-1):t}return{isInlineTarget:function(e,t){e=h.getString(e,"inline_boundaries_selector").getOr("a[href],code");return a.is(o.fromDom(t),e)},findRootInline:function(e,t,n){e=e,t=t;n=r.filter(f.DOM.getParents(n.container(),"*",t),e);return i.from(n[n.length-1])},isRtl:function(e){return"rtl"===f.DOM.getStyle(e,"direction",!0)||p.hasStrongRtl(e.textContent)},isAtZwsp:function(e){return s.isBeforeInline(e)||s.isAfterInline(e)},normalizePosition:g,normalizeForwards:e.curry(g,!0),normalizeBackwards:e.curry(g,!1),hasSameParentBlock:function(e,t,n){t=u.getParentBlock(t,e),n=u.getParentBlock(n,e);return t&&t===n}}}),r("tinymce.core.keyboard.BoundaryCaret",["ephox.katamari.api.Option","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretContainerInline","tinymce.core.caret.CaretContainerRemove","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.keyboard.InlineUtils"],function(n,r,i,o,a,s,c,e){function l(e,t){return c.isText(e.container())?i.insertInline(t,e.container()):i.insertInline(t,e.getNode())}function u(e,t){return(t=t.get())&&e.container()===t&&r.isCaretContainerInline(t)}return{renderCaret:function(t,e){return e.fold(function(e){o.remove(t.get());e=i.insertInlineBefore(e);return t.set(e),n.some(new s(e,e.length-1))},function(e){return a.firstPositionIn(e).map(function(e){return u(e,t)?new s(t.get(),1):(o.remove(t.get()),e=l(e,!0),t.set(e),new s(e,1))})},function(e){return a.lastPositionIn(e).map(function(e){return u(e,t)?new s(t.get(),t.get().length-1):(o.remove(t.get()),e=l(e,!1),t.set(e),new s(e,e.length-1))})},function(e){o.remove(t.get());e=i.insertInlineAfter(e);return t.set(e),n.some(new s(e,1))})}}}),r("tinymce.core.util.LazyEvaluator",["ephox.katamari.api.Option"],function(i){return{evaluateUntil:function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return i.none()}}}),r("tinymce.core.keyboard.BoundaryLocation",["ephox.katamari.api.Adt","ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.dom.NodeType","tinymce.core.keyboard.InlineUtils","tinymce.core.util.LazyEvaluator"],function(e,u,o,a,t,d,n,r,i,f,s){function c(e,t,n){var r=f.normalizeForwards(n),i=b(t,r.container());return f.findRootInline(e,i,r).fold(function(){return d.nextPosition(i,r).bind(u.curry(f.findRootInline,e,i)).map(function(e){return v.before(e)})},o.none)}function l(e,t,n){var r=f.normalizeBackwards(n);return f.findRootInline(e,t,r).bind(function(e){return d.prevPosition(e,r).isNone()?o.some(v.start(e)):o.none()})}function m(e,t,n){var r=f.normalizeForwards(n);return f.findRootInline(e,t,r).bind(function(e){return d.nextPosition(e,r).isNone()?o.some(v.end(e)):o.none()})}function h(e,t,n){var r=f.normalizeBackwards(n),i=b(t,r.container());return f.findRootInline(e,i,r).fold(function(){return d.prevPosition(i,r).bind(u.curry(f.findRootInline,e,i)).map(function(e){return v.after(e)})},o.none)}function p(e){return e.fold(u.constant("before"),u.constant("start"),u.constant("end"),u.constant("after"))}function g(e,t){return e?t.fold(u.compose(o.some,v.start),o.none,u.compose(o.some,v.after),o.none):t.fold(o.none,u.compose(o.some,v.before),o.none,u.compose(o.some,v.end))}function y(e,a,s,c){var t=f.normalizePosition(e,c),l=C(a,s,t);return C(a,s,t).bind(u.curry(g,e)).orThunk(function(){return t=e,n=a,r=s,i=l,o=f.normalizePosition(t,c),d.fromPosition(t,r,o).map(u.curry(f.normalizePosition,t)).fold(function(){return i.map(k)},function(e){return C(n,r,e).map(u.curry(E,t,n,r,o,e)).filter(u.curry(S,i))}).filter(x);var t,n,r,i,o})}var v=e.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),b=function(e,t){t=r.getParentBlock(t,e);return t||e},x=function(e){return!1===f.isRtl(w(e))},C=function(e,t,n){return s.evaluateUntil([c,l,m,h],[e,t,n]).filter(x)},w=function(e){return e.fold(u.identity,u.identity,u.identity,u.identity)},k=function(e){return e.fold(v.before,v.before,v.after,v.after)},E=function(n,e,r,t,i,o){return a.liftN([f.findRootInline(e,r,t),f.findRootInline(e,r,i)],function(e,t){return e!==t&&f.hasSameParentBlock(r,e,t)?v.after(n?e:t):o}).getOr(o)},S=function(e,n){return e.fold(u.constant(!0),function(e){return t=n,!(p(e=e)===p(t)&&w(e)===w(t));var t})};return{readLocation:C,findLocation:y,prevLocation:u.curry(y,!1),nextLocation:u.curry(y,!0),getElement:w,outside:k,inside:function(e){return e.fold(v.start,v.start,v.end,v.end)}}}),r("tinymce.core.keyboard.BoundarySelection",["ephox.katamari.api.Arr","ephox.katamari.api.Cell","ephox.katamari.api.Fun","tinymce.core.caret.CaretContainerRemove","tinymce.core.caret.CaretPosition","tinymce.core.keyboard.BoundaryCaret","tinymce.core.keyboard.BoundaryLocation","tinymce.core.keyboard.InlineUtils"],function(u,e,d,f,m,r,h,p){function g(e){return!1!==e.settings.inline_boundaries}var y=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},v=function(e,t){e?t.setAttribute("data-mce-selected","1"):t.removeAttribute("data-mce-selected","1")},b=function(t,e,n){return r.renderCaret(e,n).map(function(e){return y(t,e),n})};return{move:function(a,s,c){return function(){return!!g(a)&&(n=s,e=c,r=(t=a).getBody(),i=m.fromRangeStart(t.selection.getRng()),o=d.curry(p.isInlineTarget,t),h.findLocation(e,o,r,i).bind(function(e){return b(t,n,e)}).isSome());var t,n,e,r,i,o}},setupSelectedState:function(s){var c=new e(null),l=d.curry(p.isInlineTarget,s);return s.on("NodeChange",function(e){var n,r,i,t,o,a;g(s)&&(o=l,a=s.dom,t=e.parents,a=u.filter(a.select("*[data-mce-selected]"),o),t=u.filter(t,o),u.each(u.difference(a,t),d.curry(v,!1)),u.each(u.difference(t,a),d.curry(v,!0)),o=c,(t=s).selection.isCollapsed()&&!0!==t.composing&&o.get()&&(a=m.fromRangeStart(t.selection.getRng()),m.isTextPosition(a)&&!1===p.isAtZwsp(a)&&(y(t,f.removeAndReposition(o.get(),a)),o.set(null))),n=l,r=s,i=c,t=e.parents,r.selection.isCollapsed()&&(t=u.filter(t,n),u.each(t,function(e){var t=m.fromRangeStart(r.selection.getRng());h.readLocation(n,r.getBody(),t).bind(function(e){return b(r,i,e)})})))}),c},setCaretPosition:y}}),r("tinymce.core.delete.InlineBoundaryDelete",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.katamari.api.Options","ephox.sugar.api.node.Element","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretFinder","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.delete.DeleteElement","tinymce.core.keyboard.BoundaryCaret","tinymce.core.keyboard.BoundaryLocation","tinymce.core.keyboard.BoundarySelection","tinymce.core.keyboard.InlineUtils"],function(d,f,e,m,t,h,p,n,g,r,y,i,v){var b=function(r){return e.liftN([h.firstPositionIn(r),h.lastPositionIn(r)],function(e,t){var e=v.normalizePosition(!0,e),n=v.normalizePosition(!1,t);return h.nextPosition(r,e).map(function(e){return e.isEqual(n)}).getOr(!0)}).getOr(!0)},x=function(t,n){return function(e){return r.renderCaret(n,e).map(function(e){return i.setCaretPosition(t,e),!0}).getOr(!1)}},C=function(r,i,o,a){var s=r.getBody(),c=d.curry(v.isInlineTarget,r);r.undoManager.ignore(function(){var e,t,n;r.selection.setRng((e=o,t=a,(n=document.createRange()).setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n)),r.execCommand("Delete"),y.readLocation(c,s,p.fromRangeStart(r.selection.getRng())).map(y.inside).map(x(r,i))}),r.nodeChanged()},w=function(e,t){t=n.getParentBlock(t,e);return t||e};return{backspaceDelete:function(e,t,n){var r,i,o,a,s,c,l,u;return!(!e.selection.isCollapsed()||!1===e.settings.inline_boundaries)&&(r=p.fromRangeStart(e.selection.getRng()),o=t,a=n,s=r,c=w((i=e).getBody(),s.container()),l=d.curry(v.isInlineTarget,i),(u=y.readLocation(l,c,s)).bind(function(e){return a?e.fold(d.constant(f.some(y.inside(e))),f.none,d.constant(f.some(y.outside(e))),f.none):e.fold(f.none,d.constant(f.some(y.outside(e))),f.none,d.constant(f.some(y.inside(e))))}).map(x(i,o)).getOrThunk(function(){var t=h.navigate(a,c,s),e=t.bind(function(e){return y.readLocation(l,c,e)});return(u.isSome()&&e.isSome()?v.findRootInline(l,c,s).map(function(e){return!!b(e)&&(g.deleteElement(i,a,m.fromDom(e)),!0)}):e.bind(function(e){return t.map(function(e){return a?C(i,o,s,e):C(i,o,e,s),!0})})).getOr(!1)}))}}}),r("tinymce.core.delete.DeleteCommands",["tinymce.core.delete.BlockBoundaryDelete","tinymce.core.delete.BlockRangeDelete","tinymce.core.delete.CefDelete","tinymce.core.delete.DeleteUtils","tinymce.core.delete.InlineBoundaryDelete"],function(t,n,r,i,o){function a(e,t){e.getDoc().execCommand(t,!1,null)}return{deleteCommand:function(e){r.backspaceDelete(e,!1)||o.backspaceDelete(e,!1)||t.backspaceDelete(e,!1)||n.backspaceDelete(e,!1)||(a(e,"Delete"),i.paddEmptyBody(e))},forwardDeleteCommand:function(e){r.backspaceDelete(e,!0)||o.backspaceDelete(e,!0)||t.backspaceDelete(e,!0)||n.backspaceDelete(e,!0)||a(e,"ForwardDelete")}}}),r("tinymce.core.InsertList",["tinymce.core.util.Tools","tinymce.core.caret.CaretWalker","tinymce.core.caret.CaretPosition"],function(m,h,p){function g(e){return m.grep(e.childNodes,function(e){return"LI"===e.nodeName})}function y(e){return 0<e.length&&t(e[e.length-1])?e.slice(0,-1):e}function v(e,t){return(t=e.getParent(t,e.isBlock))&&"LI"===t.nodeName?t:null}var b=function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e},t=function(e){return!e.firstChild},x=function(e,t){var n=t.cloneRange(),t=t.cloneRange();return n.setStartBefore(e),t.setEndAfter(e),[n.cloneContents(),t.cloneContents()]},C=function(e,t){e=p.before(e),t=new h(t).next(e);return t?t.toRange():null},w=function(e,t){e=p.after(e),t=new h(t).prev(e);return t?t.toRange():null};return{isListFragment:function(e){var t=e.firstChild,e=e.lastChild;return t&&"meta"===t.name&&(t=t.next),e&&"mce_marker"===e.attr("id")&&(e=e.prev),!(!t||t!==e)&&("ul"===t.name||"ol"===t.name)},insertAtCaret:function(e,r,i,t){function n(e){var t=p.fromRangeStart(i),n=new h(r.getRoot());return!(e=1===e?n.prev(t):n.next(t))||v(r,e.getNode())!==f}var o,a,s,c,l,u,d,e=function(e,t,n){t=t.serialize(n),n=e.createFragment(t);return b(n)}(r,e,t),f=v(r,i.startContainer),t=y(g(e.firstChild)),e=r.getRoot();return n(1)?(a=e,s=(o=f).parentNode,m.each(t,function(e){s.insertBefore(e,o)}),C(o,a)):n(2)?(a=f,l=t,u=e,r.insertAfter(l.reverse(),a),w(l[0],u)):(l=t,u=e,t=x(c=f,t=i),(d=c.parentNode).insertBefore(t[0],c),m.each(l,function(e){d.insertBefore(e,c)}),d.insertBefore(t[1],c),d.removeChild(c),w(l[l.length-1],u))},isParentBlockLi:function(e,t){return!!v(e,t)},trimListItems:y,listItems:g}}),r("tinymce.core.InsertContent",["tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretWalker","tinymce.core.dom.ElementUtils","tinymce.core.dom.NodeType","tinymce.core.dom.RangeNormalizer","tinymce.core.Env","tinymce.core.html.Serializer","tinymce.core.InsertList","tinymce.core.util.Tools"],function(S,N,T,e,R,_,B,A,D){function r(n,e,t){var r,i,o,a,s,c,l,u,d,f,m=n.schema.getTextInlineElements(),h=n.selection,p=n.dom;function g(e){return d[e]&&3==d[e].nodeType}/^ | $/.test(e)&&(u=e,f=h.getRng(!0),d=f.startContainer,f=f.startOffset,3==d.nodeType&&(0<f?u=u.replace(/^&nbsp;/," "):g("previousSibling")||(u=u.replace(/^ /,"&nbsp;")),f<d.length?u=u.replace(/&nbsp;(<br>|)$/," "):g("nextSibling")||(u=u.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e=u),f=n.parser,u=t.merge,r=new B({validate:n.settings.validate},n.schema),l='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',a={content:e,format:"html",selection:!0},n.fire("BeforeSetContent",a),-1==(e=a.content).indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,l);var y,v=(y=h.getRng()).startContainer||(y.parentElement?y.parentElement():null),b=n.getBody(),v=(v===b&&h.isCollapsed()&&p.isBlock(b.firstChild)&&((v=b.firstChild)&&!n.schema.getShortEndedElements()[v.nodeName])&&p.isEmpty(b.firstChild)&&((y=p.createRng()).setStart(b.firstChild,0),y.setEnd(b.firstChild,0),h.setRng(y)),h.isCollapsed()||(n.selection.setRng(R.normalize(n.selection.getRng())),n.getDoc().execCommand("Delete",!1,null),v=h.getRng(!0),b=v.startContainer,k=v.startOffset,3==b.nodeType&&v.collapsed&&(""===b.data[k]?(b.deleteData(k,1),/[\u00a0| ]$/.test(e)||(e+=" ")):""===b.data[k-1]&&(b.deleteData(k-1,1),/[\u00a0| ]$/.test(e)||(e=" "+e)))),{context:(i=h.getNode()).nodeName.toLowerCase(),data:t.data}),x=f.parse(e,v);if(!0===t.paste&&A.isListFragment(x)&&A.isParentBlockLi(p,i))y=A.insertAtCaret(r,p,n.selection.getRng(!0),x),n.selection.setRng(y),n.fire("SetContent",a);else{for(var C,w,k,E=x;E=E.walk();)1===E.type&&E.attr("data-mce-fragment","1");if("mce_marker"==(c=x.lastChild).attr("id"))for(c=(s=c).prev;c;c=c.walk(!0))if(3==c.type||!p.isBlock(c.name)){n.schema.isValidChild(c.parent.name,"span")&&c.parent.insert(s,c,"br"===c.name);break}if(n._selectionOverrides.showBlockCaretContainer(i),v.invalid){for(h.setContent(l),i=h.getNode(),o=n.getBody(),9==i.nodeType?i=c=o:c=i;c!==o;)c=(i=c).parentNode;e=i==o?o.innerHTML:p.getOuterHTML(i),e=r.serialize(f.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return r.serialize(x)}))),i==o?p.setHTML(o,e):p.setOuterHTML(i,e)}else e=r.serialize(x),O(n,e,i);u&&(C=n.getBody(),w=new T(p),D.each(p.select("*[data-mce-fragment]"),function(e){for(var t=e.parentNode;t&&t!=C;t=t.parentNode)m[e.nodeName.toLowerCase()]&&w.compare(t,e)&&p.remove(e,!0)})),(b=p.get("mce_marker"))&&(h.scrollIntoView(b),(k=function(e){for(var t=n.getBody();e&&e!==t;e=e.parentNode)if("false"===n.dom.getContentEditable(e))return e;return null}(b))?(p.remove(b),h.select(k)):(y=p.createRng(),(c=b.previousSibling)&&3==c.nodeType?(y.setStart(c,c.nodeValue.length),_.ie||(t=b.nextSibling)&&3==t.nodeType&&(c.appendData(t.data),t.parentNode.removeChild(t))):(y.setStartBefore(b),y.setEndBefore(b)),k=p.getParent(b,p.isBlock),p.remove(b),k&&p.isEmpty(k)&&(n.$(k).empty(),y.setStart(k,0),y.setEnd(k,0),P(k)||k.getAttribute("data-mce-fragment")||!(b=function(e){if(e=S.fromRangeStart(e),e=new N(n.getBody()).next(e))return e.toRange()}(y))?p.add(k,p.create("br",{"data-mce-bogus":"1"})):(y=b,p.remove(k))),h.setRng(y))),v=n.getBody(),D.each(v.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")}),n.fire("SetContent",a),n.addVisual()}}var P=e.matchNodeNames("td th"),O=function(e,t,n){var r,i;"all"===n.getAttribute("data-mce-bogus")?n.parentNode.insertBefore(e.dom.createFragment(t),n):(r=n.firstChild,i=n.lastChild,!r||r===i&&"BR"===r.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t))};return{insertAtCaret:function(e,t){var n="string"!=typeof(t=t)?(n=D.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:n}):{content:t,details:{}};r(e,n.content,n.details)}}}),r("tinymce.core.EditorCommands",["tinymce.core.delete.DeleteCommands","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.dom.TreeWalker","tinymce.core.Env","tinymce.core.InsertContent","tinymce.core.util.Tools"],function(d,p,g,y,v,b,e){var x=e.each,C=e.extend,w=e.map,k=e.inArray,E=e.explode,S=v.ie&&v.ie<11;return function(f){var m,h,a,t,s={state:{},exec:{},value:{}},c=f.settings;function l(e){var t;if(!f.quirks.isHidden()&&!f.removed){if(e=e.toLowerCase(),t=s.state[e])return t(e);try{return f.getDoc().queryCommandState(e)}catch(e){}return!1}}function e(e,n){n=n||"exec",x(e,function(t,e){x(e.toLowerCase().split(","),function(e){s[n][e]=t})})}function u(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),f.getDoc().execCommand(e,t,n)}function n(e){return a.match(e)}function o(e,t){a.toggle(e,t?{value:t}:void 0),f.nodeChanged()}function r(e){t=h.getBookmark(e)}function i(){h.moveToBookmark(t)}f.on("PreInit",function(){m=f.dom,h=f.selection,c=f.settings,a=f.formatter}),C(this,{execCommand:function(t,n,r,e){var i,o=0;if(!f.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||e&&e.skip_focus||f.focus(),(e=f.fire("BeforeExecCommand",{command:t,ui:n,value:r})).isDefaultPrevented())return!1;if(e=t.toLowerCase(),i=s.exec[e])return i(e,n,r),f.fire("ExecCommand",{command:t,ui:n,value:r}),!0;if(x(f.plugins,function(e){if(e.execCommand&&e.execCommand(t,n,r))return f.fire("ExecCommand",{command:t,ui:n,value:r}),!(o=!0)}),o)return o;if(f.theme&&f.theme.execCommand&&f.theme.execCommand(t,n,r))return f.fire("ExecCommand",{command:t,ui:n,value:r}),!0;try{o=f.getDoc().execCommand(t,n,r)}catch(e){}return!!o&&(f.fire("ExecCommand",{command:t,ui:n,value:r}),!0)}},queryCommandState:l,queryCommandValue:function(e){var t;if(!f.quirks.isHidden()&&!f.removed){if(e=e.toLowerCase(),t=s.value[e])return t(e);try{return f.getDoc().queryCommandValue(e)}catch(e){}}},queryCommandSupported:function(e){if(e=e.toLowerCase(),s.exec[e])return!0;try{return f.getDoc().queryCommandSupported(e)}catch(e){}return!1},addCommands:e,addCommand:function(e,i,o){e=e.toLowerCase(),s.exec[e]=function(e,t,n,r){return i.call(o||f,t,n,r)}},addQueryStateHandler:function(e,t,n){e=e.toLowerCase(),s.state[e]=function(){return t.call(n||f)}},addQueryValueHandler:function(e,t,n){e=e.toLowerCase(),s.value[e]=function(){return t.call(n||f)}},hasCustomCommand:function(e){return e=e.toLowerCase(),!!s.exec[e]}}),e({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){f.undoManager.add()},"Cut,Copy,Paste":function(e){var t,n=f.getDoc();try{u(e)}catch(e){t=!0}!(t="paste"!==e||n.queryCommandEnabled(e)?t:!0)&&n.queryCommandSupported(e)||(t=f.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),v.mac&&(t=t.replace(/Ctrl\+/g,"+")),f.notificationManager.open({text:t,type:"error"}))},unlink:function(){var e;h.isCollapsed()?(e=f.dom.getParent(f.selection.getStart(),"a"))&&f.dom.remove(e,!0):a.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"==t&&(t="justify"),x("left,center,right,justify".split(","),function(e){t!=e&&a.remove("align"+e)}),"none"!=t&&o("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var t;u(e),(e=m.getParent(h.getNode(),"ol,ul"))&&(t=e.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName)&&(r(),m.split(t,e),i()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){o(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){o(e,n)},FontSize:function(e,t,n){var r,i;1<=n&&n<=7&&(i=E(c.font_size_style_values),n=(r=E(c.font_size_classes))?r[n-1]||n:i[n-1]||n),o(e,n)},RemoveFormat:function(e){a.remove(e)},mceBlockQuote:function(){o("blockquote")},FormatBlock:function(e,t,n){return o(n||"p")},mceCleanup:function(){var e=h.getBookmark();f.setContent(f.getContent({cleanup:!0}),{cleanup:!0}),h.moveToBookmark(e)},mceRemoveNode:function(e,t,n){n=n||h.getNode();n!=f.getBody()&&(r(),f.dom.remove(n,!0),i())},mceSelectNodeDepth:function(e,t,n){var r=0;m.getParent(h.getNode(),function(e){if(1==e.nodeType&&r++==n)return h.select(e),!1},f.getBody())},mceSelectNode:function(e,t,n){h.select(n)},mceInsertContent:function(e,t,n){b.insertAtCaret(f,n)},mceInsertRawHTML:function(e,t,n){h.setContent("tiny_mce_marker"),f.setContent(f.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(e,t,n){o(n)},mceSetContent:function(e,t,n){f.setContent(n)},"Indent,Outdent":function(n){var r,i=c.indentation,o=/[a-z%]+$/i.exec(i);i=parseInt(i,10),l("InsertUnorderedList")||l("InsertOrderedList")?u(n):(c.forced_root_block||m.getParent(h.getNode(),m.isBlock)||a.apply("div"),x(h.getSelectedBlocks(),function(e){var t;"false"!==m.getContentEditable(e)&&"LI"!==e.nodeName&&(t=f.getParam("indent_use_margin",!1)?"margin":"padding",t="TABLE"===e.nodeName?"margin":t,t+="rtl"==m.getStyle(e,"direction",!0)?"Right":"Left","outdent"==n?(r=Math.max(0,parseInt(e.style[t]||0,10)-i),m.setStyle(e,t,r?r+o:"")):(r=parseInt(e.style[t]||0,10)+i+o,m.setStyle(e,t,r)))}))},mceRepaint:function(){},InsertHorizontalRule:function(){f.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){f.hasVisual=!f.hasVisual,f.addVisual()},mceReplaceContent:function(e,t,n){f.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,h.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var r;"string"==typeof n&&(n={href:n}),r=m.getParent(h.getNode(),"a"),n.href=n.href.replace(" ","%20"),r&&n.href||a.remove("link"),n.href&&a.apply("link",n,r)},selectAll:function(){var e,t,n=m.getRoot();h.getRng().setStart?(t=m.getParent(h.getStart(),p.isContentEditableTrue))&&((e=m.createRng()).selectNodeContents(t),h.setRng(e)):(e=h.getRng()).item||(e.moveToElementText(n),e.select())},delete:function(){d.deleteCommand(f)},forwardDelete:function(){d.forwardDeleteCommand(f)},mceNewDocument:function(){f.setContent("")},InsertLineBreak:function(e,t,n){var r,i,o=h.getRng(!0),a=(new g(m).normalize(o),o.startOffset),s=o.startContainer,c=(1==s.nodeType&&s.hasChildNodes()&&(l=a>s.childNodes.length-1,s=s.childNodes[Math.min(a,s.childNodes.length-1)]||s,a=l&&3==s.nodeType?s.nodeValue.length:0),m.getParent(s,m.isBlock)),l=c?c.nodeName.toUpperCase():"",u=c?m.getParent(c.parentNode,m.isBlock):null,d=u?u.nodeName.toUpperCase():"",n=n&&n.ctrlKey;"LI"!=d||n||(c=u,l=d),s&&3==s.nodeType&&a>=s.nodeValue.length&&(S||function(){for(var e,t=new y(s,c),n=f.schema.getNonEmptyElements();e=t.next();)if(n[e.nodeName.toLowerCase()]||0<e.length)return 1}()||(r=m.create("br"),o.insertNode(r),o.setStartAfter(r),o.setEndAfter(r),i=!0)),r=m.create("br"),o.insertNode(r);n=m.doc.documentMode;return S&&"PRE"==l&&(!n||n<8)&&r.parentNode.insertBefore(m.doc.createTextNode("\r"),r),u=m.create("span",{},"&nbsp;"),r.parentNode.insertBefore(u,r),h.scrollIntoView(u),m.remove(u),i?(o.setStartBefore(r),o.setEndBefore(r)):(o.setStartAfter(r),o.setEndAfter(r)),h.setRng(o),f.undoManager.add(),!0}}),e({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7),e=h.isCollapsed()?[m.getParent(h.getNode(),m.isBlock)]:h.getSelectedBlocks(),e=w(e,function(e){return!!a.matchNode(e,t)});return-1!==k(e,!0)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n,mceBlockQuote:function(){return n("blockquote")},Outdent:function(){var e;if(c.inline_styles){if((e=m.getParent(h.getStart(),m.isBlock))&&0<parseInt(e.style.paddingLeft,10))return!0;if((e=m.getParent(h.getEnd(),m.isBlock))&&0<parseInt(e.style.paddingLeft,10))return!0}return l("InsertUnorderedList")||l("InsertOrderedList")||!c.inline_styles&&!!m.getParent(h.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=m.getParent(h.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),e({"FontSize,FontName":function(e){var t,n=0;return n=(t=m.getParent(h.getNode(),"span"))?"fontsize"==e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase():n}},"value"),e({Undo:function(){f.undoManager.undo()},Redo:function(){f.undoManager.redo()}})}}),r("tinymce.core.util.URI",["global!document","tinymce.core.util.Tools"],function(a,e){var s=e.each,c=e.trim,l="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),n={ftp:21,http:80,https:443,mailto:25};function u(n,e){var t,r,i,o=this;n=c(n),t=(e=o.settings=e||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)?o.source=n:(i=0===n.indexOf("//"),0!==n.indexOf("/")||i||(n=(t&&t.protocol||"http")+"://mce_host"+n),/^[\w\-]*:?\/\//.test(n)||(r=e.base_uri?e.base_uri.path:new u(a.location.href).directory,n=""===e.base_uri.protocol?"//mce_host"+o.toAbsPath(r,n):(n=/([^#?]*)([#?]?.*)/.exec(n),(t&&t.protocol||"http")+"://mce_host"+o.toAbsPath(r,n[1])+n[2])),n=n.replace(/@@/g,"(mce_at)"),n=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n),s(l,function(e,t){t=(t=n[t])&&t.replace(/\(mce_at\)/g,"@@");o[e]=t}),t&&(o.protocol||(o.protocol=t.protocol),o.userInfo||(o.userInfo=t.userInfo),o.port||"mce_host"!==o.host||(o.port=t.port),o.host&&"mce_host"!==o.host||(o.host=t.host),o.source=""),i&&(o.protocol=""))}return u.prototype={setPath:function(e){e=/^(.*?)\/?(\w+)?$/.exec(e),this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},toRelative:function(e){var t,n;return"./"===e?e:"mce_host"!=(e=new u(e,{base_uri:this})).host&&this.host!=e.host&&e.host||this.port!=e.port||this.protocol!=e.protocol&&""!==e.protocol?e.getURI():(t=this.getURI())==(n=e.getURI())||"/"==t.charAt(t.length-1)&&t.substr(0,t.length-1)==n?t:(n=this.toRelPath(this.path,e.path),e.query&&(n+="?"+e.query),e.anchor&&(n+="#"+e.anchor),n)},toAbsolute:function(e,t){return(e=new u(e,{base_uri:this})).getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=n[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,r,i,o=0,a="";if(e=(e=e.substring(0,e.lastIndexOf("/"))).split("/"),n=t.split("/"),e.length>=n.length)for(r=0,i=e.length;r<i;r++)if(r>=n.length||e[r]!=n[r]){o=r+1;break}if(e.length<n.length)for(r=0,i=n.length;r<i;r++)if(r>=e.length||e[r]!=n[r]){o=r+1;break}if(1===o)return t;for(r=0,i=e.length-(o-1);r<i;r++)a+="../";for(r=o-1,i=n.length;r<i;r++)a+=r!=o-1?"/"+n[r]:n[r];return a},toAbsPath:function(e,t){var n,r=0,i=[],o=/\/$/.test(t)?"/":"";for(e=e.split("/"),t=t.split("/"),s(e,function(e){e&&i.push(e)}),e=i,n=t.length-1,i=[];0<=n;n--)0!==t[n].length&&"."!==t[n]&&(".."===t[n]?r++:0<r?r--:i.push(t[n]));return 0!==(e=(n=e.length-r)<=0?i.reverse().join("/"):e.slice(0,n).join("/")+"/"+i.reverse().join("/")).indexOf("/")&&(e="/"+e),o&&e.lastIndexOf("/")!==e.length-1&&(e+=o),e},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(n.protocol?t+=n.protocol+"://":t+="//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},u.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),{type:t=(n=/data:([^;]+)/.exec(e[0]))?n[1]:t,data:e[1]}},u.getDocumentBaseUrl=function(e){e=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname;return/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},u}),r("tinymce.core.util.Class",["tinymce.core.util.Tools"],function(e){var s,c,l=e.each,u=e.extend;function t(){}return t.extend=s=function(n){var e,t,r,i=this.prototype;function o(){var e,t,n;if(!c&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(this,arguments)}function a(){return this}for(t in c=!0,e=new this,c=!1,n.Mixins&&(l(n.Mixins,function(e){for(var t in e)"init"!==t&&(n[t]=e[t])}),i.Mixins&&(n.Mixins=i.Mixins.concat(n.Mixins))),n.Methods&&l(n.Methods.split(","),function(e){n[e]=a}),n.Properties&&l(n.Properties.split(","),function(e){var t="_"+e;n[e]=function(e){return void 0!==e?(this[t]=e,this):this[t]}}),n.Statics&&l(n.Statics,function(e,t){o[t]=e}),n.Defaults&&i.Defaults&&(n.Defaults=u({},i.Defaults,n.Defaults)),n)"function"==typeof(r=n[t])&&i[t]?e[t]=function(n,r){return function(){var e,t=this._super;return this._super=i[n],e=r.apply(this,arguments),this._super=t,e}}(t,r):e[t]=r;return o.prototype=e,(o.constructor=o).extend=s,o},t}),r("tinymce.core.util.EventDispatcher",["tinymce.core.util.Tools"],function(h){var t=h.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");function e(a){var s,c,l=this,u={};function d(){return!1}function f(){return!0}function r(e,t,n,r){var i,o,a;if(t=!1===t?d:t)for(t={func:t},r&&h.extend(t,r),a=(o=e.toLowerCase().split(" ")).length;a--;)e=o[a],(i=u[e])||(i=u[e]=[],c(e,!0)),n?i.unshift(t):i.push(t);return l}function m(e,t){var n,r,i,o,a;if(e)for(n=(o=e.toLowerCase().split(" ")).length;n--;){if(e=o[n],r=u[e],!e){for(i in u)c(i,!1),delete u[i];return l}if(r){if(t)for(a=r.length;a--;)r[a].func===t&&(r=r.slice(0,a).concat(r.slice(a+1)),u[e]=r);else r.length=0;r.length||(c(e,!1),delete u[e])}}else{for(e in u)c(e,!1);u={}}return l}s=(a=a||{}).scope||l,c=a.toggleEvent||d,l.fire=function(e,t){var n,r,i,o;if(e=e.toLowerCase(),(t=t||{}).type=e,t.target||(t.target=s),t.preventDefault||(t.preventDefault=function(){t.isDefaultPrevented=f},t.stopPropagation=function(){t.isPropagationStopped=f},t.stopImmediatePropagation=function(){t.isImmediatePropagationStopped=f},t.isDefaultPrevented=d,t.isPropagationStopped=d,t.isImmediatePropagationStopped=d),a.beforeFire&&a.beforeFire(t),n=u[e])for(r=0,i=n.length;r<i;r++){if((o=n[r]).once&&m(e,o.func),t.isImmediatePropagationStopped())return t.stopPropagation(),t;if(!1===o.func.call(s,t))return t.preventDefault(),t}return t},l.on=r,l.off=m,l.once=function(e,t,n){return r(e,t,n,{once:!0})},l.has=function(e){return e=e.toLowerCase(),!(!u[e]||0===u[e].length)}}return e.isNative=function(e){return!!t[e.toLowerCase()]},e}),r("tinymce.core.util.Observable",["tinymce.core.util.EventDispatcher"],function(r){function i(n){return n._eventDispatcher||(n._eventDispatcher=new r({scope:n,toggleEvent:function(e,t){r.isNative(e)&&n.toggleNativeEvent&&n.toggleNativeEvent(e,t)}})),n._eventDispatcher}return{fire:function(e,t,n){if((!this.removed||"remove"===e)&&(t=i(this).fire(e,t,n),!1!==n&&this.parent))for(var r=this.parent();r&&!t.isPropagationStopped();)r.fire(e,t,!1),r=r.parent();return t},on:function(e,t,n){return i(this).on(e,t,n)},off:function(e,t){return i(this).off(e,t)},once:function(e,t){return i(this).once(e,t)},hasEventListeners:function(e){return i(this).has(e)}}}),r("tinymce.core.data.Binding",[],function(){function e(e){this.create=e.create}return e.create=function(i,o){return new e({create:function(t,n){var r;function e(e){t.set(n,e.value)}return t.on("change:"+n,function(e){i.set(o,e.value)}),i.on("change:"+o,e),(r=t._bindings)||(r=t._bindings=[],t.on("destroy",function(){for(var e=r.length;e--;)r[e]()})),r.push(function(){i.off("change:"+o,e)}),i.get(o)}})},e}),r("tinymce.core.data.ObservableObject",["tinymce.core.data.Binding","tinymce.core.util.Class","tinymce.core.util.Observable","tinymce.core.util.Tools"],function(i,e,t,o){function a(e){return 0<e.nodeType}return e.extend({Mixins:[t],init:function(e){var t,n;for(t in e=e||{})(n=e[t])instanceof i&&(e[t]=n.create(this,t));this.data=e},set:function(e,t){var n,r=this.data[e];if(t instanceof i&&(t=t.create(this,e)),"object"==typeof e)for(n in e)this.set(n,e[n]);else!function e(t,n){var r,i;if(t!==n){if(null===t||null===n)return t===n;if("object"!=typeof t||"object"!=typeof n)return t===n;if(o.isArray(n)){if(t.length!==n.length)return;for(r=t.length;r--;)if(!e(t[r],n[r]))return}if(a(t)||a(n))return t===n;for(r in i={},n){if(!e(t[r],n[r]))return;i[r]=!0}for(r in t)if(!i[r]&&!e(t[r],n[r]))return}return 1}(r,t)&&(this.data[e]=t,this.fire("change:"+e,t={target:this,name:e,value:t,oldValue:r}),this.fire("change",t));return this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(e){return i.create(this,e)},destroy:function(){this.fire("destroy")}})}),r("tinymce.core.ui.Selector",["tinymce.core.util.Class"],function(e){"use strict";var i,o=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,c=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,l=/^\s*|\s*$/g,a=e.extend({init:function(e){var i=this.match;function a(e,t,n){function r(e){e&&t.push(e)}return r(function(t){if(t)return t=t.toLowerCase(),function(e){return"*"===t||e.type===t}}((e=o.exec(e.replace(l,"")))[1])),r(function(t){if(t)return function(e){return e._name===t}}(e[2])),r(function(n){if(n)return n=n.split("."),function(e){for(var t=n.length;t--;)if(!e.classes.contains(n[t]))return!1;return!0}}(e[3])),r(function(t,n,r){if(t)return function(e){e=e[t]?e[t]():"";return n?"="===n?e===r:"*="===n?0<=e.indexOf(r):"~="===n?0<=(" "+e+" ").indexOf(" "+r+" "):"!="===n?e!=r:"^="===n?0===e.indexOf(r):"$="===n&&e.substr(e.length-r.length)===r:!!r}}(e[4],e[5],e[6])),r(function(r){var t;if(r)return(r=/(?:not\((.+)\))|(.+)/i.exec(r))[1]?(t=s(r[1],[]),function(e){return!i(e,t)}):(r=r[2],function(e,t,n){return"first"===r?0===t:"last"===r?t===n-1:"even"===r?t%2==0:"odd"===r?t%2==1:!!e[r]&&e[r]()})}(e[7])),t.pseudo=!!e[7],t.direct=n,t}function s(e,t){var n,r,i,o=[];do{if(c.exec(""),(r=c.exec(e))&&(e=r[3],o.push(r[1]),r[2])){n=r[3];break}}while(r);for(n&&s(n,t),e=[],i=0;i<o.length;i++)">"!=o[i]&&e.push(a(o[i],[],">"===o[i-1]));return t.push(e),t}this._selectors=s(e,[])},match:function(e,t){for(var n,r,i,o,a,s,c,l,u,d,f,m=0,h=(t=t||this._selectors).length;m<h;m++){for(f=e,d=0,n=(r=(i=t[m]).length)-1;0<=n;n--)for(s=i[n];f;){if(s.pseudo)for(c=l=(u=f.parent().items()).length;c--&&u[c]!==f;);for(o=0,a=s.length;o<a;o++)if(!s[o](f,c,l)){o=a+1;break}if(o===a){d++;break}if(n===r-1)break;f=f.parent()}if(d===r)return!0}return!1},find:function(e){var t,n,u=[],r=this._selectors;if(e.items){for(t=0,n=r.length;t<n;t++)!function e(t,n,r){for(var i,o,a,s=n[r],c=0,l=t.length;c<l;c++){for(a=t[c],i=0,o=s.length;i<o;i++)if(!s[i](a,c,l)){i=o+1;break}if(i===o)r==n.length-1?u.push(a):a.items&&e(a.items(),n,r+1);else if(s.direct)return;a.items&&e(a.items(),n,r)}}(e.items(),r[t],0);1<n&&(u=function(e){for(var t,n=[],r=e.length;r--;)(t=e[r]).__checked||(n.push(t),t.__checked=1);for(r=n.length;r--;)delete n[r].__checked;return n}(u))}return new(i=i||a.Collection)(u)}});return a}),r("tinymce.core.ui.Collection",["tinymce.core.util.Tools","tinymce.core.ui.Selector","tinymce.core.util.Class"],function(r,a,e){"use strict";var s,t=Array.prototype.push,n=Array.prototype.slice,i={length:0,init:function(e){e&&this.add(e)},add:function(e){return r.isArray(e)?t.apply(this,e):e instanceof s?this.add(e.toArray()):t.call(this,e),this},set:function(e){var t,n=this.length;for(this.length=0,this.add(e),t=this.length;t<n;t++)delete this[t];return this},filter:function(t){for(var e,n=[],r="string"==typeof t?(t=new a(t),function(e){return t.match(e)}):t,i=0,o=this.length;i<o;i++)r(e=this[i])&&n.push(e);return new s(n)},slice:function(){return new s(n.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(e){return r.each(this,e),this},toArray:function(){return r.toArray(this)},indexOf:function(e){for(var t=this.length;t--&&this[t]!==e;);return t},reverse:function(){return new s(r.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].classes.contains(e)},prop:function(t,n){var e;return void 0!==n?(this.each(function(e){e[t]&&e[t](n)}),this):(e=this[0])&&e[t]?e[t]():void 0},exec:function(t){var n=r.toArray(arguments).slice(1);return this.each(function(e){e[t]&&e[t].apply(e,n)}),this},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(t){return this.each(function(e){e.classes.add(t)})},removeClass:function(t){return this.each(function(e){e.classes.remove(t)})}};return r.each("fire on off show hide append prepend before after reflow".split(" "),function(n){i[n]=function(){var t=r.toArray(arguments);return this.each(function(e){n in e&&e[n].apply(e,t)}),this}}),r.each("text name disabled active selected checked visible parent value data".split(" "),function(t){i[t]=function(e){return this.prop(t,e)}}),s=e.extend(i),a.Collection=s}),r("tinymce.core.ui.DomUtils",["tinymce.core.Env","tinymce.core.util.Tools","tinymce.core.dom.DOMUtils"],function(e,i,o){"use strict";var t=0,n={id:function(){return"mceu_"+t++},create:function(e,t,n){var r=document.createElement(e);return o.DOM.setAttribs(r,t),"string"==typeof n?r.innerHTML=n:i.each(n,function(e){e.nodeType&&r.appendChild(e)}),r},createFragment:function(e){return o.DOM.createFragment(e)},getWindowSize:function(){return o.DOM.getViewPort()},getSize:function(e){var t,n;return n=e.getBoundingClientRect?(n=e.getBoundingClientRect(),t=Math.max(n.width||n.right-n.left,e.offsetWidth),Math.max(n.height||n.bottom-n.bottom,e.offsetHeight)):(t=e.offsetWidth,e.offsetHeight),{width:t,height:n}},getPos:function(e,t){return o.DOM.getPos(e,t||n.getContainer())},getContainer:function(){return e.container||document.body},getViewPort:function(e){return o.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,t){return o.DOM.addClass(e,t)},removeClass:function(e,t){return o.DOM.removeClass(e,t)},hasClass:function(e,t){return o.DOM.hasClass(e,t)},toggleClass:function(e,t,n){return o.DOM.toggleClass(e,t,n)},css:function(e,t,n){return o.DOM.setStyle(e,t,n)},getRuntimeStyle:function(e,t){return o.DOM.getStyle(e,t,!0)},on:function(e,t,n,r){return o.DOM.bind(e,t,n,r)},off:function(e,t,n){return o.DOM.unbind(e,t,n)},fire:function(e,t,n){return o.DOM.fire(e,t,n)},innerHtml:function(e,t){o.DOM.setHTML(e,t)}};return n}),r("tinymce.core.ui.BoxUtils",[],function(){"use strict";return{parseBox:function(e){var t;if(e)return"number"==typeof e?{top:e=e||0,left:e,bottom:e,right:e}:(1===(t=(e=e.split(" ")).length)?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],10)||0,right:parseInt(e[1],10)||0,bottom:parseInt(e[2],10)||0,left:parseInt(e[3],10)||0})},measureBox:function(n,e){function t(e){var t=parseFloat((e=e,(t=document.defaultView)?(e=e.replace(/[A-Z]/g,function(e){return"-"+e}),t.getComputedStyle(n,null).getPropertyValue(e)):n.currentStyle[e]),10);return isNaN(t)?0:t}return{top:t(e+"TopWidth"),right:t(e+"RightWidth"),bottom:t(e+"BottomWidth"),left:t(e+"LeftWidth")}}}}),r("tinymce.core.ui.ClassList",["tinymce.core.util.Tools"],function(e){"use strict";function t(){}function n(e){this.cls=[],this.cls._map={},this.onchange=e||t,this.prefix=""}return e.extend(n.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){for(var t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),n.prototype.toString=function(){if(this.clsValue)return this.clsValue;for(var e="",t=0;t<this.cls.length;t++)0<t&&(e+=" "),e+=this.prefix+this.cls[t];return e},n}),r("tinymce.core.ui.ReflowQueue",["tinymce.core.util.Delay"],function(t){var n,r={};return{add:function(e){e=e.parent();e&&e._layout&&!e._layout.isNative()&&(r[e._id]||(r[e._id]=e),n||(n=!0,t.requestAnimationFrame(function(){var e,t;for(e in n=!1,r)(t=r[e]).state.get("rendered")&&t.reflow();r={}},document.body)))},remove:function(e){r[e._id]&&delete r[e._id]}}}),r("tinymce.core.ui.Control",["tinymce.core.util.Class","tinymce.core.util.Tools","tinymce.core.util.EventDispatcher","tinymce.core.data.ObservableObject","tinymce.core.ui.Collection","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery","tinymce.core.ui.BoxUtils","tinymce.core.ui.ClassList","tinymce.core.ui.ReflowQueue"],function(e,o,r,a,i,m,f,h,s,c){"use strict";var l,p="onmousewheel"in document,g=!1,u=0,n={Statics:{classPrefix:"mce-"},isRtl:function(){return l.rtl},classPrefix:"mce-",init:function(t){var e,n,r=this;function i(e){var t;for(e=e.split(" "),t=0;t<e.length;t++)r.classes.add(e[t])}r.settings=t=o.extend({},r.Defaults,t),r._id=t.id||"mceu_"+u++,r._aria={role:t.role},r._elmCache={},r.$=f,r.state=new a({visible:!0,active:!1,disabled:!1,value:""}),r.data=new a(t.data),r.classes=new s(function(){r.state.get("rendered")&&(r.getEl().className=this.toString())}),r.classes.prefix=r.classPrefix,(e=t.classes)&&(r.Defaults&&(n=r.Defaults.classes)&&e!=n&&i(n),i(e)),o.each("title text name visible disabled active value".split(" "),function(e){e in t&&r[e](t[e])}),r.on("click",function(){if(r.disabled())return!1}),r.settings=t,r.borderBox=h.parseBox(t.border),r.paddingBox=h.parseBox(t.padding),r.marginBox=h.parseBox(t.margin),t.hidden&&r.hide()},Properties:"parent,name",getContainerElm:function(){return m.getContainer()},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e,t,n,r=this,i=r.settings,o=r.getEl(),a=r.borderBox=r.borderBox||h.measureBox(o,"border"),s=(r.paddingBox=r.paddingBox||h.measureBox(o,"padding"),r.marginBox=r.marginBox||h.measureBox(o,"margin"),o=m.getSize(o),t=i.minWidth,n=i.minHeight,e=t||o.width,o=n||o.height,c=i.width,l=i.height,void 0!==(s=i.autoResize)?s:!c&&!l),c=c||e,l=l||o,u=a.left+a.right,a=a.top+a.bottom,d=i.maxWidth||65535,f=i.maxHeight||65535;return r._layoutRect=i={x:i.x||0,y:i.y||0,w:c,h:l,deltaW:u,deltaH:a,contentW:c-u,contentH:l-a,innerW:c-u,innerH:l-a,startMinWidth:t||0,startMinHeight:n||0,minW:Math.min(e,d),minH:Math.min(o,f),maxW:d,maxH:f,autoResize:s,scrollW:0},r._lastLayoutRect={},i},layoutRect:function(e){var t,n,r,i,o=(o=this._layoutRect)||this.initLayoutRect();return e?(t=o.deltaW,n=o.deltaH,e.x!==r&&(o.x=e.x),e.y!==r&&(o.y=e.y),e.minW!==r&&(o.minW=e.minW),e.minH!==r&&(o.minH=e.minH),(i=e.w)!==r&&(i=(i=i<o.minW?o.minW:i)>o.maxW?o.maxW:i,o.w=i,o.innerW=i-t),(i=e.h)!==r&&(i=(i=i<o.minH?o.minH:i)>o.maxH?o.maxH:i,o.h=i,o.innerH=i-n),(i=e.innerW)!==r&&(i=(i=i<o.minW-t?o.minW-t:i)>o.maxW-t?o.maxW-t:i,o.innerW=i,o.w=i+t),(i=e.innerH)!==r&&(i=(i=i<o.minH-n?o.minH-n:i)>o.maxH-n?o.maxH-n:i,o.innerH=i,o.h=i+n),e.contentW!==r&&(o.contentW=e.contentW),e.contentH!==r&&(o.contentH=e.contentH),(t=this._lastLayoutRect).x===o.x&&t.y===o.y&&t.w===o.w&&t.h===o.h||((i=l.repaintControls)&&i.map&&!i.map[this._id]&&(i.push(this),i.map[this._id]=!0),t.x=o.x,t.y=o.y,t.w=o.w,t.h=o.h),this):o},repaint:function(){var e,t,n,r=this,i=document.createRange?function(e){return e}:Math.round,o=r.getEl().style,a=r._layoutRect,s=r._lastRepaintRect||{},c=r.borderBox,l=c.left+c.right,c=c.top+c.bottom;a.x!==s.x&&(o.left=i(a.x)+"px",s.x=a.x),a.y!==s.y&&(o.top=i(a.y)+"px",s.y=a.y),a.w!==s.w&&(n=i(a.w-l),o.width=(0<=n?n:0)+"px",s.w=a.w),a.h!==s.h&&(n=i(a.h-c),o.height=(0<=n?n:0)+"px",s.h=a.h),r._hasBody&&a.innerW!==s.innerW&&(n=i(a.innerW),(t=r.getEl("body"))&&((e=t.style).width=(0<=n?n:0)+"px"),s.innerW=a.innerW),r._hasBody&&a.innerH!==s.innerH&&(n=i(a.innerH),(t=t||r.getEl("body"))&&((e=e||t.style).height=(0<=n?n:0)+"px"),s.innerH=a.innerH),r._lastRepaintRect=s,r.fire("repaint",{},!1)},updateLayoutRect:function(){this.parent()._lastRect=null,m.css(this.getEl(),{width:"",height:""}),this._layoutRect=this._lastRepaintRect=this._lastLayoutRect=null,this.initLayoutRect()},on:function(e,t){var n,r,i,o=this;return d(o).on(e,"string"!=typeof(n=t)?n:function(e){if(r||o.parentsAndSelf().each(function(e){var t=e.settings.callbacks;if(t&&(r=t[n]))return i=e,!1}),r)return r.call(i,e);e.action=n,this.fire("execute",e)}),o},off:function(e,t){return d(this).off(e,t),this},fire:function(e,t,n){if((t=t||{}).control||(t.control=this),t=d(this).fire(e,t),!1!==n&&this.parent)for(var r=this.parent();r&&!t.isPropagationStopped();)r.fire(e,t,!1),r=r.parent();return t},hasEventListeners:function(e){return d(this).has(e)},parents:function(e){for(var t=new i,n=this.parent();n;n=n.parent())t.add(n);return t=e?t.filter(e):t},parentsAndSelf:function(e){return new i(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){e=e?this._id+"-"+e:this._id;return this._elmCache[e]||(this._elmCache[e]=f("#"+e)[0]),this._elmCache[e]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this.getEl(this.ariaTarget);return void 0===t?this._aria[e]:(this._aria[e]=t,this.state.get("rendered")&&n.setAttribute("role"==e?e:"aria-"+e,t),this)},encode:function(e,t){return((e=!1!==t?this.translate(e):e)||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return l.translate?l.translate(e):e},before:function(e){var t=this.parent();return t&&t.insert(e,t.items().indexOf(this),!0),this},after:function(e){var t=this.parent();return t&&t.insert(e,t.items().indexOf(this)),this},remove:function(){var t,n=this,e=n.getEl(),r=n.parent();if(n.items)for(var i=n.items().toArray(),o=i.length;o--;)i[o].remove();r&&r.items&&(t=[],r.items().each(function(e){e!==n&&t.push(e)}),r.items().set(t),r._lastRect=null),n._eventsRoot&&n._eventsRoot==n&&f(e).off();r=n.getRoot().controlIdLookup;return r&&delete r[n._id],e&&e.parentNode&&e.parentNode.removeChild(e),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n},renderBefore:function(e){return f(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return f(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e,t,n,r=this,i=r.settings;for(t in r.$el=f(r.getEl()),r.state.set("rendered",!0),i)0===t.indexOf("on")&&r.on(t.substr(2),i[t]);if(r._eventsRoot){for(e=r.parent();!n&&e;e=e.parent())n=e._eventsRoot;if(n)for(t in n._nativeEvents)r._nativeEvents[t]=!0}y(r),i.style&&(a=r.getEl())&&(a.setAttribute("style",i.style),a.style.cssText=i.style),r.settings.border&&(a=r.borderBox,r.$el.css({"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left}));var o,a=r.getRoot();for(o in a.controlIdLookup||(a.controlIdLookup={}),(a.controlIdLookup[r._id]=r)._aria)r.aria(o,r._aria[o]);!1===r.state.get("visible")&&(r.getEl().style.display="none"),r.bindStates(),r.state.on("change:visible",function(e){var t,e=e.value;r.state.get("rendered")&&(r.getEl().style.display=!1===e?"none":"",r.getEl().getBoundingClientRect()),(t=r.parent())&&(t._lastRect=null),r.fire(e?"show":"hide"),c.add(r)}),r.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){var t=this.getEl(),n=t.parentNode,r=function(e,t){for(var n,r=e,i=n=0;r&&r!=t&&r.nodeType;)i+=r.offsetLeft||0,n+=r.offsetTop||0,r=r.offsetParent;return{x:i,y:n}}(t,n),i=r.x,r=r.y,o=t.offsetWidth,t=t.offsetHeight,a=n.clientWidth,s=n.clientHeight;return"end"==e?(i-=a-o,r-=s-t):"center"==e&&(i-=a/2-o/2,r-=s/2-t/2),n.scrollLeft=i,n.scrollTop=r,this},getRoot:function(){for(var e=this,t=[];e;){if(e.rootControl){n=e.rootControl;break}t.push(e),e=(n=e).parent()}for(var n=n||this,r=t.length;r--;)t[r].rootControl=n;return n},reflow:function(){c.remove(this);var e=this.parent();return e&&e._layout&&!e._layout.isNative()&&e.reflow(),this}};function d(n){return n._eventDispatcher||(n._eventDispatcher=new r({scope:n,toggleEvent:function(e,t){t&&r.isNative(e)&&(n._nativeEvents||(n._nativeEvents={}),n._nativeEvents[e]=!0,n.state.get("rendered")&&y(n))}})),n._eventDispatcher}function y(s){var e,t,n,c,r,i;function o(e){var t=s.getParentCtrl(e.target);t&&t.fire(e.type,e)}function a(){var e=c._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),c._lastHoverCtrl=null)}function l(e){var t,n,r,i=s.getParentCtrl(e.target),o=c._lastHoverCtrl,a=0;if(i!==o){if((n=(c._lastHoverCtrl=i).parents().toArray().reverse()).push(i),o){for((r=o.parents().toArray().reverse()).push(o),a=0;a<r.length&&n[a]===r[a];a++);for(t=r.length-1;a<=t;t--)(o=r[t]).fire("mouseleave",{target:o.getEl()})}for(t=a;t<n.length;t++)(i=n[t]).fire("mouseenter",{target:i.getEl()})}}function u(e){e.preventDefault(),"mousewheel"==e.type?(e.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(e.deltaX=-.025*e.wheelDeltaX)):(e.deltaX=0,e.deltaY=e.detail),s.fire("wheel",e)}if(r=s._nativeEvents){for((n=s.parents().toArray()).unshift(s),e=0,t=n.length;!c&&e<t;e++)c=n[e]._eventsRoot;for(c=c||n[n.length-1]||s,s._eventsRoot=c,t=e,e=0;e<t;e++)n[e]._eventsRoot=c;var d=(d=c._delegates)||(c._delegates={});for(i in r){if(!r)return;"wheel"!==i||g?("mouseenter"===i||"mouseleave"===i?c._hasMouseEnter||(f(c.getEl()).on("mouseleave",a).on("mouseover",l),c._hasMouseEnter=1):d[i]||(f(c.getEl()).on(i,o),d[i]=!0),r[i]=!1):p?f(s.getEl()).on("mousewheel",u):f(s.getEl()).on("DOMMouseScroll",u)}}}return o.each("text title visible disabled active value".split(" "),function(t){n[t]=function(e){return 0===arguments.length?this.state.get(t):(void 0!==e&&this.state.set(t,e),this)}}),l=e.extend(n)}),r("tinymce.core.ui.Factory",[],function(){"use strict";var r={};return{add:function(e,t){r[e.toLowerCase()]=t},has:function(e){return!!r[e.toLowerCase()]},create:function(e,t){var n;if("string"==typeof e?(t=t||{}).type=e:e=(t=e).type,e=e.toLowerCase(),n=r[e])return(n=new n(t)).type=e,n;throw new Error("Could not find control by type: "+e)}}}),r("tinymce.core.ui.KeyboardNavigation",[],function(){"use strict";function b(e){return!!e.getAttribute("data-mce-tabstop")}return function(e){var o,i,t=e.root;function n(e){return e&&1===e.nodeType}try{o=document.activeElement}catch(e){o=document.body}function a(e){return n(e=e||o)?e.getAttribute("role"):null}function s(e){for(var t,n=e||o;n=n.parentNode;)if(t=a(n))return t}function r(e){var t=o;return n(t)&&t.getAttribute("aria-"+e)}function c(e){e=e.tagName.toUpperCase();return"INPUT"==e||"TEXTAREA"==e||"SELECT"==e}function l(e){var i=[];return function e(t){if(1==t.nodeType&&"none"!=t.style.display&&!t.disabled){var n;(c(n=t)&&!n.hidden||b(n)||/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(a(n)))&&i.push(t);for(var r=0;r<t.childNodes.length;r++)e(t.childNodes[r])}}(e||t.getEl()),i}function u(e){var t,n;(n=(e=e||i).parents().toArray()).unshift(e);for(var r=0;r<n.length&&!(t=n[r]).settings.ariaRoot;r++);return t}function d(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function f(e,t){var n=-1,r=u();t=t||l(r.getEl());for(var i=0;i<t.length;i++)t[i]===o&&(n=i);r.lastAriaIndex=d(n+=e,t)}function m(){"tablist"==s()?f(-1,l(o.parentNode)):i.parent().submenu?y():f(-1)}function h(){var e=a(),t=s();"tablist"==t?f(1,l(o.parentNode)):"menuitem"==e&&"menu"==t&&r("haspopup")?v():f(1)}function p(){f(-1)}function g(){var e=a(),t=s();"menuitem"==e&&"menubar"==t?v():"button"==e&&r("haspopup")?v({key:"down"}):f(1)}function y(){i.fire("cancel")}function v(e){i.fire("click",{target:o,aria:e=e||{}})}return i=t.getParentCtrl(o),t.on("keydown",function(e){function t(e,t){c(o)||b(o)||"slider"!==a(o)&&!1!==t(e)&&e.preventDefault()}var n,r;if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,m);break;case 39:t(e,h);break;case 38:t(e,p);break;case 40:t(e,g);break;case 27:y();break;case 14:case 13:case 32:t(e,v);break;case 9:n=e,"tablist"==s()?(r=l(i.getEl("body"))[0])&&r.focus():f(n.shiftKey?-1:1),e.preventDefault()}}),t.on("focusin",function(e){o=e.target,i=e.control}),{focusFirst:function(e){var t=l((e=u(e)).getEl());e.settings.ariaRemember&&"lastAriaIndex"in e?d(e.lastAriaIndex,t):d(0,t)}}}}),r("tinymce.core.ui.Container",["tinymce.core.ui.Control","tinymce.core.ui.Collection","tinymce.core.ui.Selector","tinymce.core.ui.Factory","tinymce.core.ui.KeyboardNavigation","tinymce.core.util.Tools","tinymce.core.dom.DomQuery","tinymce.core.ui.ClassList","tinymce.core.ui.ReflowQueue"],function(i,n,t,o,r,a,s,c,l){"use strict";var u={};return i.extend({init:function(e){var t=this;t._super(e),(e=t.settings).fixed&&t.state.set("fixed",!0),t._items=new n,t.isRtl()&&t.classes.add("rtl"),t.bodyClasses=new c(function(){t.state.get("rendered")&&(t.getEl("body").className=this.toString())}),t.bodyClasses.prefix=t.classPrefix,t.classes.add("container"),t.bodyClasses.add("container-body"),e.containerCls&&t.classes.add(e.containerCls),t._layout=o.create((e.layout||"")+"layout"),t.settings.items?t.add(t.settings.items):t.add(t.render()),t._hasBody=!0},items:function(){return this._items},find:function(e){return(e=u[e]=u[e]||new t(e)).find(this)},add:function(e){return this.items().add(this.create(e)).parent(this),this},focus:function(e){var t,n;if(!e||!(n=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav))return e=this.find("*"),this.statusbar&&e.add(this.statusbar.items()),e.each(function(e){if(e.settings.autofocus)return t=null,!1;e.canFocus&&(t=t||e)}),t&&t.focus(),this;n.focusFirst(this)},replace:function(e,t){for(var n,r=this.items(),i=r.length;i--;)if(r[i]===e){r[i]=t;break}0<=i&&((n=t.getEl())&&n.parentNode.removeChild(n),(n=e.getEl())&&n.parentNode.removeChild(n)),t.parent(this)},create:function(e){var t,n=this,r=[];return a.isArray(e)||(e=[e]),a.each(e,function(e){e&&(e instanceof i||(t=a.extend({},n.settings.defaults,e="string"==typeof e?{type:e}:e),e.type=t.type=t.type||e.type||n.settings.defaultType||(t.defaults?t.defaults.type:null),e=o.create(t)),r.push(e))}),r},renderNew:function(){var r=this;return r.items().each(function(e,t){var n;e.parent(r),e.state.get("rendered")||((n=r.getEl("body")).hasChildNodes()&&t<=n.childNodes.length-1?s(n.childNodes[t]).before(e.renderHtml()):s(n).append(e.renderHtml()),e.postRender(),l.add(e))}),r._layout.applyClasses(r.items().filter(":visible")),r._lastRect=null,r},append:function(e){return this.add(e).renderNew()},prepend:function(e){return this.items().set(this.create(e).concat(this.items().toArray())),this.renderNew()},insert:function(e,t,n){var r;return e=this.create(e),r=this.items(),!n&&t<r.length-1&&(t+=1),0<=t&&t<r.length&&(n=r.slice(0,t).toArray(),t=r.slice(t).toArray(),r.set(n.concat(e,t))),this.renderNew()},fromJSON:function(e){for(var t in e)this.find("#"+t).value(e[t]);return this},toJSON:function(){var n={};return this.find("*").each(function(e){var t=e.name(),e=e.value();t&&void 0!==e&&(n[t]=e)}),n},renderHtml:function(){var e=this._layout,t=this.settings.role;return this.preRender(),e.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"'+(t?' role="'+this.settings.role+'"':"")+'><div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+e.renderHtml(this)+"</div></div>"},postRender:function(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t.state.set("rendered",!0),t.settings.style&&t.$el.css(t.settings.style),t.settings.border&&(e=t.borderBox,t.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),t.parent()||(t.keyboardNav=new r({root:t})),t},initLayoutRect:function(){var e=this._super();return this._layout.recalc(this),e},recalc:function(){var e=this._layoutRect,t=this._lastRect;if(!t||t.w!=e.w||t.h!=e.h)return this._layout.recalc(this),e=this.layoutRect(),this._lastRect={x:e.x,y:e.y,w:e.w,h:e.h},!0},reflow:function(){var e;if(l.remove(this),this.visible()){for(i.repaintControls=[],i.repaintControls.map={},this.recalc(),e=i.repaintControls.length;e--;)i.repaintControls[e].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),i.repaintControls=[]}return this}})}),r("tinymce.core.ui.DragHelper",["tinymce.core.dom.DomQuery"],function(v){"use strict";function b(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}return function(e,l){var u,d,t,f,m,h,p,g=l.document||document;function y(){return g.getElementById(l.handle||e)}l=l||{},t=function(e){t=g,n=Math.max,r=t.documentElement,t=t.body,i=n(r.scrollWidth,t.scrollWidth),o=n(r.clientWidth,t.clientWidth),c=n(r.offsetWidth,t.offsetWidth),a=n(r.scrollHeight,t.scrollHeight),s=n(r.clientHeight,t.clientHeight);var t,n,r,i,o,a,s,c={width:i<c?o:i,height:a<n(r.offsetHeight,t.offsetHeight)?s:a};b(e),e.preventDefault(),d=e.button,o=y(),h=e.screenX,p=e.screenY,i=window.getComputedStyle?window.getComputedStyle(o,null).getPropertyValue("cursor"):o.runtimeStyle.cursor,u=v("<div></div>").css({position:"absolute",top:0,left:0,width:c.width,height:c.height,zIndex:2147483647,opacity:1e-4,cursor:i}).appendTo(g.body),v(g).on("mousemove touchmove",m).on("mouseup touchend",f),l.start(e)},m=function(e){if(b(e),e.button!==d)return f(e);e.deltaX=e.screenX-h,e.deltaY=e.screenY-p,e.preventDefault(),l.drag(e)},f=function(e){b(e),v(g).off("mousemove touchmove",m).off("mouseup touchend",f),u.remove(),l.stop&&l.stop(e)},this.destroy=function(){v(y()).off()},v(y()).on("mousedown touchstart",t)}}),r("tinymce.core.ui.Scrollable",["tinymce.core.dom.DomQuery","tinymce.core.ui.DragHelper"],function(f,r){"use strict";return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){var d=this;function n(){var l,u,e;function t(e,t,n,r,i,o){var a,s,c=d.getEl("scroll"+e);c&&(a=t.toLowerCase(),s=n.toLowerCase(),f(d.getEl("absend")).css(a,d.layoutRect()[r]-1),i?(f(c).css("display","block"),r=d.getEl("body"),i=d.getEl("scroll"+e+"t"),e=r["client"+n]-4,o=(e-=l&&u?c["client"+o]:0)/r["scroll"+n],(n={})[a]=r["offset"+t]+2,n[s]=e,f(c).css(n),(n={})[a]=r["scroll"+t]*o,n[s]=e*o,f(i).css(n)):f(c).css("display","none"))}e=d.getEl("body"),l=e.scrollWidth>e.clientWidth,u=e.scrollHeight>e.clientHeight,t("h","Left","Width","contentW",l,"Height"),t("v","Top","Height","contentH",u,"Width")}function e(i,o,a,s,c){var l,e=d._id+"-scroll"+i,t=d.classPrefix;f(d.getEl()).append('<div id="'+e+'" class="'+t+"scrollbar "+t+"scrollbar-"+i+'"><div id="'+e+'t" class="'+t+'scrollbar-thumb"></div></div>'),d.draghelper=new r(e+"t",{start:function(){l=d.getEl("body")["scroll"+o],f("#"+e).addClass(t+"active")},drag:function(e){var t=d.layoutRect(),n=t.contentW>t.innerW,t=t.contentH>t.innerH,r=d.getEl("body")["client"+a]-4,n=(r-=n&&t?d.getEl("scroll"+i)["client"+c]:0)/d.getEl("body")["scroll"+a];d.getEl("body")["scroll"+o]=l+e["delta"+s]/n},stop:function(){f("#"+e).removeClass(t+"active")}})}d.settings.autoScroll&&(d._hasScroll||(d._hasScroll=!0,d.classes.add("scroll"),e("v","Top","Height","Y","Width"),e("h","Left","Width","X","Height"),d.on("wheel",function(e){var t=d.getEl("body");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,n()}),f(d.getEl("body")).on("scroll",n)),n())}}}),r("tinymce.core.ui.Panel",["tinymce.core.ui.Container","tinymce.core.ui.Scrollable"],function(e,t){"use strict";return e.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[t],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),void 0===n?n='<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}})}),r("tinymce.core.ui.Movable",["tinymce.core.ui.DomUtils"],function(s){"use strict";function o(e,t,n){var r,i=s.getViewPort(),o=s.getPos(t),a=o.x,o=o.y;return e.state.get("fixed")&&"static"==s.getRuntimeStyle(document.body,"position")&&(a-=i.x,o-=i.y),i=e.getEl(),i=(e=s.getSize(i)).width,r=e.height,t=(e=s.getSize(t)).width,e=e.height,"b"===(n=(n||"").split(""))[0]&&(o+=e),"r"===n[1]&&(a+=t),"c"===n[0]&&(o+=Math.round(e/2)),"c"===n[1]&&(a+=Math.round(t/2)),"b"===n[3]&&(o-=r),"r"===n[4]&&(a-=i),"c"===n[3]&&(o-=Math.round(r/2)),"c"===n[4]&&(a-=Math.round(i/2)),{x:a,y:o,w:i,h:r}}return{testMoveRel:function(e,t){for(var n=s.getViewPort(),r=0;r<t.length;r++){var i=o(this,e,t[r]);if(this.state.get("fixed")){if(0<i.x&&i.x+i.w<n.w&&0<i.y&&i.y+i.h<n.h)return t[r]}else if(i.x>n.x&&i.x+i.w<n.w+n.x&&i.y>n.y&&i.y+i.h<n.h+n.y)return t[r]}return t[0]},moveRel:function(e,t){"string"!=typeof t&&(t=this.testMoveRel(e,t));e=o(this,e,t);return this.moveTo(e.x,e.y)},moveBy:function(e,t){var n=this.layoutRect();return this.moveTo(n.x+e,n.y+t),this},moveTo:function(e,t){var n,r;function i(e,t,n){return e<0||t<e+n&&(e=t-n)<0?0:e}return this.settings.constrainToViewport&&(n=s.getViewPort(window),r=this.layoutRect(),e=i(e,n.w+n.x,r.w),t=i(t,n.h+n.y,r.h)),this.state.get("rendered")?this.layoutRect({x:e,y:t}).repaint():(this.settings.x=e,this.settings.y=t),this.fire("move",{x:e,y:t}),this}}}),r("tinymce.core.ui.Resizable",["tinymce.core.ui.DomUtils"],function(r){"use strict";return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(e,t){var n;return(e<=1||t<=1)&&(n=r.getWindowSize(),e=e<=1?e*n.w:e,t=t<=1?t*n.h:t),this._layoutRect.autoResize=!1,this.layoutRect({minW:e,minH:t,w:e,h:t}).reflow()},resizeBy:function(e,t){var n=this.layoutRect();return this.resizeTo(n.w+e,n.h+t)}}}),r("tinymce.core.ui.FloatPanel",["tinymce.core.ui.Panel","tinymce.core.ui.Movable","tinymce.core.ui.Resizable","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery","tinymce.core.util.Delay"],function(e,t,n,r,o,a){"use strict";var s,c,l,u,d=[],f=[];function m(e){for(var t=d.length;t--;){var n=d[t],r=n.getParentCtrl(e.target);!n.settings.autohide||r&&(function(e,t){for(;e;){if(e==t)return 1;e=e.parent()}}(r,n)||n.parent()===r)||(e=n.fire("autohide",{target:e.target})).isDefaultPrevented()||n.hide()}}function h(i){var e=r.getViewPort().y;function t(e,t){for(var n,r=0;r<d.length;r++)if(d[r]!=i)for(n=d[r].parent();n=n&&n.parent();)n==i&&d[r].fixed(e).moveBy(0,t).repaint()}i.settings.autofix&&(i.state.get("fixed")?i._autoFixY>e&&(i.fixed(!1).layoutRect({y:i._autoFixY}).repaint(),t(!1,i._autoFixY-e)):(i._autoFixY=i.layoutRect().y,i._autoFixY<e&&(i.fixed(!0).layoutRect({y:0}).repaint(),t(!0,e-i._autoFixY))))}function p(e,t){var n,r,i=g.zIndex||65535;if(e)f.push(t);else for(n=f.length;n--;)f[n]===t&&f.splice(n,1);if(f.length)for(n=0;n<f.length;n++)f[n].modal&&(i++,r=f[n]),f[n].getEl().style.zIndex=i,f[n].zIndex=i,i++;e=o("#"+t.classPrefix+"modal-block",t.getContainerElm())[0];r?o(e).css("z-index",r.zIndex-1):e&&(e.parentNode.removeChild(e),u=!1),g.currentZIndex=i}var g=e.extend({Mixins:[t,n],init:function(e){var t,n,r,i=this;i._super(e),(i._eventsRoot=i).classes.add("floatpanel"),e.autohide&&(s||(s=function(e){2!=e.button&&m(e)},o(document).on("click touchstart",s)),l||(t=document.documentElement,n=t.clientWidth,r=t.clientHeight,l=function(){document.all&&n==t.clientWidth&&r==t.clientHeight||(n=t.clientWidth,r=t.clientHeight,g.hideAll())},o(window).on("resize",l)),d.push(i)),e.autofix&&(c||(c=function(){for(var e=d.length;e--;)h(d[e])},o(window).on("scroll",c)),i.on("move",function(){h(this)})),i.on("postrender show",function(e){var t,n;e.control==i&&(n=i.classPrefix,i.modal&&!u&&((t=o("#"+n+"modal-block",i.getContainerElm()))[0]||(t=o('<div id="'+n+'modal-block" class="'+n+"reset "+n+'fade"></div>').appendTo(i.getContainerElm())),a.setTimeout(function(){t.addClass(n+"in"),o(i.getEl()).addClass(n+"in")}),u=!0),p(!0,i))}),i.on("show",function(){i.parents().each(function(e){if(e.state.get("fixed"))return i.fixed(!0),!1})}),e.popover&&(i._preBodyHtml='<div class="'+i.classPrefix+'arrow"></div>',i.classes.add("popover").add("bottom").add(i.isRtl()?"end":"start")),i.aria("label",e.ariaLabel),i.aria("labelledby",i._id),i.aria("describedby",i.describedBy||i._id+"-none")},fixed:function(e){var t;return this.state.get("fixed")!=e&&(this.state.get("rendered")&&(t=r.getViewPort(),e?this.layoutRect().y-=t.y:this.layoutRect().y+=t.y),this.classes.toggle("fixed",e),this.state.set("fixed",e)),this},show:function(){for(var e=this._super(),t=d.length;t--&&d[t]!==this;);return-1===t&&d.push(this),e},hide:function(){return i(this),p(!1,this),this._super()},hideAll:function(){g.hideAll()},close:function(){return this.fire("close").isDefaultPrevented()||(this.remove(),p(!1,this)),this},remove:function(){i(this),this._super()},postRender:function(){return this.settings.bodyRole&&this.getEl("body").setAttribute("role",this.settings.bodyRole),this._super()}});function i(e){for(var t=d.length;t--;)d[t]===e&&d.splice(t,1);for(t=f.length;t--;)f[t]===e&&f.splice(t,1)}return g.hideAll=function(){for(var e=d.length;e--;){var t=d[e];t&&t.settings.autohide&&(t.hide(),d.splice(e,1))}},g}),r("tinymce.core.ui.Window",["tinymce.core.ui.FloatPanel","tinymce.core.ui.Panel","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery","tinymce.core.ui.DragHelper","tinymce.core.ui.BoxUtils","tinymce.core.Env","tinymce.core.util.Delay"],function(e,t,a,s,r,c,i,l){"use strict";var o=[],u="";function d(e){var t,n=s("meta[name=viewport]")[0];!1!==i.overrideViewPort&&(n||((n=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(n)),(t=n.getAttribute("content"))&&void 0!==u&&(u=t),n.setAttribute("content",e?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":u))}function n(e,t){!function(){for(var e=0;e<o.length;e++)if(o[e]._fullscreen)return 1;return}()||!1!==t||s([document.documentElement,document.body]).removeClass(e+"fullscreen")}var f,e=e.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var n=this;n._super(e),n.isRtl()&&n.classes.add("rtl"),n.classes.add("window"),n.bodyClasses.add("window-body"),n.state.set("fixed",!0),e.buttons&&(n.statusbar=new t({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:n.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),n.statusbar.classes.add("foot"),n.statusbar.parent(n)),n.on("click",function(e){var t=n.classPrefix+"close";(a.hasClass(e.target,t)||a.hasClass(e.target.parentNode,t))&&n.close()}),n.on("cancel",function(){n.close()}),n.aria("describedby",n.describedBy||n._id+"-none"),n.aria("label",e.title),n._fullscreen=!1},recalc:function(){var e,t,n,r,i=this,o=i.statusbar;i._fullscreen&&(i.layoutRect(a.getWindowSize()),i.layoutRect().contentH=i.layoutRect().innerH),i._super(),e=i.layoutRect(),i.settings.title&&!i._fullscreen&&(t=e.headerW)>e.w&&(n=e.x-Math.max(0,t/2),i.layoutRect({w:t,x:n}),r=!0),o&&(o.layoutRect({w:i.layoutRect().innerW}).recalc(),(t=o.layoutRect().minW+e.deltaW)>e.w&&(n=e.x-Math.max(0,t-e.w),i.layoutRect({w:t,x:n}),r=!0)),r&&i.recalc()},initLayoutRect:function(){var e=this._super(),t=0,n=(this.settings.title&&!this._fullscreen&&(n=this.getEl("head"),n=a.getSize(n),e.headerW=n.width,e.headerH=n.height,t+=e.headerH),this.statusbar&&(t+=this.statusbar.layoutRect().h),e.deltaH+=t,e.minH+=t,e.h+=t,a.getWindowSize());return e.x=this.settings.x||Math.max(0,n.w/2-e.w/2),e.y=this.settings.y||Math.max(0,n.h/2-e.h/2),e},renderHtml:function(){var e=this,t=e._layout,n=e._id,r=e.classPrefix,i=e.settings,o="",a="",s=i.html;return e.preRender(),t.preRender(e),i.title&&(o='<div id="'+n+'-head" class="'+r+'window-head"><div id="'+n+'-title" class="'+r+'title">'+e.encode(i.title)+'</div><div id="'+n+'-dragh" class="'+r+'dragh"></div><button type="button" class="'+r+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),void 0===(s=i.url?'<iframe src="'+i.url+'" tabindex="-1"></iframe>':s)&&(s=t.renderHtml(e)),e.statusbar&&(a=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+o+'<div id="'+n+'-body" class="'+e.bodyClasses+'">'+s+"</div>"+a+"</div></div>"},fullscreen:function(e){var n,t,r=this,i=document.documentElement,o=r.classPrefix;return e!=r._fullscreen&&(s(window).on("resize",function(){var e,t;r._fullscreen&&(n?r._timer||(r._timer=l.setTimeout(function(){var e=a.getWindowSize();r.moveTo(0,0).resizeTo(e.w,e.h),r._timer=0},50)):(e=(new Date).getTime(),t=a.getWindowSize(),r.moveTo(0,0).resizeTo(t.w,t.h),50<(new Date).getTime()-e&&(n=!0)))}),t=r.layoutRect(),(r._fullscreen=e)?(r._initial={x:t.x,y:t.y,w:t.w,h:t.h},r.borderBox=c.parseBox("0"),r.getEl("head").style.display="none",t.deltaH-=t.headerH+2,s([i,document.body]).addClass(o+"fullscreen"),r.classes.add("fullscreen"),e=a.getWindowSize(),r.moveTo(0,0).resizeTo(e.w,e.h)):(r.borderBox=c.parseBox(r.settings.border),r.getEl("head").style.display="",t.deltaH+=t.headerH,s([i,document.body]).removeClass(o+"fullscreen"),r.classes.remove("fullscreen"),r.moveTo(r._initial.x,r._initial.y).resizeTo(r._initial.w,r._initial.h))),r.reflow()},postRender:function(){var t,n=this;setTimeout(function(){n.classes.add("in"),n.fire("open")},0),n._super(),n.statusbar&&n.statusbar.postRender(),n.focus(),this.dragHelper=new r(n._id+"-dragh",{start:function(){t={x:n.layoutRect().x,y:n.layoutRect().y}},drag:function(e){n.moveTo(t.x+e.deltaX,t.y+e.deltaY)}}),n.on("submit",function(e){e.isDefaultPrevented()||n.close()}),o.push(n),d(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e;for(this.dragHelper.destroy(),this._super(),this.statusbar&&this.statusbar.remove(),n(this.classPrefix,!1),e=o.length;e--;)o[e]===this&&o.splice(e,1);d(0<o.length)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});return i.desktop||(f={w:window.innerWidth,h:window.innerHeight},l.setInterval(function(){var e=window.innerWidth,t=window.innerHeight;f.w==e&&f.h==t||(f={w:e,h:t},s(window).trigger("resize"))},100)),s(window).on("resize",function(){for(var e,t=a.getWindowSize(),n=0;n<o.length;n++)e=o[n].layoutRect(),o[n].moveTo(o[n].settings.x||Math.max(0,t.w/2-e.w/2),o[n].settings.y||Math.max(0,t.h/2-e.h/2))}),e}),r("tinymce.core.ui.MessageBox",["tinymce.core.ui.Window"],function(i){"use strict";var o=i.extend({init:function(e){this._super({border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}})},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(e){var t,r=e.callback||function(){};function n(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close(),r(t)}}}switch(e.buttons){case o.OK_CANCEL:t=[n("Ok",!0,!0),n("Cancel",!1)];break;case o.YES_NO:case o.YES_NO_CANCEL:t=[n("Yes",1,!0),n("No",0)],e.buttons==o.YES_NO_CANCEL&&t.push(n("Cancel",-1));break;default:t=[n("Ok",!0,!0)]}return new i({padding:20,x:e.x,y:e.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:t,title:e.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:e.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:e.onClose,onCancel:function(){r(!1)}}).renderTo(document.body).reflow()},alert:function(e,t){return(e="string"==typeof e?{text:e}:e).callback=t,o.msgBox(e)},confirm:function(e,t){return(e="string"==typeof e?{text:e}:e).callback=t,e.buttons=o.OK_CANCEL,o.msgBox(e)}}});return o}),r("tinymce.core.WindowManager",["tinymce.core.ui.Window","tinymce.core.ui.MessageBox"],function(s,c){return function(i){var r=[];function t(){if(r.length)return r[r.length-1]}function o(e){i.fire("OpenWindow",{win:e})}function a(e){i.fire("CloseWindow",{win:e})}this.windows=r,i.on("remove",function(){for(var e=r.length;e--;)r[e].close()}),this.open=function(n,e){var t;return i.editorManager.setActive(i),n.title=n.title||" ",n.url=n.url||n.file,n.url&&(n.width=parseInt(n.width||320,10),n.height=parseInt(n.height||240,10)),n.body&&(n.items={defaults:n.defaults,type:n.bodyType||"form",items:n.body,data:n.data,callbacks:n.commands}),n.url||n.buttons||(n.buttons=[{text:"Ok",subtype:"primary",onclick:function(){t.find("form")[0].submit()}},{text:"Cancel",onclick:function(){t.close()}}]),t=new s(n),r.push(t),t.on("close",function(){for(var e=r.length;e--;)r[e]===t&&r.splice(e,1);r.length||i.focus(),a(t)}),n.data&&t.on("postRender",function(){this.find("*").each(function(e){var t=e.name();t in n.data&&e.value(n.data[t])})}),t.features=n||{},t.params=e||{},1===r.length&&i.nodeChanged(),o(t=t.renderTo().reflow()),t},this.alert=function(e,t,n){var r=c.alert(e,function(){t?t.call(n||this):i.focus()});r.on("close",function(){a(r)}),o(r)},this.confirm=function(e,t,n){var r=c.confirm(e,function(e){t.call(n||this,e)});r.on("close",function(){a(r)}),o(r)},this.close=function(){t()&&t().close()},this.getParams=function(){return t()?t().params:null},this.setParams=function(e){t()&&(t().params=e)},this.getWindows=function(){return r}}}),r("tinymce.core.ui.Tooltip",["tinymce.core.ui.Control","tinymce.core.ui.Movable"],function(e,t){return e.extend({Mixins:[t],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'" role="presentation"><div class="'+e+'tooltip-arrow"></div><div class="'+e+'tooltip-inner">'+this.encode(this.state.get("text"))+"</div></div>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().lastChild.innerHTML=t.encode(e.value)}),t._super()},repaint:function(){var e=this.getEl().style,t=this._layoutRect;e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}})}),r("tinymce.core.ui.Widget",["tinymce.core.ui.Control","tinymce.core.ui.Tooltip"],function(e,t){"use strict";var n,i=e.extend({init:function(n){var r=this;r._super(n),n=r.settings,r.canFocus=!0,n.tooltip&&!1!==i.tooltips&&(r.on("mouseenter",function(e){var t=r.tooltip().moveTo(-65535);e.control==r?(e=t.text(n.tooltip).show().testMoveRel(r.getEl(),["bc-tc","bc-tl","bc-tr"]),t.classes.toggle("tooltip-n","bc-tc"==e),t.classes.toggle("tooltip-nw","bc-tl"==e),t.classes.toggle("tooltip-ne","bc-tr"==e),t.moveRel(r.getEl(),e)):t.hide()}),r.on("mouseleave mousedown click",function(){r.tooltip().hide()})),r.aria("label",n.ariaLabel||n.tooltip)},tooltip:function(){return n||(n=new t({type:"tooltip"})).renderTo(),n},postRender:function(){var e=this.settings;this._super(),this.parent()||!e.width&&!e.height||(this.initLayoutRect(),this.repaint()),e.autofocus&&this.focus()},bindStates:function(){var t=this;function n(e){t.aria("disabled",e),t.classes.toggle("disabled",e)}function r(e){t.aria("pressed",e),t.classes.toggle("active",e)}return t.state.on("change:disabled",function(e){n(e.value)}),t.state.on("change:active",function(e){r(e.value)}),t.state.get("disabled")&&n(!0),t.state.get("active")&&r(!0),t._super()},remove:function(){this._super(),n&&(n.remove(),n=null)}});return i}),r("tinymce.core.ui.Progress",["tinymce.core.ui.Widget"],function(e){"use strict";return e.extend({Defaults:{value:0},init:function(e){this._super(e),this.classes.add("progress"),this.settings.filter||(this.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'"><div class="'+t+'bar-container"><div class="'+t+'bar"></div></div><div class="'+t+'text">0%</div></div>'},postRender:function(){return this._super(),this.value(this.settings.value),this},bindStates:function(){var t=this;function n(e){e=t.settings.filter(e),t.getEl().lastChild.innerHTML=e+"%",t.getEl().firstChild.firstChild.style.width=e+"%"}return t.state.on("change:value",function(e){n(e.value)}),n(t.state.get("value")),t._super()}})}),r("tinymce.core.ui.Notification",["tinymce.core.ui.Control","tinymce.core.ui.Movable","tinymce.core.ui.Progress","tinymce.core.util.Delay"],function(e,t,n,r){function i(e,t){e.getEl().lastChild.textContent=t+(e.progressBar?" "+e.progressBar.value()+"%":"")}return e.extend({Mixins:[t],Defaults:{classes:"widget notification"},init:function(e){var t=this;t._super(e),e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add("notification-"+e.type),e.timeout&&(e.timeout<0||0<e.timeout)&&!e.closeButton?t.closeButton=!1:(t.classes.add("has-close"),t.closeButton=!0),e.progressBar&&(t.progressBar=new n),t.on("click",function(e){-1!=e.target.className.indexOf(t.classPrefix+"close")&&t.close()})},renderHtml:function(){var e=this,t=e.classPrefix,n="",r="",i="",o="";return e.icon&&(n='<i class="'+t+"ico "+t+"i-"+e.icon+'"></i>'),e.color&&(o=' style="background-color: '+e.color+'"'),e.closeButton&&(r='<button type="button" class="'+t+'close" aria-hidden="true"></button>'),e.progressBar&&(i=e.progressBar.renderHtml()),'<div id="'+e._id+'" class="'+e.classes+'"'+o+' role="presentation">'+n+'<div class="'+t+'notification-inner">'+e.state.get("text")+"</div>"+i+r+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'},postRender:function(){var e=this;return r.setTimeout(function(){e.$el.addClass(e.classPrefix+"in"),i(e,e.state.get("text"))},100),e._super()},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().firstChild.innerHTML=e.value,i(t,e.value)}),t.progressBar&&(t.progressBar.bindStates(),t.progressBar.state.on("change:value",function(e){i(t,t.state.get("text"))})),t._super()},close:function(){return this.fire("close").isDefaultPrevented()||this.remove(),this},repaint:function(){var e=this.getEl().style,t=this._layoutRect;e.left=t.x+"px",e.top=t.y+"px",e.zIndex=65534}})}),r("tinymce.core.NotificationManager",["tinymce.core.ui.Notification","tinymce.core.util.Delay","tinymce.core.util.Tools"],function(s,t,c){return function(i){var o=[];function e(){if(o.length)return o[o.length-1]}function a(){if(0<o.length){var e=o.slice(0,1)[0],t=i.inline?i.getElement():i.getContentAreaContainer();if(e.moveRel(t,"tc-tc"),1<o.length)for(var n=1;n<o.length;n++)o[n].moveRel(o[n-1].getEl(),"bc-tc")}}this.notifications=o,i.on("remove",function(){for(var e=o.length;e--;)o[e].close()}),i.on("ResizeEditor",a),i.on("ResizeWindow",function(){t.requestAnimationFrame(function(){for(var e=0;e<o.length;e++)o[e].moveTo(0,0);a()})}),this.open=function(e){var t,n,r;if(!i.removed)return i.editorManager.setActive(i),n=o,null===(n=!function(e){return!e.progressBar&&!e.timeout}(r=e)||0===(n=c.grep(n,function(e){return e=e,(t=r).type===e.settings.type&&t.text===e.settings.text;var t})).length?null:n[0])?(t=new s(e),o.push(t),0<e.timeout&&(t.timer=setTimeout(function(){t.close()},e.timeout)),t.on("close",function(){var e=o.length;for(t.timer&&i.getWin().clearTimeout(t.timer);e--;)o[e]===t&&o.splice(e,1);a()}),t.renderTo(),a()):t=n,t},this.close=function(){e()&&e().close()},this.getNotifications=function(){return o},i.on("SkinLoaded",function(){var e=i.settings.service_message;e&&i.notificationManager.open({text:e,type:"warning",timeout:0,icon:""})})}}),r("tinymce.core.EditorObservable",["tinymce.core.util.Observable","tinymce.core.dom.DOMUtils","tinymce.core.util.Tools"],function(e,t,n){var r,c=t.DOM;function i(e,t){return"selectionchange"==t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=c.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()}function o(o,a){var e,t;function s(e){return!e.hidden&&!e.readonly}o.delegates||(o.delegates={}),o.delegates[a]||o.removed||(e=i(o,a),o.settings.event_root?(r||(r={},o.editorManager.on("removeEditor",function(){if(!o.editorManager.activeEditor&&r){for(var e in r)o.dom.unbind(i(o,e));r=null}})),r[a]||(r[a]=t=function(e){for(var t=e.target,n=o.editorManager.editors,r=n.length;r--;){var i=n[r].getBody();(i===t||c.isChildOf(t,i))&&s(n[r])&&n[r].fire(a,e)}},c.bind(e,a,t))):(c.bind(e,a,t=function(e){s(o)&&o.fire(a,e)}),o.delegates[a]=t))}return n.extend({},e,{bindPendingEventDelegates:function(){var t=this;n.each(t._pendingNativeEvents,function(e){o(t,e)})},toggleNativeEvent:function(e,t){var n=this;"focus"!=e&&"blur"!=e&&(t?n.initialized?o(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(i(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this;if(t.delegates){for(e in t.delegates)t.dom.unbind(i(t,e),e,t.delegates[e]);delete t.delegates}t.inline||(t.getBody().onload=null,t.dom.unbind(t.getWin()),t.dom.unbind(t.getDoc())),t.dom.unbind(t.getBody()),t.dom.unbind(t.getContainer())}})}),r("tinymce.core.Shortcuts",["tinymce.core.util.Tools","tinymce.core.Env"],function(l,u){var d=l.each,f=l.explode,m={f9:120,f10:121,f11:122},h=l.makeMap("alt,ctrl,shift,meta,access");return function(o){var a={},n=[];function i(e){var t,n,r={};for(n in d(f(e,"+"),function(e){e in h?r[e]=!0:/^[0-9]{2,}$/.test(e)?r.keyCode=parseInt(e,10):(r.charCode=e.charCodeAt(0),r.keyCode=m[e]||e.toUpperCase().charCodeAt(0))}),t=[r.keyCode],h)r[n]?t.push(n):r[n]=!1;return r.id=t.join(","),r.access&&(r.alt=!0,u.mac?r.ctrl=!0:r.shift=!0),r.meta&&(u.mac?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r}function s(e,t,n,r){e=l.map(f(e,">"),i);return e[e.length-1]=l.extend(e[e.length-1],{func:n,scope:r||o}),l.extend(e[0],{desc:o.translate(t),subpatterns:e.slice(1)})}function r(e,t){return t&&(t.ctrl==e.ctrlKey&&t.meta==e.metaKey&&(t.alt==e.altKey&&t.shift==e.shiftKey&&((e.keyCode==t.keyCode||e.charCode&&e.charCode==t.charCode)&&(e.preventDefault(),1))))}function c(e){e.func&&e.func.call(e.scope)}o.on("keyup keypress keydown",function(t){var e;((e=t).altKey||e.ctrlKey||e.metaKey||"keydown"===(e=t).type&&112<=e.keyCode&&e.keyCode<=123)&&!t.isDefaultPrevented()&&(d(a,function(e){if(r(t,e))return n=e.subpatterns.slice(0),"keydown"==t.type&&c(e),!0}),r(t,n[0])&&(1===n.length&&"keydown"==t.type&&c(n[0]),n.shift()))}),this.add=function(e,t,n,r){var i=n;return"string"==typeof n?n=function(){o.execCommand(i,!1,null)}:l.isArray(i)&&(n=function(){o.execCommand(i[0],i[1],i[2])}),d(f(l.trim(e.toLowerCase())),function(e){e=s(e,t,n,r);a[e.id]=e}),!0},this.remove=function(e){e=s(e);return!!a[e.id]&&(delete a[e.id],!0)}}}),t("global!window",window),r("tinymce.core.ErrorReporter",["tinymce.core.AddOnManager"],function(e){function n(e,t){e._skinLoaded?o(e,t):e.on("SkinLoaded",function(){o(e,t)})}var r=e.PluginManager,i=function(e,t){for(var n in r.urls)if(r.urls[n]+"/plugin"+t+".js"===e)return n;return null},o=function(e,t){e.notificationManager.open({type:"error",text:t})};return{pluginLoadError:function(e,t){n(e,function(e,t){e=i(t,e.suffix);return e?"Failed to load plugin: "+e+" from url "+t:"Failed to load plugin url: "+t}(e,t))},uploadError:function(e,t){n(e,"Failed to upload image: "+t)},displayError:n,contentCssError:function(e,t){n(e,"Failed to load content css: "+t[0])},initError:function(e){var t=window.console;t&&!window.test&&(t.error||t.log).apply(t,arguments)}}}),r("tinymce.core.caret.CaretContainerInput",["ephox.katamari.api.Fun","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorFind","tinymce.core.caret.CaretContainer"],function(t,n,r,i){function o(e,t){var n=a(e);n&&("compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),s(n)):i.hasContent(n)&&s(e,n))}var a=function(e){return r.descendant(n.fromDom(e.getBody()),"*[data-mce-caret]").fold(t.constant(null),function(e){return e.dom()})},s=function(e,t){t.hasAttribute("data-mce-caret")&&(i.showCaretContainerBlock(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))};return{setup:function(e){e.on("keyup compositionstart",t.curry(o,e))}}}),r("tinymce.core.file.Uploader",["tinymce.core.util.Promise","tinymce.core.util.Tools","tinymce.core.util.Fun"],function(f,o,e){return function(s,c){var r={};function n(e,n,r,t){var i,o=new XMLHttpRequest;o.open("POST",c.url),o.withCredentials=c.credentials,o.upload.onprogress=function(e){t(e.loaded/e.total*100)},o.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+o.status)},o.onload=function(){var e,t;o.status<200||300<=o.status?r("HTTP Error: "+o.status):(t=JSON.parse(o.responseText))&&"string"==typeof t.location?n((e=c.basePath,t=t.location,e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t)):r("Invalid JSON: "+o.responseText)},(i=new FormData).append("file",e.blob(),e.filename()),o.send(i)}function l(e,t){return{url:t,blobInfo:e,status:!0}}function u(e,t){return{url:"",blobInfo:e,status:!1,error:t}}function d(e,t){o.each(r[e],function(e){e(t)}),delete r[e]}function i(e,n){return e=o.grep(e,function(e){return!s.isUploaded(e.blobUri())}),f.all(o.map(e,function(e){return s.isPending(e.blobUri())?(t=e.blobUri(),new f(function(e){r[t]=r[t]||[],r[t].push(e)})):(i=e,o=c.handler,a=n,s.markPending(i.blobUri()),new f(function(t){function e(){}var n;try{var r=function(){n&&(n.close(),0)};o(i,function(e){r(),s.markUploaded(i.blobUri(),e),d(i.blobUri(),l(i,e)),t(l(i,e))},function(e){r(),s.removeFailed(i.blobUri()),d(i.blobUri(),u(i,e)),t(u(i,e))},function(e){e<0||100<e||(n=n||a()).progressBar.value(e)})}catch(e){t(u(i,e.message))}}));var i,o,a,t}))}return c=o.extend({credentials:!1,handler:n},c),{upload:function(e,t){return c.url||c.handler!==n?i(e,t):new f(function(e){e([])})}}}}),r("tinymce.core.file.Conversions",["tinymce.core.util.Promise"],function(t){function a(e){var t,n;return e=decodeURIComponent(e).split(","),{type:t=(n=/data:([^;]+)/.exec(e[0]))?n[1]:t,data:e[1]}}return{uriToBlob:function(e){var i,o;return 0===e.indexOf("blob:")?(i=e,new t(function(e,t){function n(){t("Cannot convert "+i+" to Blob. Resource might not exist or is inaccessible.")}try{var r=new XMLHttpRequest;r.open("GET",i,!0),r.responseType="blob",r.onload=function(){200==this.status?e(this.response):n()},r.onerror=n,r.send()}catch(e){n()}})):0===e.indexOf("data:")?(o=e,new t(function(t){var e,n,r;o=a(o);try{e=atob(o.data)}catch(e){return void t(new Blob([]))}for(n=new Uint8Array(e.length),r=0;r<n.length;r++)n[r]=e.charCodeAt(r);t(new Blob([n],{type:o.type}))})):null},blobToDataUri:function(n){return new t(function(e){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsDataURL(n)})},parseDataUri:a}}),r("tinymce.core.file.ImageScanner",["tinymce.core.util.Promise","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.file.Conversions","tinymce.core.Env"],function(t,o,a,u,s){var n=0,d=function(e){return(e||"blobid")+n++};return function(r,l){var i={};return{findAll:function(e,n){return n=n||a.constant(!0),e=o.filter((e=e)?e.getElementsByTagName("img"):[],function(e){var t=e.src;return!!s.fileApi&&(!e.hasAttribute("data-mce-bogus")&&(!e.hasAttribute("data-mce-placeholder")&&(!(!t||t==s.transparentSrc)&&(0===t.indexOf("blob:")?!r.isUploaded(t):0===t.indexOf("data:")&&n(e)))))}),e=o.map(e,function(c){var e;return i[c.src]?new t(function(t){i[c.src].then(function(e){if("string"==typeof e)return e;t({image:c,blobInfo:e.blobInfo})})}):(e=new t(function(e,t){var n,r,i,o,a,s;n=l,i=e,o=t,0===(r=c).src.indexOf("blob:")?(s=n.getByUri(r.src))?i({image:r,blobInfo:s}):u.uriToBlob(r.src).then(function(t){u.blobToDataUri(t).then(function(e){a=u.parseDataUri(e).data,s=n.create(d(),t,a),n.add(s),i({image:r,blobInfo:s})})},function(e){o(e)}):(a=u.parseDataUri(r.src).data,(s=n.findFirst(function(e){return e.base64()===a}))?i({image:r,blobInfo:s}):u.uriToBlob(r.src).then(function(e){s=n.create(d(),e,a),n.add(s),i({image:r,blobInfo:s})},function(e){o(e)}))}).then(function(e){return delete i[e.image.src],e}).catch(function(e){return delete i[c.src],e}),i[c.src]=e)}),t.all(e)}}}}),r("tinymce.core.util.Uuid",[],function(){var n=0;return{uuid:function(e){return e+n+++("s"+(new Date).getTime().toString(36)+t()+t()+t());function t(){return Math.round(4294967295*Math.random()).toString(36)}}}}),t("global!URL",URL),r("tinymce.core.file.BlobCache",["tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.util.Uuid","global!URL"],function(o,a,s,c){return function(){var n=[],r=a.constant;function i(e){var t,n;if(e.blob&&e.base64)return t=e.id||s.uuid("blobid"),n=e.name||t,{id:r(t),name:r(n),filename:r(n+"."+({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[e.blob.type.toLowerCase()]||"dat")),blob:r(e.blob),base64:r(e.base64),blobUri:r(e.blobUri||c.createObjectURL(e.blob)),uri:r(e.uri)};throw"blob and base64 representations of the image are required for BlobInfo to be created"}function t(t){return e(function(e){return e.id()===t})}function e(e){return o.filter(n,e)[0]}return{create:function(e,t,n,r){return i("object"==typeof e?e:{id:e,name:r,blob:t,base64:n})},add:function(e){t(e.id())||n.push(e)},get:t,getByUri:function(t){return e(function(e){return e.blobUri()==t})},findFirst:e,removeByUri:function(t){n=o.filter(n,function(e){return e.blobUri()!==t||(c.revokeObjectURL(e.blobUri()),!1)})},destroy:function(){o.each(n,function(e){c.revokeObjectURL(e.blobUri())}),n=[]}}}}),r("tinymce.core.file.UploadStatus",[],function(){return function(){var n={};function r(e,t){return{status:e,resultUri:t}}function t(e){return e in n}return{hasBlobUri:t,getResultUri:function(e){return(e=n[e])?e.resultUri:null},isPending:function(e){return!!t(e)&&1===n[e].status},isUploaded:function(e){return!!t(e)&&2===n[e].status},markPending:function(e){n[e]=r(1,null)},markUploaded:function(e,t){n[e]=r(2,t)},removeFailed:function(e){delete n[e]},destroy:function(){n={}}}}}),r("tinymce.core.EditorUpload",["tinymce.core.util.Arr","tinymce.core.file.Uploader","tinymce.core.file.ImageScanner","tinymce.core.file.BlobCache","tinymce.core.file.UploadStatus","tinymce.core.ErrorReporter"],function(y,v,b,x,C,w){return function(r){var i,e,o=new x,n=r.settings,a=new C;function s(t){return function(e){return r.selection?t(e):[]}}function c(e,t,n){for(var r=0;-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1),-1!==r;);return e}function l(e,t,n){return e=c(e,'src="'+t+'"','src="'+n+'"'),e=c(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')}function u(t,n){y.each(r.undoManager.data,function(e){"fragmented"===e.type?e.fragments=y.map(e.fragments,function(e){return l(e,t,n)}):e.content=l(e.content,t,n)})}function d(){return r.notificationManager.open({text:r.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function f(e,t){o.removeByUri(e.src),u(e.src,t),r.$(e).attr({src:n.images_reuse_filename?t+("?"+(new Date).getTime()):t,"data-mce-src":r.convertURL(t,"src")})}function t(t){return i=i||new v(a,{url:n.images_upload_url,basePath:n.images_upload_base_path,credentials:n.images_upload_credentials,handler:n.images_upload_handler}),p().then(s(function(n){var e=y.map(n,function(e){return e.blobInfo});return i.upload(e,d).then(s(function(e){e=y.map(e,function(e,t){t=n[t].image;return e.status&&!1!==r.settings.images_replace_blob_uris?f(t,e.url):e.error&&w.uploadError(r,e.error),{element:t,status:e.status}});return t&&t(e),e}))}))}function m(e){if(!1!==n.automatic_uploads)return t(e)}function h(e){return!n.images_dataimg_filter||n.images_dataimg_filter(e)}function p(){return(e=e||new b(a,o)).findAll(r.getBody(),h).then(s(function(e){return e=y.filter(e,function(e){return"string"!=typeof e||(w.displayError(r,e),!1)}),y.each(e,function(e){u(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),e}))}function g(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,n){var t=a.getResultUri(n);return t?'src="'+t+'"':(t=(t=o.getByUri(n))||y.reduce(r.editorManager.editors,function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null))?'src="data:'+t.blob().type+";base64,"+t.base64()+'"':e})}return r.on("setContent",function(){(!1!==r.settings.automatic_uploads?m:p)()}),r.on("RawSaveContent",function(e){e.content=g(e.content)}),r.on("getContent",function(e){e.source_view||"raw"==e.format||(e.content=g(e.content))}),r.on("PostRender",function(){r.parser.addNodeFilter("img",function(e){y.each(e,function(e){var t=e.attr("src");o.getByUri(t)||(t=a.getResultUri(t))&&e.attr("src",t)})})}),{blobCache:o,uploadImages:t,uploadImagesAuto:m,scanForImages:p,destroy:function(){o.destroy(),a.destroy(),e=i=null}}}}),r("tinymce.core.ForceBlocks",["ephox.katamari.api.Fun"],function(t){function n(e){var t,n,r,i,o,a,s,c,l,u,d=e.settings,f=e.dom,m=e.selection,h=e.schema,p=h.getBlockElements(),g=m.getStart(),y=e.getBody(),v=d.forced_root_block;if(g&&1===g.nodeType&&v){for(;g&&g!==y;){if(p[g.nodeName])return;g=g.parentNode}if((d=m.getRng()).setStart){t=d.startContainer,n=d.startOffset,r=d.endContainer,i=d.endOffset;try{c=e.getDoc().activeElement===y}catch(e){}}else d.item&&(g=d.item(0),(d=e.getDoc().body.createTextRange()).moveToElementText(g)),c=d.parentElement().ownerDocument===e.getDoc(),(l=d.duplicate()).collapse(!0),n=-1*l.move("character",-16777215),l.collapsed||((l=d.duplicate()).collapse(!1),i=-1*l.move("character",-16777215)-n);for(g=y.firstChild,u=y.nodeName.toLowerCase();g;)(3===g.nodeType||1==g.nodeType&&!p[g.nodeName])&&h.isValidChild(u,v.toLowerCase())?3===g.nodeType&&0===g.nodeValue.length?(g=(a=g).nextSibling,f.remove(a)):(o||(o=f.create(v,e.settings.forced_root_block_attrs),g.parentNode.insertBefore(o,g),s=!0),g=(a=g).nextSibling,o.appendChild(a)):(o=null,g=g.nextSibling);if(s&&c){if(d.setStart)d.setStart(t,n),d.setEnd(r,i),m.setRng(d);else try{(d=e.getDoc().body.createTextRange()).moveToElementText(y),d.collapse(!0),d.moveStart("character",n),0<i&&d.moveEnd("character",i),d.select()}catch(e){}e.nodeChanged()}}}return{setup:function(e){e.settings.forced_root_block&&e.on("NodeChange",t.curry(n,e))}}}),r("tinymce.core.dom.Dimensions",["tinymce.core.util.Arr","tinymce.core.dom.NodeType","tinymce.core.geom.ClientRect"],function(i,o,a){return{getClientRects:function n(t){function e(e){return i.map(e,function(e){return(e=a.clone(e)).node=t,e})}var r;return i.isArray(t)?i.reduce(t,function(e,t){return e.concat(n(t))},[]):o.isElement(t)?e(t.getClientRects()):o.isText(t)?((r=t.ownerDocument.createRange()).setStart(t,0),r.setEnd(t,t.data.length),e(r.getClientRects())):void 0}}}),r("tinymce.core.caret.LineUtils",["tinymce.core.util.Fun","tinymce.core.util.Arr","tinymce.core.dom.NodeType","tinymce.core.dom.Dimensions","tinymce.core.geom.ClientRect","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretCandidate"],function(e,a,t,i,o,n,s){var c=t.isContentEditableFalse,l=n.findNode,u=e.curry;function d(e,t){return Math.abs(e.left-t)}function f(e,t){return Math.abs(e.right-t)}function m(e,i){function o(e,t){return e>=t.left&&e<=t.right}return a.reduce(e,function(e,t){var n=Math.min(d(e,i),f(e,i)),r=Math.min(d(t,i),f(t,i));return o(i,t)||!o(i,e)&&(r==n&&c(t.node)||r<n)?t:e})}function h(e,t,n,r){for(;r=l(r,e,s.isEditableCaretCandidate,t);)if(n(r))return}function p(e,n){var r=[];function t(t,e){e=a.filter(i.getClientRects(e),function(e){return!t(e,n)});return r=r.concat(e),0===e.length}return r.push(n),h(-1,e,u(t,o.isAbove),n.node),h(1,e,u(t,o.isBelow),n.node),r}return{findClosestClientRect:m,findLineNodeRects:p,closestCaret:function(e,t,n){var r=i.getClientRects(a.filter(a.toArray(e.getElementsByTagName("*")),c));return(r=(r=m(r=a.filter(r,function(e){return n>=e.top&&n<=e.bottom}),t))&&m(p(e,r),t))&&c(r.node)?(e=t,{node:(t=r).node,before:d(t,e)<f(t,e)}):null}}}),r("tinymce.core.caret.LineWalker",["tinymce.core.util.Fun","tinymce.core.util.Arr","tinymce.core.dom.Dimensions","tinymce.core.caret.CaretCandidate","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.caret.CaretPosition","tinymce.core.geom.ClientRect"],function(e,m,d,f,h,p,g,y){e=e.curry;function t(i,o,a,e,s,t){var c,l=0,u=[];function n(e){var t,n,r=d.getClientRects(e);for(-1==i&&(r=r.reverse()),t=0;t<r.length;t++)if(n=r[t],!a(n,c)){if(0<u.length&&o(n,m.last(u))&&l++,n.line=l,s(n))return!0;u.push(n)}}return(c=m.last(t.getClientRects()))&&(n(t=t.getNode()),function(e,t,n,r){for(;r=h.findNode(r,e,f.isEditableCaretCandidate,t);)if(n(r))return}(i,e,n,t)),u}return{upUntil:e(t,-1,y.isAbove,y.isBelow),downUntil:e(t,1,y.isBelow,y.isAbove),positionsUntil:function(e,t,n,r){var i,o,a,s,c,l,t=new p(t),u=[],d=0;function f(e){return m.last(e.getClientRects())}l=f(s=1==e?(i=t.next,o=y.isBelow,a=y.isAbove,g.after(r)):(i=t.prev,o=y.isAbove,a=y.isBelow,g.before(r)));do{if(s.isVisible()&&!a(c=f(s),l)){if(0<u.length&&o(c,m.last(u))&&d++,(c=y.clone(c)).position=s,c.line=d,n(c))return u;u.push(c)}}while(s=i(s));return u},isAboveLine:e(function(e,t){return t.line>e}),isLine:e(function(e,t){return t.line===e})}}),r("tinymce.core.keyboard.CefUtils",["tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.dom.NodeType","tinymce.core.util.Fun"],function(n,r,e,i){function o(e,t,n,r){return t._selectionOverrides.showCaret(e,n,r)}function a(e,t){return t=r.normalizeRange(1,e.getBody(),t),t=n.fromRangeStart(t),c(t.getNode())?o(1,e,t.getNode(),!t.isAtEnd()):c(t.getNode(!0))?o(1,e,t.getNode(!0),!1):(t=e.dom.getParent(t.getNode(),i.or(c,s)),c(t)?o(1,e,t,!1):null)}var s=e.isContentEditableTrue,c=e.isContentEditableFalse;return{showCaret:o,selectNode:function(e,t){return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?null:((t=(e=t).ownerDocument.createRange()).selectNode(e),t)},renderCaretAtRange:a,renderRangeCaret:function(e,t){return t&&t.collapsed&&(e=a(e,t))?e:t}}}),r("tinymce.core.keyboard.CefNavigation",["tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.caret.LineUtils","tinymce.core.caret.LineWalker","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.Env","tinymce.core.keyboard.CefUtils","tinymce.core.util.Arr","tinymce.core.util.Fun"],function(s,a,c,l,u,d,f,e,m,h,p,g){function y(e,t,n){return n=c.normalizeRange(e,t,n),-1===e?a.fromRangeStart(n):a.fromRangeEnd(n)}var v=f.isContentEditableFalse,b=e.getSelectedNode,x=c.isAfterContentEditableFalse,C=c.isBeforeContentEditableFalse,w=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},k=function(e,t,n,r,i){var o,a;return!i.collapsed&&(a=b(i),v(a))?h.showCaret(e,t,a,-1===e):(a=s.isCaretContainerBlock(i.startContainer),r(o=y(e,t.getBody(),i))?h.selectNode(t,o.getNode(-1===e)):(o=n(o))?r(o)?h.showCaret(e,t,o.getNode(-1===e),1===e):r(r=n(o))&&function(e,t){t=c.isInSameBlock(e,t);return!(t||!f.isBr(e.getNode()))||t}(o,r)?h.showCaret(e,t,r.getNode(-1===e),1===e):a?h.renderRangeCaret(t,o.toRange()):null:a?i:null)},E=function(e,t,n,r){var i,o=b(r),r=y(e,t.getBody(),r),n=n(t.getBody(),d.isAboveLine(1),r),n=p.filter(n,d.isLine(1)),a=p.last(r.getClientRects());return C(r)&&(o=r.getNode()),x(r)&&(o=r.getNode(!0)),a?(r=a.left,(a=u.findClosestClientRect(n,r))&&v(a.node)?(n=Math.abs(r-a.left),i=Math.abs(r-a.right),h.showCaret(e,t,a.node,n<i)):o&&(n=d.positionsUntil(e,t.getBody(),d.isAboveLine(1),o),(a=u.findClosestClientRect(p.filter(n,d.isLine(1)),r))||(a=p.last(p.filter(n,d.isLine(0)))))?h.renderRangeCaret(t,a.position.toRange()):void 0):null},S=function(e,t,n){var r,i=new l(e.getBody()),o=g.curry(w,i.next),i=g.curry(w,i.prev);n.collapsed&&e.settings.forced_root_block&&(r=e.dom.getParent(n.startContainer,"PRE"))&&!(1===t?o:i)(a.fromRangeStart(n))&&(o=function(e){e=e.dom.create(e.settings.forced_root_block);return(!m.ie||11<=m.ie)&&(e.innerHTML='<br data-mce-bogus="1">'),e}(e),1===t?e.$(r).after(o):e.$(r).before(o),e.selection.select(o,!0),e.selection.collapse())};return{moveH:function(o,a){return function(){t=a,i=new l((e=o).getBody()),n=g.curry(w,i.next),i=g.curry(w,i.prev),r=t?1:-1,n=t?n:i,i=t?C:x,t=e.selection.getRng();var e,t,n,r,i=(n=k(r,e,n,i,t))||((n=S(e,r,t))?n:null);return!!i&&(o.selection.setRng(i),!0)}},moveV:function(i,o){return function(){r=i,t=(e=o)?1:-1,e=e?d.downUntil:d.upUntil,n=r.selection.getRng();var e,t,n,r=(e=E(t,r,e,n))||((e=S(r,t,n))?e:null);return!!r&&(i.selection.setRng(r),!0)}}}}),r("ephox.katamari.api.Merger",["ephox.katamari.api.Type","global!Array","global!Error"],function(n,s,c){function e(a){return function(){for(var e=new s(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];if(0===e.length)throw new c("Can't merge zero objects");for(var n={},r=0;r<e.length;r++){var i,o=e[r];for(i in o)o.hasOwnProperty(i)&&(n[i]=a(n[i],o[i]))}return n}}var r=e(function(e,t){return n.isObject(e)&&n.isObject(t)?r(e,t):t}),t=e(function(e,t){return t});return{deepMerge:r,merge:t}}),r("tinymce.core.keyboard.MatchKeys",["ephox.katamari.api.Arr","ephox.katamari.api.Fun","ephox.katamari.api.Merger"],function(n,t,i){function r(e,r){return n.bind(n.map(e,function(e){return i.merge({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:t.noop},e)}),function(e){return t=e,(n=r).keyCode===t.keyCode&&n.shiftKey===t.shiftKey&&n.altKey===t.altKey&&n.ctrlKey===t.ctrlKey&&n.metaKey===t.metaKey?[e]:[];var t,n})}return{match:r,action:function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}},execute:function(e,t){return n.find(r(e,t),function(e){return e.action()})}}}),r("tinymce.core.keyboard.ArrowKeys",["tinymce.core.keyboard.BoundarySelection","tinymce.core.keyboard.CefNavigation","tinymce.core.keyboard.MatchKeys","tinymce.core.util.VK"],function(a,s,c,l){return{setup:function(i,o){i.on("keydown",function(e){var t,n,r;!1===e.isDefaultPrevented()&&(t=i,n=o,r=e,c.execute([{keyCode:l.RIGHT,action:s.moveH(t,!0)},{keyCode:l.LEFT,action:s.moveH(t,!1)},{keyCode:l.UP,action:s.moveV(t,!1)},{keyCode:l.DOWN,action:s.moveV(t,!0)},{keyCode:l.RIGHT,action:a.move(t,n,!0)},{keyCode:l.LEFT,action:a.move(t,n,!1)}],r).each(function(e){r.preventDefault()}))})}}}),r("tinymce.core.keyboard.DeleteBackspaceKeys",["tinymce.core.delete.BlockBoundaryDelete","tinymce.core.delete.BlockRangeDelete","tinymce.core.delete.CefDelete","tinymce.core.delete.InlineBoundaryDelete","tinymce.core.keyboard.MatchKeys","tinymce.core.util.VK"],function(a,s,c,l,u,d){return{setup:function(i,o){i.on("keydown",function(e){var t,n,r;!1===e.isDefaultPrevented()&&(t=i,n=o,r=e,u.execute([{keyCode:d.BACKSPACE,action:u.action(c.backspaceDelete,t,!1)},{keyCode:d.DELETE,action:u.action(c.backspaceDelete,t,!0)},{keyCode:d.BACKSPACE,action:u.action(l.backspaceDelete,t,n,!1)},{keyCode:d.DELETE,action:u.action(l.backspaceDelete,t,n,!0)},{keyCode:d.BACKSPACE,action:u.action(s.backspaceDelete,t,!1)},{keyCode:d.DELETE,action:u.action(s.backspaceDelete,t,!0)},{keyCode:d.BACKSPACE,action:u.action(a.backspaceDelete,t,!1)},{keyCode:d.DELETE,action:u.action(a.backspaceDelete,t,!0)}],r).each(function(e){r.preventDefault()}))}),i.on("keyup",function(e){var t;!1===e.isDefaultPrevented()&&(t=i,e=e,u.execute([{keyCode:d.BACKSPACE,action:u.action(c.paddEmptyElement,t)},{keyCode:d.DELETE,action:u.action(c.paddEmptyElement,t)}],e))})}}}),r("tinymce.core.keyboard.EnterKey",["tinymce.core.caret.CaretContainer","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.dom.TreeWalker","tinymce.core.Env","tinymce.core.text.Zwsp","tinymce.core.util.Tools"],function(O,r,M,L,I,i,t){function F(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t}function H(e){e.innerHTML=V?"":'<br data-mce-bogus="1">'}function U(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t}function z(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)}function W(e,t,n){var r;e.isBlock(n)&&(r=t.getRng(),n.appendChild(e.create("span",null,"")),t.select(n),n.lastChild.outerHTML="",t.setRng(r))}var V=I.ie&&I.ie<11,q=function(e){return e&&"A"===e.nodeName&&0===t.trim(i.trim(e.innerText||e.textContent)).length},j=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},$=function(e,t,n){return!1===r.isText(t)?n:e?1===n&&t.data.charAt(n-1)===i.ZWSP?0:n:n===t.data.length-1&&t.data.charAt(n)===i.ZWSP?t.data.length:n};return{setup:function(N){var T=N.dom,R=N.selection,_=N.settings,B=N.undoManager,A=N.schema,D=A.getNonEmptyElements(),P=A.getMoveCaretBeforeOnEnterElements();function t(e){var l,i,u,a,o,s,c,t,d,f,m,n,h,p,r,g;function y(e){var t,n,r,i,o,a=e;if(e){if(I.ie&&I.ie<9&&s&&s.firstChild&&s.firstChild==s.lastChild&&"BR"==s.firstChild.tagName&&T.remove(s.firstChild),!/^(LI|DT|DD)$/.test(e.nodeName)||(o=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(e.firstChild))&&/^(UL|OL|DL)$/.test(o.nodeName)&&e.insertBefore(T.doc.createTextNode(""),e.firstChild),r=T.createRng(),I.ie||e.normalize(),e.hasChildNodes()){for(t=new L(e,e);n=t.current();){if(3==n.nodeType){r.setStart(n,0),r.setEnd(n,0);break}if(P[n.nodeName.toLowerCase()]){r.setStartBefore(n),r.setEndBefore(n);break}a=n,n=t.next()}n||(r.setStart(a,0),r.setEnd(a,0))}else"BR"==e.nodeName?e.nextSibling&&T.isBlock(e.nextSibling)?((!c||c<9)&&(i=T.create("br"),e.parentNode.insertBefore(i,e)),r.setStartBefore(e),r.setEndBefore(e)):(r.setStartAfter(e),r.setEndAfter(e)):(r.setStart(e,0),r.setEnd(e,0));R.setRng(r),T.remove(i),R.scrollIntoView(e)}}function v(e){var t=_.forced_root_block;t&&t.toLowerCase()===e.tagName.toLowerCase()&&T.setAttribs(e,_.forced_root_block_attrs)}function b(e){var t,n,r,i=a,o=A.getTextInlineElements();if(e||"TABLE"==m||"HR"==m?v(t=T.create(e||h)):t=s.cloneNode(!1),r=t,!1===_.keep_styles)T.setAttrib(t,"style",null),T.setAttrib(t,"class",null);else for(;o[i.nodeName]&&"_mce_caret"!=i.id&&(n=i.cloneNode(!1),T.setAttrib(n,"id",""),t.hasChildNodes()?n.appendChild(t.firstChild):r=n,t.appendChild(n)),(i=i.parentNode)&&i!=u;);return V||(r.innerHTML='<br data-mce-bogus="1">'),t}function x(e){var t,n,r,i=$(e,a,o);if(3!=a.nodeType||!(e?0<i:i<a.nodeValue.length)){if((a.parentNode!=s||!p||e)&&(!e||1!=a.nodeType||a!=s.firstChild)){if(U(a,"TABLE")||U(a,"HR"))return p&&!e||!p&&e;for(t=new L(a,s),3==a.nodeType&&(e&&0===i?t.prev():e||i!=a.nodeValue.length||t.next());n=t.current();){if(1===n.nodeType){if(!n.getAttribute("data-mce-bogus")&&(r=n.nodeName.toLowerCase(),D[r]&&"br"!==r))return}else if(3===n.nodeType&&!/^[ \t\r\n]*$/.test(n.nodeValue))return;e?t.prev():t.next()}}return 1}}function C(){function e(e){for(var t=f[e?"firstChild":"lastChild"];t&&1!=t.nodeType;)t=t[e?"nextSibling":"previousSibling"];return t===s}function t(){var e=f.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:f}var n,r;f!=N.getBody()&&(j(r=f)&&j(r.parentNode)&&(h="LI"),d=h?b(h):T.create("BR"),e(!0)&&e()?F(f,"LI")?T.insertAfter(d,t()):T.replace(d,f):e(!0)?F(f,"LI")?(T.insertAfter(d,t()),d.appendChild(T.doc.createTextNode(" ")),d.appendChild(f)):f.parentNode.insertBefore(d,f):e()?(T.insertAfter(d,t()),W(T,R,d)):(f=t(),(i=l.cloneRange()).setStartAfter(s),i.setEndAfter(f),E=i.extractContents(),"LI"===h&&(r="LI",(n=E).firstChild&&n.firstChild.nodeName==r)?(d=E.firstChild,T.insertAfter(E,f)):(T.insertAfter(E,f),T.insertAfter(d,f))),T.remove(s),y(d),B.add())}function w(){N.execCommand("InsertLineBreak",!1,e)}function k(){d=/^(H[1-6]|PRE|FIGURE)$/.test(m)&&"HGROUP"!=n?b(h):b(),_.end_container_on_empty_block&&z(T,f)&&T.isEmpty(s)?d=T.split(f,s):T.insertAfter(d,s),y(d)}if(l=R.getRng(!0),!e.isDefaultPrevented())if(l.collapsed){if(new M(T).normalize(l),a=l.startContainer,o=l.startOffset,h=(h=(_.force_p_newlines?"p":"")||_.forced_root_block)?h.toUpperCase():"",c=T.doc.documentMode,t=e.shiftKey,1==a.nodeType&&a.hasChildNodes()&&(p=o>a.childNodes.length-1,a=a.childNodes[Math.min(o,a.childNodes.length-1)]||a,o=p&&3==a.nodeType?a.nodeValue.length:0),u=function(e){for(var t,n=T.getRoot(),r=e;r!==n&&"false"!==T.getContentEditable(r);)"true"===T.getContentEditable(r)&&(t=r),r=r.parentNode;return r!==n?t:n}(a))if(B.beforeChange(),T.isBlock(u)||u==T.getRoot()){if((h&&!t||!h&&t)&&(a=function(e,t){var n,r,i,o,a,s=h||"P",c=T.getParent(e,T.isBlock);if(!c||!z(T,c)){if(a=((c=c||u)==N.getBody()||(a=c)&&/^(TD|TH|CAPTION)$/.test(a.nodeName)?c:c.parentNode).nodeName.toLowerCase(),!c.hasChildNodes())return v(n=T.create(s)),c.appendChild(n),l.setStart(n,0),l.setEnd(n,0),n;for(i=e;i.parentNode!=c;)i=i.parentNode;for(;i&&!T.isBlock(i);)i=(r=i).previousSibling;if(r&&A.isValidChild(a,s.toLowerCase())){for(v(n=T.create(s)),r.parentNode.insertBefore(n,r),i=r;i&&!T.isBlock(i);)o=i.nextSibling,n.appendChild(i),i=o;l.setStart(e,t),l.setEnd(e,t)}}return e}(a,o)),s=T.getParent(a,T.isBlock),f=s?T.getParent(s.parentNode,T.isBlock):null,m=s?s.nodeName.toUpperCase():"","LI"!=(n=f?f.nodeName.toUpperCase():"")||e.ctrlKey||(f=(s=f).parentNode,m=n),N.undoManager.typing&&(N.undoManager.typing=!1,N.undoManager.add()),/^(LI|DT|DD)$/.test(m)){if(!h&&t)return void w();if(T.isEmpty(s))return void C()}if("PRE"==m&&!1!==_.br_in_pre){if(!t)return void w()}else if(!h&&!t&&"LI"!=m||h&&t)return void w();if(!h||s!==N.getBody()){if(h=h||"P",O.isCaretContainerBlock(s))d=O.showCaretContainerBlock(s),T.isEmpty(s)&&H(s),y(d);else if(x())k();else if(x(!0))d=s.parentNode.insertBefore(b(),s),W(T,R,d),U(s,"HR")?y(d):y(s);else{(g=(r=l).cloneRange()).setStart(r.startContainer,$(!0,r.startContainer,r.startOffset)),g.setEnd(r.endContainer,$(!1,r.endContainer,r.endOffset)),(i=g.cloneRange()).setEndAfter(s);for(var E,S=E=i.extractContents();3===S.nodeType&&(S.nodeValue=S.nodeValue.replace(/^[\r\n]+/,"")),S=S.firstChild;);d=E.firstChild,T.insertAfter(E,s),!function(e,t,n){var r,i=n,o=[];if(i){for(;i=i.firstChild;){if(e.isBlock(i))return;1!=i.nodeType||t[i.nodeName.toLowerCase()]||o.push(i)}for(r=o.length;r--;)(!(i=o[r]).hasChildNodes()||i.firstChild==i.lastChild&&""===i.firstChild.nodeValue||q(i))&&e.remove(i)}}(T,D,d),r=s,V||(r.normalize(),(g=r.lastChild)&&!/^(left|right)$/gi.test(T.getStyle(g,"float",!0))||T.add(r,"br")),T.isEmpty(s)&&H(s),d.normalize(),T.isEmpty(d)?(T.remove(d),k()):y(d)}T.setAttrib(d,"id",""),N.fire("NewBlock",{newBlock:d}),B.typing=!1,B.add()}}else h&&!t||w()}else N.execCommand("Delete")}N.on("keydown",function(e){13==e.keyCode&&(t(e),e.preventDefault())})}}}),r("tinymce.core.keyboard.InsertSpace",["ephox.katamari.api.Fun","tinymce.core.caret.CaretPosition","tinymce.core.dom.NodeType","tinymce.core.keyboard.BoundaryLocation","tinymce.core.keyboard.InlineUtils"],function(r,i,n,o,a){function s(e,t){return e.fold(r.constant(!1),r.constant(!0),r.constant(!0),r.constant(!1))&&n.isText(t.container())}var c=function(e,t,n){return!!s(n,t)&&(n=e,t=(e=t).container(),e=e.offset(),t.insertData(e,""),n.selection.setCursorLocation(t,e+1),!0)};return{insertAtSelection:function(e){return!!e.selection.isCollapsed()&&(e=e,t=r.curry(a.isInlineTarget,e),n=i.fromRangeStart(e.selection.getRng()),o.readLocation(t,e.getBody(),n).map(r.curry(c,e,n)).getOr(!1));var t,n}}}),r("tinymce.core.keyboard.SpaceKey",["tinymce.core.keyboard.InsertSpace","tinymce.core.keyboard.MatchKeys","tinymce.core.util.VK"],function(r,i,o){return{setup:function(n){n.on("keydown",function(e){var t;!1===e.isDefaultPrevented()&&(t=e,i.execute([{keyCode:o.SPACEBAR,action:i.action(r.insertAtSelection,n)}],t).each(function(e){t.preventDefault()}))})}}}),r("tinymce.core.keyboard.KeyboardOverrides",["tinymce.core.keyboard.ArrowKeys","tinymce.core.keyboard.BoundarySelection","tinymce.core.keyboard.DeleteBackspaceKeys","tinymce.core.keyboard.EnterKey","tinymce.core.keyboard.SpaceKey"],function(n,r,i,o,a){return{setup:function(e){var t=r.setupSelectedState(e);n.setup(e,t),i.setup(e,t),o.setup(e),a.setup(e)}}}),r("tinymce.core.NodeChange",["tinymce.core.dom.RangeUtils","tinymce.core.Env","tinymce.core.util.Delay"],function(o,t,a){return function(i){var n,r=[];"onselectionchange"in i.getDoc()||i.on("NodeChange Click MouseUp KeyUp Focus",function(e){var t=i.selection.getRng(),t={startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset};"nodechange"!=e.type&&o.compareRanges(t,n)||i.fire("SelectionChange"),n=t}),i.on("contextmenu",function(){i.fire("SelectionChange")}),i.on("SelectionChange",function(){var e=i.selection.getStart(!0);!e||!t.range&&i.selection.isCollapsed()||!function(e){var t,n=i.$(e).parentsUntil(i.getBody()).add(e);if(n.length===r.length){for(t=n.length;0<=t&&n[t]===r[t];t--);if(-1===t)return r=n,1}r=n}(e)&&i.dom.isChildOf(e,i.getBody())&&i.nodeChanged({selectionChange:!0})}),i.on("MouseUp",function(e){e.isDefaultPrevented()||("IMG"==i.selection.getNode().nodeName?a.setEditorTimeout(i,function(){i.nodeChanged()}):i.nodeChanged())}),this.nodeChanged=function(e){var t,n,r=i.selection;i.initialized&&r&&!i.settings.disable_nodechange&&!i.readonly&&(n=i.getBody(),(r=r.getStart(!0)||n).ownerDocument==i.getDoc()&&i.dom.isChildOf(r,n)||(r=n),t=[],i.dom.getParent(r,function(e){if(e===n)return!0;t.push(e)}),(e=e||{}).element=r,e.parents=t,i.fire("NodeChange",e))}}}),r("tinymce.core.caret.FakeCaret",["tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretContainerRemove","tinymce.core.caret.CaretPosition","tinymce.core.dom.DomQuery","tinymce.core.dom.NodeType","tinymce.core.dom.RangeUtils","tinymce.core.geom.ClientRect","tinymce.core.util.Delay"],function(m,o,e,h,t,n,p,g){var y=t.isContentEditableFalse;return function(s,c){var l,u,d;function f(){for(var e,t,n,r=h("*[contentEditable=false]",s),i=0;i<r.length;i++)t=(e=r[i]).previousSibling,m.endsWithCaretContainer(t)&&(1==(n=t.data).length?t.parentNode.removeChild(t):t.deleteData(n.length-1,1)),t=e.nextSibling,m.startsWithCaretContainer(t)&&(1==(n=t.data).length?t.parentNode.removeChild(t):t.deleteData(0,1));d&&(o.remove(d),d=null),u&&(u.remove(),u=null),clearInterval(l)}return{show:function(e,t){var n,r,i,o,a;return f(),(n=t)&&/^(TD|TH)$/i.test(n.nodeName)?null:(c(t)?(d=m.insertBlock("p",t,e),n=t,r=e,o=p.collapse(n.getBoundingClientRect(),r),a="BODY"==s.tagName?(a=s.ownerDocument.documentElement,i=s.scrollLeft||a.scrollLeft,s.scrollTop||a.scrollTop):(a=s.getBoundingClientRect(),i=s.scrollLeft-a.left,s.scrollTop-a.top),o.left+=i,o.right+=i,o.top+=a,o.bottom+=a,o.width=1,0<(i=n.offsetWidth-n.clientWidth)&&(r&&(i*=-1),o.left+=i,o.right+=i),a=o,h(d).css("top",a.top),u=h('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(a).appendTo(s),e&&u.addClass("mce-visual-caret-before"),l=g.setInterval(function(){h("div.mce-visual-caret",s).toggleClass("mce-visual-caret-hidden")},500),(r=t.ownerDocument.createRange()).setStart(d,0),r.setEnd(d,0)):(d=m.insertInline(t,e),r=t.ownerDocument.createRange(),y(d.nextSibling)?(r.setStart(d,0),r.setEnd(d,0)):(r.setStart(d,1),r.setEnd(d,1))),r)},hide:f,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},destroy:function(){g.clearInterval(l)}}}}),r("tinymce.core.dom.MousePosition",[],function(){var o=function(e){var t=e.getBoundingClientRect(),e=e.ownerDocument,n=e.documentElement,e=e.defaultView;return{top:t.top+e.pageYOffset-n.clientTop,left:t.left+e.pageXOffset-n.clientLeft}},a=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},t={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:t};return{calc:function(e,t){return i=(i=e).inline?o(i.getBody()):{left:0,top:0},r=(n=e).getBody(),n=n.inline?{left:r.scrollLeft,top:r.scrollTop}:{left:0,top:0},r=e,{pageX:(t=(e=t).target.ownerDocument!==r.getDoc()?(t=o(r.getContentAreaContainer()),r=a(r),{left:e.pageX-t.left+r.left,top:e.pageY-t.top+r.top}):{left:e.pageX,top:e.pageY}).left-i.left+n.left,pageY:t.top-i.top+n.top};var n,r,i}}}),r("tinymce.core.DragDropOverrides",["tinymce.core.dom.NodeType","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.util.Delay","tinymce.core.dom.DOMUtils","tinymce.core.dom.MousePosition"],function(e,s,c,t,u,f){function l(e){e.dragging=!1,e.element=null,h(e.ghost)}var d=e.isContentEditableFalse,m=e.isContentEditableTrue,h=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},p=function(o,a){return function(e){var t,n,r,i;0===e.button&&(n=s.find(a.dom.getParents(e.target),c.or(d,m)),r=a.getBody(),d(i=n)&&i!==r&&(i=a.dom.getPos(n),r=a.getBody(),t=a.getDoc().documentElement,o.element=n,o.screenX=e.screenX,o.screenY=e.screenY,o.maxX=(a.inline?r.scrollWidth:t.offsetWidth)-2,o.maxY=(a.inline?r.scrollHeight:t.offsetHeight)-2,o.relX=e.pageX-i.x,o.relY=e.pageY-i.y,o.width=n.offsetWidth,o.height=n.offsetHeight,o.ghost=(r=a,t=n,e=o.width,i=o.height,t=t.cloneNode(!0),r.dom.setStyles(t,{width:e,height:i}),r.dom.setAttrib(t,"data-mce-selected",null),n=r.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"}),r.dom.setStyles(n,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:e,height:i}),r.dom.setStyles(t,{margin:0,boxSizing:"border-box"}),n.appendChild(t),n)))}},g=function(l,u){var d=t.throttle(function(e,t){u._selectionOverrides.hideFakeCaret(),u.selection.placeCaretAt(e,t)},0);return function(e){var t,n,r,i,o,a,s,c=Math.max(Math.abs(e.screenX-l.screenX),Math.abs(e.screenY-l.screenY));if(l.element&&!l.dragging&&10<c){if(u.fire("dragstart",{target:l.element}).isDefaultPrevented())return;l.dragging=!0,u.focus()}l.dragging&&(c=l,c={pageX:(s=f.calc(u,e)).pageX-c.relX,pageY:s.pageY+5},s=l.ghost,a=u.getBody(),s.parentNode!==a&&a.appendChild(s),a=l.ghost,s=c,c=l.width,t=l.height,n=l.maxX,r=l.maxY,o=i=0,a.style.left=s.pageX+"px",a.style.top=s.pageY+"px",s.pageX+c>n&&(i=s.pageX+c-n),s.pageY+t>r&&(o=s.pageY+t-r),a.style.width=c-i+"px",a.style.height=t-o+"px",d(e.clientX,e.clientY))}},y=function(o,a){return function(e){var t,n,r,i;o.dragging&&(r=function(e){e=e.getSel().getRangeAt(0).startContainer;return 3===e.nodeType?e.parentNode:e}((n=a).selection),i=o.element,r===i||n.dom.isChildOf(r,i)||d(r)||(t=function(e){e=e.cloneNode(!0);return e.removeAttribute("data-mce-selected"),e}(o.element),(n=a.fire("drop",{targetClone:t,clientX:e.clientX,clientY:e.clientY})).isDefaultPrevented()||(t=n.targetClone,a.undoManager.transact(function(){h(o.element),a.insertContent(a.dom.getOuterHTML(t)),a._selectionOverrides.hideFakeCaret()})))),l(o)}},v=function(e,t){return function(){l(e),e.dragging&&t.fire("dragend")}};return{init:function(e){var t,n,r,i,o,a,s,c,l;t=e,n={},r=u.DOM,i=document,o=p(n,t),a=g(n,t),s=y(n,t),c=v(n,t),t.on("mousedown",o),t.on("mousemove",a),t.on("mouseup",s),r.bind(i,"mousemove",a),r.bind(i,"mouseup",c),t.on("remove",function(){r.unbind(i,"mousemove",a),r.unbind(i,"mouseup",c)}),(l=e).on("drop",function(e){var t=void 0!==e.clientX?l.getDoc().elementFromPoint(e.clientX,e.clientY):null;(d(t)||d(l.dom.getContentEditableParent(t)))&&e.preventDefault()})}}}),r("ephox.sugar.impl.Style",[],function(){return{isSupported:function(e){return void 0!==e.style}}}),r("ephox.sugar.api.properties.Css",["ephox.katamari.api.Type","ephox.katamari.api.Arr","ephox.katamari.api.Obj","ephox.katamari.api.Option","ephox.sugar.api.properties.Attr","ephox.sugar.api.node.Body","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","ephox.sugar.impl.Style","ephox.katamari.api.Strings","global!Error","global!console","global!window"],function(r,t,i,n,o,a,s,c,l,u,d,f,m){function h(e,t,n){if(!r.isString(n))throw f.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new d("CSS value must be a string: "+n);l.isSupported(e)&&e.style.setProperty(t,n)}function p(e,t){l.isSupported(e)&&e.style.removeProperty(t)}function g(e,t){return l.isSupported(e)?e.style.getPropertyValue(t):""}var y=function(e,t,n){e=e.dom();h(e,t,n)},v=function(e,t){e=e.dom(),e=g(e,t);return n.from(e).filter(function(e){return 0<e.length})};return{copy:function(e,t){e=e.dom(),t=t.dom();l.isSupported(e)&&l.isSupported(t)&&(t.style.cssText=e.style.cssText)},set:y,preserve:function(e,t){var n=o.get(e,"style"),t=t(e);return(void 0===n?o.remove:o.set)(e,"style",n),t},setAll:function(e,t){var n=e.dom();i.each(t,function(e,t){h(n,t,e)})},setOptions:function(e,t){var n=e.dom();i.each(t,function(e,t){e.fold(function(){p(n,t)},function(e){h(n,t,e)})})},remove:function(e,t){var n=e.dom();p(n,t),o.has(e,"style")&&""===u.trim(o.get(e,"style"))&&o.remove(e,"style")},get:function(e,t){var n=e.dom(),r=m.getComputedStyle(n).getPropertyValue(t),e=""!==r||a.inBody(e)?r:g(n,t);return null===e?void 0:e},getRaw:v,isValidValue:function(e,t,n){e=s.fromTag(e);return y(e,t,n),v(e,t).isSome()},reflow:function(e){return e.dom().offsetWidth},transfer:function(r,i,e){c.isElement(r)&&c.isElement(i)&&t.each(e,function(e){var t,n;t=i,v(r,n=e).each(function(e){v(t,n).isNone()&&y(t,n,e)})})}}}),r("tinymce.core.EditorView",["ephox.katamari.api.Fun","ephox.sugar.api.node.Element","ephox.sugar.api.properties.Css","ephox.sugar.api.search.Traverse"],function(e,a,n,s){function t(e,t){return t.dom()[e]}function r(e,t){return parseInt(n.get(t,e),10)}var c=e.curry(t,"clientWidth"),l=e.curry(t,"clientHeight"),u=e.curry(r,"margin-top"),d=e.curry(r,"margin-left"),f=function(e){return e.dom().getBoundingClientRect()};return{isXYInContentArea:function(e,t,n){var r,i,o=a.fromDom(e.getBody()),o=e.inline?o:s.documentElement(o),t=(e=e.inline,t=t,n=n,r=f(i=o),{x:t-(e?r.left+i.dom().clientLeft+d(i):0),y:n-(e?r.top+i.dom().clientTop+u(i):0)});return n=t.x,e=t.y,i=c(r=o),r=l(r),0<=n&&0<=e&&n<=i&&e<=r}}}),r("tinymce.core.SelectionOverrides",["ephox.katamari.api.Arr","ephox.sugar.api.dom.Remove","ephox.sugar.api.node.Element","ephox.sugar.api.properties.Attr","ephox.sugar.api.search.SelectorFilter","ephox.sugar.api.search.SelectorFind","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretUtils","tinymce.core.caret.CaretWalker","tinymce.core.caret.FakeCaret","tinymce.core.caret.LineUtils","tinymce.core.dom.NodeType","tinymce.core.dom.RangePoint","tinymce.core.DragDropOverrides","tinymce.core.EditorView","tinymce.core.Env","tinymce.core.keyboard.CefUtils","tinymce.core.util.Delay","tinymce.core.util.VK"],function(v,b,x,C,w,k,E,S,N,T,R,_,e,B,A,D,P,O,M,L){var I=e.isContentEditableTrue,F=e.isContentEditableFalse,H=N.isAfterContentEditableFalse,U=N.isBeforeContentEditableFalse;return function(s){var c,e,t,a=s.getBody(),r=new R(s.getBody(),function(e){return s.dom.isBlock(e)}),l="sel-"+s.dom.uniqueId();function u(e){e&&s.selection.setRng(e)}function d(){return s.selection.getRng()}function i(e,t){s.selection.scrollIntoView(e,t)}function f(e,t,n){return s.fire("ShowCaret",{target:t,direction:e,before:n}).isDefaultPrevented()?null:(i(t,-1===e),r.show(n,t))}function m(e,t){return t=N.normalizeRange(e,a,t),-1==e?S.fromRangeStart(t):S.fromRangeEnd(t)}function n(){function n(e){for(var t=s.getBody();e&&e!=t;){if(I(e)||F(e))return e;e=e.parentNode}return null}s.on("mouseup",function(e){var t=d();t.collapsed&&D.isXYInContentArea(s,e.clientX,e.clientY)&&u(O.renderCaretAtRange(s,t))}),s.on("click",function(e){var t=n(e.target);t&&(F(t)&&(e.preventDefault(),s.focus()),I(t)&&s.dom.isChildOf(t,s.selection.getNode())&&g())}),s.on("blur NewBlock",function(){g(),y()});function r(e,t){var e=s.dom.getParent(e,s.dom.isBlock),t=s.dom.getParent(t,s.dom.isBlock);return e&&(t=t,!(s.dom.getParent(e,s.dom.isBlock)===s.dom.getParent(t,s.dom.isBlock)))&&(e=new T(t=e),!!t.firstChild&&(t=S.before(t.firstChild),(e=e.next(t))&&!U(e)&&!H(e)))}var i,o;o=!1,(i=s).on("touchstart",function(){o=!1}),i.on("touchmove",function(){o=!0}),i.on("touchend",function(e){var t=n(e.target);F(t)&&!o&&(e.preventDefault(),p(O.selectNode(i,t)))}),s.on("mousedown",function(e){var t;!1!==D.isXYInContentArea(s,e.clientX,e.clientY)&&((t=n(e.target))?F(t)?(e.preventDefault(),p(O.selectNode(s,t))):(g(),I(t)&&e.shiftKey||B.isXYWithinRange(e.clientX,e.clientY,s.selection.getRng())||s.selection.placeCaretAt(e.clientX,e.clientY)):(g(),y(),(t=_.closestCaret(a,e.clientX,e.clientY))&&!r(e.target,t.node)&&(e.preventDefault(),s.getBody().focus(),u(f(1,t.node,t.before)))))}),s.on("keypress",function(e){L.modifierPressed(e)||(e.keyCode,F(s.selection.getNode())&&e.preventDefault())}),s.on("getSelectionRange",function(e){var t=e.range;c&&(c.parentNode?((t=t.cloneRange()).selectNode(c),e.range=t):c=null)}),s.on("setSelectionRange",function(e){var t=p(e.range,e.forward);t&&(e.range=t)}),s.on("AfterSetSelectionRange",function(e){var e=e.range;h(e)||y(),e=e.startContainer.parentNode,s.dom.hasClass(e,"mce-offscreen-selection")||g()}),s.on("focus",function(){M.setEditorTimeout(s,function(){s.selection.setRng(O.renderRangeCaret(s,s.selection.getRng()))},0)}),s.on("copy",function(e){var t,n=e.clipboardData;e.isDefaultPrevented()||!e.clipboardData||P.ie||(t=(t=s.dom.get(l))&&t.getElementsByTagName("*")[0])&&(e.preventDefault(),n.clearData(),n.setData("text/html",t.outerHTML),n.setData("text/plain",t.outerText))}),A.init(s)}function o(e){return E.isCaretContainer(e)||E.startsWithCaretContainer(e)||E.endsWithCaretContainer(e)}function h(e){return o(e.startContainer)||o(e.endContainer)}function p(e,t){var n,r,i,o=s.$,a=s.dom;if(!e)return null;if(e.collapsed){if(!h(e))if(!1===t){if(r=m(-1,e),F(r.getNode(!0)))return f(-1,r.getNode(!0),!1);if(F(r.getNode()))return f(-1,r.getNode(),!r.isAtEnd())}else{if(r=m(1,e),F(r.getNode()))return f(1,r.getNode(),!r.isAtEnd());if(F(r.getNode(!0)))return f(1,r.getNode(!0),!1)}return null}return t=e.startContainer,r=e.startOffset,i=e.endOffset,3==t.nodeType&&0==r&&F(t.parentNode)&&(t=t.parentNode,r=a.nodeIndex(t),t=t.parentNode),1!=t.nodeType||(i==r+1&&(n=t.childNodes[r]),!F(n)||(i=n.cloneNode(!0),(t=s.fire("ObjectSelected",{target:n,targetClone:i})).isDefaultPrevented()))?null:(r=k.descendant(x.fromDom(s.getBody()),"#"+l).fold(function(){return o([])},function(e){return o([e.dom()])}),t=t.targetClone,0===r.length&&(r=o('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",l)).appendTo(s.getBody()),e=s.dom.createRng(),t===i&&P.ie?(r.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(t),e.setStartAfter(r[0].firstChild.firstChild),e.setEndAfter(t)):(r.empty().append("").append(t).append(""),e.setStart(r[0].firstChild,1),e.setEnd(r[0].lastChild,0)),r.css({top:a.getPos(n,s.getBody()).y}),r[0].focus(),(i=s.selection.getSel()).removeAllRanges(),i.addRange(e),v.each(w.descendants(x.fromDom(s.getBody()),"*[data-mce-selected]"),function(e){C.remove(e,"data-mce-selected")}),n.setAttribute("data-mce-selected",1),c=n,y(),e)}function g(){c&&(c.removeAttribute("data-mce-selected"),k.descendant(x.fromDom(s.getBody()),"#"+l).each(b.remove),c=null)}function y(){r.hide()}return P.ceFalse&&(n(),e=s.contentStyles,t=".mce-content-body",e.push(r.getCss()),e.push(t+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+t+" *[contentEditable=false] {cursor: default;}"+t+" *[contentEditable=true] {cursor: text;}")),{showCaret:f,showBlockCaretContainer:function(e){e.hasAttribute("data-mce-caret")&&(E.showCaretContainerBlock(e),u(d()),i(e[0]))},hideFakeCaret:y,destroy:function(){r.destroy(),c=null}}}}),r("tinymce.core.dom.NodePath",["tinymce.core.dom.DOMUtils"],function(i){return{create:function(e,t,n){for(var r=[];t&&t!=e;t=t.parentNode)r.push(i.nodeIndex(t,n));return r},resolve:function(e,t){for(var n,r=e,i=t.length-1;0<=i;i--){if(n=r.childNodes,t[i]>n.length-1)return null;r=n[t[i]]}return r}}}),r("tinymce.core.util.Quirks",["tinymce.core.util.VK","tinymce.core.dom.RangeUtils","tinymce.core.dom.TreeWalker","tinymce.core.dom.NodePath","tinymce.core.html.Node","tinymce.core.html.Entities","tinymce.core.Env","tinymce.core.util.Tools","tinymce.core.util.Delay","tinymce.core.caret.CaretContainer","tinymce.core.caret.CaretPosition","tinymce.core.caret.CaretWalker"],function(I,F,e,t,H,U,z,W,V,q,n,r){return function(o){var t,n,r,i,a,s,c=W.each,l=I.BACKSPACE,u=I.DELETE,d=o.dom,f=o.selection,e=o.settings,m=o.parser,h=o.serializer,p=z.gecko,g=z.ie,y=z.webkit,v="data:text/mce-internal,",b=g?"Text":"URL";function x(e,t){try{o.getDoc().execCommand(e,!1,t)}catch(e){}}function C(){var e=o.getDoc().documentMode;return e||6}function w(e){return e.isDefaultPrevented()}function k(){o.shortcuts.add("meta+a",null,"SelectAll")}function E(){o.on("keydown",function(e){var t,n;w(e)||e.keyCode!==l||o.getBody().getElementsByTagName("hr").length&&f.isCollapsed()&&0===f.getRng(!0).startOffset&&(n=(t=f.getNode()).previousSibling,"HR"==t.nodeName?(d.remove(t),e.preventDefault()):n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(d.remove(n),e.preventDefault()))})}function S(){o.on("keydown",function(e){if(!w(e)&&e.keyCode===l&&f.isCollapsed()&&0===f.getRng(!0).startOffset){var t=f.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})}function N(){e.readonly||o.on("BeforeExecCommand MouseDown",function(){x("StyleWithCSS",!1),x("enableInlineTableEditing",!1),e.object_resizing||x("enableObjectResizing",!1)})}function T(){o.on("SetContent ExecCommand",function(e){"setcontent"!=e.type&&"mceInsertLink"!==e.command||c(d.select("a"),function(e){var t=e.parentNode,n=d.getRoot();if(t.lastChild===e){for(;t&&!d.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}d.add(t,"br",{"data-mce-bogus":1})}})})}function R(){o.inline||(o.contentStyles.push("body {min-height: 150px}"),o.on("click",function(e){"HTML"==e.target.nodeName&&(11<z.ie?o.getBody().focus():(e=o.selection.getRng(),o.getBody().focus(),o.selection.setRng(e),o.selection.normalize(),o.nodeChanged()))}))}function _(){o.on("dragstart",function(e){var t;(e=e).dataTransfer&&(o.selection.isCollapsed()&&"IMG"==e.target.tagName&&f.select(e.target),0<(t=o.selection.getContent()).length&&(t=v+escape(o.id)+","+escape(t),e.dataTransfer.setData(b,t)))}),o.on("drop",function(e){var t;w(e)||(t=(t=e).dataTransfer&&(t=t.dataTransfer.getData(b))&&0<=t.indexOf(v)?(t=t.substr(v.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null)&&t.id!=o.id&&(e.preventDefault(),e=F.getCaretRangeFromPoint(e.x,e.y,o.getDoc()),f.setRng(e),e=t.html,t=!0,o.queryCommandSupported("mceInsertClipboardContent")?o.execCommand("mceInsertClipboardContent",!1,{content:e,internal:t}):o.execCommand("mceInsertContent",!1,e))})}function L(){}function B(e){var t=d.create("body"),e=e.cloneContents();return t.appendChild(e),f.serializer.serialize(t,{format:"html"})}function A(e,t){var n=a.createTextRange();try{n.moveToPoint(e,t)}catch(e){n=null}return n}function D(e){e.button?(e=A(e.x,e.y))&&(0<e.compareEndPoints("StartToStart",n)?e.setEndPoint("StartToStart",n):e.setEndPoint("EndToEnd",n),e.select()):P()}function P(){var e=i.selection.createRange();n&&!e.item&&0===e.compareEndPoints("StartToEnd",e)&&n.select(),d.unbind(i,"mouseup",P),d.unbind(i,"mousemove",D),n=t=0}function O(){var e=d.getAttribs(f.getStart().cloneNode(!1));return function(){var t=f.getStart();t!==o.getBody()&&(d.setAttrib(t,"style",null),c(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}}function M(){return!f.isCollapsed()&&d.getParent(f.getStart(),d.isBlock)!=d.getParent(f.getEnd(),d.isBlock)}return o.on("keydown",function(e){var t,n,r,i;if(!w(e)&&e.keyCode==I.BACKSPACE&&(t=(e=f.getRng()).startContainer,n=e.startOffset,r=d.getRoot(),i=t,e.collapsed&&0===n)){for(;i&&i.parentNode&&i.parentNode.firstChild==i&&i.parentNode!=r;)i=i.parentNode;"BLOCKQUOTE"===i.tagName&&(o.formatter.toggle("blockquote",null,i),(e=d.createRng()).setStart(t,0),e.setEnd(t,0),f.setRng(e))}}),o.on("keydown",function(e){var t,n,r,i=e.keyCode;w(e)||i!=u&&i!=l||(i=o.selection.isCollapsed(),t=o.getBody(),i&&!d.isEmpty(t)||!i&&((i=o.selection.getRng()).setStart?(n=B(i),(r=d.createRng()).selectNode(o.getBody()),n!==B(r)):i.item||((n=i.duplicate()).moveToElementText(o.getBody()),!F.compareRanges(i,n)))||(e.preventDefault(),o.setContent(""),t.firstChild&&d.isBlock(t.firstChild)?o.selection.setCursorLocation(t.firstChild,0):o.selection.setCursorLocation(t,0),o.nodeChanged()))}),z.windowsPhone||o.on("keyup focusin mouseup",function(e){65==e.keyCode&&I.metaKeyPressed(e)||f.normalize()},!0),y&&(o.settings.content_editable||d.bind(o.getDoc(),"mousedown mouseup",function(e){var t;e.target==o.getDoc().documentElement&&(t=f.getRng(),o.getBody().focus(),"mousedown"==e.type?q.isCaretContainer(t.startContainer)||f.placeCaretAt(e.clientX,e.clientY):f.setRng(t))}),o.on("click",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&"false"!==d.getContentEditableParent(t)&&(e.preventDefault(),o.selection.select(t),o.nodeChanged()),"A"==t.nodeName&&d.hasClass(t,"mce-item-anchor")&&(e.preventDefault(),f.select(t))}),e.forced_root_block&&o.on("init",function(){x("DefaultParagraphSeparator",e.forced_root_block)}),o.on("init",function(){o.dom.bind(o.getBody(),"submit",function(e){e.preventDefault()})}),S(),m.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"==e[t].attr("class")&&e[t].remove()}),z.iOS?(o.inline||o.on("keydown",function(){document.activeElement==document.body&&o.getWin().focus()}),R(),o.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),o.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):k()),g&&z.ie<11&&(E(),document.body.setAttribute("role","application"),7<C()||(x("RespectVisibilityInDesign",!0),o.contentStyles.push(".mceHideBrInPre pre br {display: none}"),d.addClass(o.getBody(),"mceHideBrInPre"),m.addNodeFilter("pre",function(e){for(var t,n,r,i,o=e.length;o--;)for(n=(t=e[o].getAll("br")).length;n--;)(i=(r=t[n]).prev)&&3===i.type&&"\n"!=i.value.charAt(i.value-1)?i.value+="\n":r.parent.insert(new H("#text",3),r,!0).value="\n"}),h.addNodeFilter("pre",function(e){for(var t,n,r,i=e.length;i--;)for(n=(t=e[i].getAll("br")).length;n--;)(r=t[n].prev)&&3==r.type&&(r.value=r.value.replace(/\r?\n$/,""))})),d.bind(o.getBody(),"mouseup",function(){var e,t=f.getNode();"IMG"==t.nodeName&&((e=d.getStyle(t,"width"))&&(d.setAttrib(t,"width",e.replace(/[^0-9%]+/g,"")),d.setStyle(t,"width","")),(e=d.getStyle(t,"height"))&&(d.setAttrib(t,"height",e.replace(/[^0-9%]+/g,"")),d.setStyle(t,"height","")))}),o.on("keydown",function(e){var t;w(e)||e.keyCode!=l||(t=o.getDoc().selection.createRange())&&t.item&&(e.preventDefault(),o.undoManager.beforeChange(),d.remove(t.item(0)),o.undoManager.add())}),10<=C()&&(s="",c("p div h1 h2 h3 h4 h5 h6".split(" "),function(e,t){s+=(0<t?",":"")+e+":empty"}),o.contentStyles.push(s+"{padding-right: 1px !important}")),C()<9&&(m.addNodeFilter("noscript",function(e){for(var t,n,r=e.length;r--;)(n=(t=e[r]).firstChild)&&t.attr("data-mce-innertext",n.value)}),h.addNodeFilter("noscript",function(e){for(var t,n,r,i=e.length;i--;)t=e[i],(n=e[i].firstChild)?n.value=U.decode(n.value):(r=t.attributes.map["data-mce-innertext"])&&(t.attr("data-mce-innertext",null),(n=new H("#text",3)).value=r,n.raw=!0,t.append(n))})),i=d.doc,a=i.body,i.documentElement.unselectable=!0,d.bind(i,"mousedown contextmenu",function(e){"HTML"===e.target.nodeName&&(t&&P(),(r=i.documentElement).scrollHeight>r.clientHeight||(t=1,(n=A(e.x,e.y))&&(d.bind(i,"mouseup",P),d.bind(i,"mousemove",D),d.getRoot().focus(),n.select())))})),11<=z.ie&&(R(),S()),z.ie&&(k(),x("AutoUrlDetect",!1),_()),p&&(E(),window.Range.prototype.getClientRects||o.on("mousedown",function(e){var t;w(e)||"HTML"!==e.target.nodeName||((t=o.getBody()).blur(),V.setEditorTimeout(o,function(){t.focus()}))}),o.on("keypress",function(e){var t;if(!w(e)&&(8==e.keyCode||46==e.keyCode)&&M())return t=O(),o.getDoc().execCommand("delete",!1,null),t(),e.preventDefault(),!1}),d.bind(o.getDoc(),"cut",function(e){var t;!w(e)&&M()&&(t=O(),V.setEditorTimeout(o,function(){t()}))}),N(),T(),o.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),z.mac&&o.on("keydown",function(e){!I.metaKeyPressed(e)||e.shiftKey||37!=e.keyCode&&39!=e.keyCode||(e.preventDefault(),o.selection.getSel().modify("move",37==e.keyCode?"backward":"forward","lineboundary"))}),S()),{refreshContentEditable:L,isHidden:function(){var e;return!p||o.removed?0:!(e=o.selection.getSel())||!e.rangeCount||0===e.rangeCount}}}}),r("tinymce.core.init.InitContentBody",["global!document","global!window","tinymce.core.api.Formatter","tinymce.core.caret.CaretContainerInput","tinymce.core.dom.DOMUtils","tinymce.core.dom.Selection","tinymce.core.dom.Serializer","tinymce.core.EditorUpload","tinymce.core.ErrorReporter","tinymce.core.ForceBlocks","tinymce.core.html.DomParser","tinymce.core.html.Node","tinymce.core.html.Schema","tinymce.core.keyboard.KeyboardOverrides","tinymce.core.NodeChange","tinymce.core.SelectionOverrides","tinymce.core.UndoManager","tinymce.core.util.Delay","tinymce.core.util.Quirks","tinymce.core.util.Tools"],function(a,c,l,u,d,f,m,h,p,g,y,v,b,x,C,w,k,e,E,S){function N(e){e.bindPendingEventDelegates(),e.initialized=!0,e.fire("init"),e.focus(!0),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),t(e)}var T=d.DOM,t=function(t){t.settings.auto_focus&&e.setEditorTimeout(t,function(){var e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus);e.destroyed||e.focus()},100)};return{initContentBody:function(t,e){var n,s,r=t.settings,i=t.getElement(),o=t.getDoc();r.inline||(t.getElement().style.visibility=t.orgVisibility),e||r.content_editable||(o.open(),o.write(t.iframeHTML),o.close()),r.content_editable&&(t.on("remove",function(){var e=this.getBody();T.removeClass(e,"mce-content-body"),T.removeClass(e,"mce-edit-focus"),T.setAttrib(e,"contentEditable",null)}),T.addClass(i,"mce-content-body"),t.contentDocument=o=r.content_document||a,t.contentWindow=r.content_window||c,t.bodyElement=i,r.content_document=r.content_window=null,r.root_name=i.nodeName.toLowerCase()),(e=t.getBody()).disabled=!0,t.readonly=r.readonly,t.readonly||(t.inline&&"static"===T.getStyle(e,"position",!0)&&(e.style.position="relative"),e.contentEditable=t.getParam("content_editable_state",!0)),e.disabled=!1,t.editorUpload=new h(t),t.schema=new b(r),t.dom=new d(o,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:r.force_hex_style_colors,class_filter:r.class_filter,update_styles:!0,root_element:t.inline?t.getBody():null,collect:r.content_editable,schema:t.schema,onSetAttrib:function(e){t.fire("SetAttrib",e)}}),t.parser=((i=new y((s=t).settings,s.schema)).addAttributeFilter("src,href,style,tabindex",function(e,t){for(var n,r,i,o=e.length,a=s.dom;o--;)r=(n=e[o]).attr(t),n.attributes.map[i="data-mce-"+t]||0!==r.indexOf("data:")&&0!==r.indexOf("blob:")&&("style"===t?((r=a.serializeStyle(a.parseStyle(r),n.name)).length||(r=null),n.attr(i,r),n.attr(t,r)):"tabindex"===t?(n.attr(i,r),n.attr(t,null)):n.attr(i,s.convertURL(r,t,n.name)))}),i.addNodeFilter("script",function(e){for(var t,n,r=e.length;r--;)0!==(n=(t=e[r]).attr("type")||"no/type").indexOf("mce-")&&t.attr("type","mce-"+n)}),i.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)(t=e[n]).type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),i.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t,n=e.length,r=s.schema.getNonEmptyElements();n--;)(t=e[n]).isEmpty(r)&&0===t.getAll("br").length&&(t.append(new v("br",1)).shortEnded=!0)}),i),t.serializer=new m(r,t),t.selection=new f(t.dom,t.getWin(),t.serializer,t),t.formatter=new l(t),t.undoManager=new k(t),t._nodeChangeDispatcher=new C(t),t._selectionOverrides=new w(t),u.setup(t),x.setup(t),g.setup(t),t.fire("PreInit"),r.browser_spellcheck||r.gecko_spellcheck||(o.body.spellcheck=!1,T.setAttrib(e,"spellcheck","false")),t.quirks=new E(t),t.fire("PostRender"),r.directionality&&(e.dir=r.directionality),r.nowrap&&(e.style.whiteSpace="nowrap"),r.protect&&t.on("BeforeSetContent",function(t){S.each(r.protect,function(e){t.content=t.content.replace(e,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),t.on("SetContent",function(){t.addVisual(t.getBody())}),r.padd_empty_editor&&t.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),t.on("compositionstart compositionend",function(e){t.composing="compositionstart"===e.type}),0<t.contentStyles.length&&(n="",S.each(t.contentStyles,function(e){n+=e+"\r\n"}),t.dom.addStyle(n)),((i=t).inline?T:i.dom).styleSheetLoader.loadAll(t.contentCSS,function(e){N(t)},function(e){N(t),p.contentCssError(t,e)})}}}),r("tinymce.core.PluginManager",["tinymce.core.AddOnManager"],function(e){return e.PluginManager}),r("tinymce.core.ThemeManager",["tinymce.core.AddOnManager"],function(e){return e.ThemeManager}),r("tinymce.core.init.Init",["global!document","global!window","tinymce.core.dom.DOMUtils","tinymce.core.Env","tinymce.core.init.InitContentBody","tinymce.core.PluginManager","tinymce.core.ThemeManager","tinymce.core.util.Tools","tinymce.core.util.Uuid"],function(r,i,e,m,h,o,p,g,a){var y=e.DOM,v=function(t,n,e){var r=o.get(e),i=o.urls[e]||t.documentBaseUrl.replace(/\/$/,"");e=g.trim(e),r&&-1===g.inArray(n,e)&&(g.each(o.dependencies(e),function(e){v(t,n,e)}),t.plugins[e]||(r=new r(t,i,t.$),(t.plugins[e]=r).init&&(r.init(t,i),n.push(e))))},b=function(e,t){var n;return!!(r.domain!==i.location.hostname&&m.ie&&m.ie<12)&&(n=a.uuid("mce"),e[n]=function(){h.initContentBody(e)},n='javascript:(function(){document.open();document.domain="'+r.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()",y.setAttrib(t,"src",n),!0)};return{init:function(t){var n,r,e,i,o=t.settings,a=t.getElement();if(t.rtl=o.rtl_ui||t.editorManager.i18n.rtl,t.editorManager.i18n.setCode(o.language),o.aria_label=o.aria_label||y.getAttrib(a,"aria-label",t.getLang("aria.rich_text_area")),t.fire("ScriptsLoaded"),(l=(a=t).settings).theme&&("function"!=typeof l.theme?(l.theme=l.theme.replace(/-/,""),e=p.get(l.theme),a.theme=new e(a,p.urls[l.theme]),a.theme.init&&a.theme.init(a,p.urls[l.theme]||a.documentBaseUrl.replace(/\/$/,""),a.$)):a.theme=l.theme),n=t,r=[],g.each(n.settings.plugins.replace(/\-/g,"").split(/[ ,]/),function(e){v(n,r,e)}),a=(e=t).settings,l=e.getElement(),a.render_ui&&e.theme&&(e.orgDisplay=l.style.display,"function"!=typeof a.theme?(i=a.width||y.getStyle(l,"width")||"100%",u=a.height||y.getStyle(l,"height")||l.offsetHeight,c=a.min_height||100,(f=/^[0-9\.]+(|px)$/i).test(""+i)&&(i=Math.max(parseInt(i,10),100)),f.test(""+u)&&(u=Math.max(parseInt(u,10),c)),f=e.theme.renderUI({targetNode:l,width:i,height:u,deltaWidth:a.delta_width,deltaHeight:a.delta_height}),a.content_editable||(u=(f.iframeHeight||u)+("number"==typeof u?f.deltaHeight||0:""))<c&&(u=c)):((f=a.theme(e,l)).editorContainer.nodeType&&(f.editorContainer.id=f.editorContainer.id||e.id+"_parent"),f.iframeContainer.nodeType&&(f.iframeContainer.id=f.iframeContainer.id||e.id+"_iframecontainer"),u=f.iframeHeight||l.offsetHeight),e.editorContainer=f.editorContainer,f.height=u),i=f,o.content_css&&g.each(g.explode(o.content_css),function(e){t.contentCSS.push(t.documentBaseURI.toAbsolute(e))}),o.content_style&&t.contentStyles.push(o.content_style),o.content_editable)return h.initContentBody(t);c=i,a=(s=t).settings,s.iframeHTML=a.doctype+"<html><head>",a.document_base_url!=s.documentBaseUrl&&(s.iframeHTML+='<base href="'+s.documentBaseURI.getURI()+'" />'),!m.caretAfter&&a.ie7_compat&&(s.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),s.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',-1!=(l=a.body_id||"tinymce").indexOf("=")&&(l=(l=s.getParam("body_id","","hash"))[s.id]||l),-1!=(u=a.body_class||"").indexOf("=")&&(u=(u=s.getParam("body_class","","hash"))[s.id]||""),a.content_security_policy&&(s.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+a.content_security_policy+'" />'),s.iframeHTML+='</head><body id="'+l+'" class="mce-content-body '+u+'" data-id="'+s.id+'"><br></body></html>',(d=y.create("iframe",{id:s.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:s.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:c.height,display:"block"}})).onload=function(){d.onload=null,s.fire("load")},a=b(s,d),s.contentAreaContainer=c.iframeContainer,s.iframeElement=d,y.add(c.iframeContainer,d);var s,c,l,u,d,f=a;i.editorContainer&&(y.get(i.editorContainer).style.display=t.orgDisplay,t.hidden=y.isHidden(i.editorContainer)),t.getElement().style.display="none",y.setAttrib(t.id,"aria-hidden",!0),f||h.initContentBody(t)}}}),r("tinymce.core.init.Render",["global!window","tinymce.core.dom.DOMUtils","tinymce.core.dom.EventUtils","tinymce.core.dom.ScriptLoader","tinymce.core.Env","tinymce.core.ErrorReporter","tinymce.core.init.Init","tinymce.core.NotificationManager","tinymce.core.PluginManager","tinymce.core.ThemeManager","tinymce.core.util.Tools","tinymce.core.WindowManager"],function(s,e,c,l,u,d,f,m,h,p,g,y){var v=e.DOM;return{render:function(t){var e,n,r,i,o=t.settings,a=t.id;c.Event.domLoaded?t.getElement()&&u.contentEditable&&(o.inline?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden"),(e=t.getElement().form||v.getParent(a,"form"))&&(t.formElement=e,o.hidden_input&&!/TEXTAREA|INPUT/i.test(t.getElement().nodeName)&&(v.insertAfter(v.create("input",{type:"hidden",name:a}),a),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},v.bind(e,"submit reset",t.formEventDelegate),t.on("reset",function(){t.setContent(t.startContent,{format:"raw"})}),!o.submit_patch||e.submit.nodeType||e.submit.length||e._mceOldSubmit||(e._mceOldSubmit=e.submit,e.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),e._mceOldSubmit(e)})),t.windowManager=new y(t),t.notificationManager=new m(t),"xml"===o.encoding&&t.on("GetContent",function(e){e.save&&(e.content=v.encode(e.content))}),o.add_form_submit_trigger&&t.on("submit",function(){t.initialized&&t.save()}),o.add_unload_trigger&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),r=(n=t).suffix,i=n.settings,a=l.ScriptLoader,i.language&&"en"!=i.language&&!i.language_url&&(i.language_url=n.editorManager.baseURL+"/langs/"+i.language+".js"),i.language_url&&a.add(i.language_url),i.theme&&"function"!=typeof i.theme&&"-"!=i.theme.charAt(0)&&!p.urls[i.theme]&&(o=(o=i.theme_url)?n.documentBaseURI.toAbsolute(o):"themes/"+i.theme+"/theme"+r+".js",p.load(i.theme,o)),g.isArray(i.plugins)&&(i.plugins=i.plugins.join(" ")),g.each(i.external_plugins,function(e,t){h.load(t,e),i.plugins+=" "+t}),g.each(i.plugins.split(/[ ,]/),function(e){var t;(e=g.trim(e))&&!h.urls[e]&&("-"===e.charAt(0)?(e=e.substr(1,e.length),t=h.dependencies(e),g.each(t,function(e){e=h.createUrl({prefix:"plugins/",resource:e,suffix:"/plugin"+r+".js"},e),h.load(e.resource,e)})):h.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+r+".js"}))}),a.loadQueue(function(){n.removed||f.init(n)},n,function(e){d.pluginLoadError(n,e[0]),n.removed||f.init(n)})):v.bind(s,"ready",function e(){v.unbind(s,"ready",e),t.render()})}}}),r("tinymce.core.Mode",[],function(){function o(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}}function r(e,t){var n,r,i;e._clickBlocker&&(e._clickBlocker.unbind(),e._clickBlocker=null),t?(e._clickBlocker=(r=(n=e).getBody(),i=function(e){0<n.dom.getParents(e.target,"a").length&&e.preventDefault()},n.dom.bind(r,"click",i),{unbind:function(){n.dom.unbind(r,"click",i)}}),e.selection.controlSelection.hideResizeRect(),e.readonly=!0,e.getBody().contentEditable=!1):(e.readonly=!1,e.getBody().contentEditable=!0,o(e,"StyleWithCSS",!1),o(e,"enableInlineTableEditing",!1),o(e,"enableObjectResizing",!1),e.focus(),e.nodeChanged())}return{setMode:function(e,t){var n=e.readonly?"readonly":"design";t!=n&&(e.initialized?r(e,"readonly"==t):e.on("init",function(){r(e,"readonly"==t)}),e.fire("SwitchMode",{mode:t}))}}}),r("tinymce.core.ui.Sidebar",[],function(){return{add:function(e,t,n){var r=e.sidebars||[];r.push({name:t,settings:n}),e.sidebars=r}}}),r("tinymce.core.Editor",["tinymce.core.AddOnManager","tinymce.core.dom.DomQuery","tinymce.core.dom.DOMUtils","tinymce.core.EditorCommands","tinymce.core.EditorObservable","tinymce.core.EditorSettings","tinymce.core.Env","tinymce.core.html.Serializer","tinymce.core.init.Render","tinymce.core.Mode","tinymce.core.Shortcuts","tinymce.core.ui.Sidebar","tinymce.core.util.Tools","tinymce.core.util.URI","tinymce.core.util.Uuid"],function(a,s,e,c,t,l,u,d,n,r,f,i,o,m,h){var p=e.DOM,g=o.extend,y=o.each,v=o.trim,b=o.resolve,x=u.gecko,C=u.ie;function w(e,t,n){var r=this,i=r.documentBaseUrl=n.documentBaseURL,o=n.baseURI;t=l.getEditorSettings(r,e,i,n.defaultSettings,t),r.settings=t,a.language=t.language||"en",a.languageLoad=t.language_load,a.baseURL=n.baseURL,r.id=e,r.setDirty(!1),r.plugins={},r.documentBaseURI=new m(t.document_base_url,{base_uri:o}),r.baseURI=o,r.contentCSS=[],r.contentStyles=[],r.shortcuts=new f(r),r.loadedCSS={},r.editorCommands=new c(r),r.suffix=n.suffix,r.editorManager=n,r.inline=t.inline,t.cache_suffix&&(u.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),!1===t.override_viewport&&(u.overrideViewPort=!1),n.fire("SetupEditor",r),r.execCallback("setup",r),r.$=s.overrideDefaults(function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}})}return g(w.prototype={render:function(){n.render(this)},focus:function(e){var t,n,r=this,i=r.selection,o=r.settings.content_editable,a=r.getDoc(),s=r.getBody();if(!r.removed){if(!e){if((e=i.getRng()).item&&(t=e.item(0)),r.quirks.refreshContentEditable(),n=i.getNode(),n=r.dom.getParent(n,function(e){return"true"===r.dom.getContentEditable(e)}),r.$.contains(s,n))return n.focus(),i.normalize(),void r.editorManager.setActive(r);if(o||(u.opera||r.getBody().focus(),r.getWin().focus()),x||o){if(s.setActive)try{s.setActive()}catch(e){s.focus()}else r.inline&&document.activeElement!==s&&r.selection.setRng(r.lastRng),s.focus();o&&i.normalize()}t&&t.ownerDocument==a&&((e=a.body.createControlRange()).addElement(t),e.select())}r.editorManager.setActive(r)}},execCallback:function(e){var t,n=this.settings[e];if(n)return this.callbackLookup&&(t=this.callbackLookup[e])&&(n=t.func,t=t.scope),"string"==typeof n&&(t=(t=n.replace(/\.\w+$/,""))?b(t):0,n=b(n),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:n,scope:t}),n.apply(t||this,Array.prototype.slice.call(arguments,1))},translate:function(e){var n,r;return e&&o.is(e,"string")&&(n=this.settings.language||"en",e=(r=this.editorManager.i18n).data[n+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,t){return r.data[n+"."+t]||"{#"+t+"}"})),this.editorManager.translate(e)},getLang:function(e,t){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(void 0!==t?t:"{#"+e+"}")},getParam:function(e,t,n){var r,e=e in this.settings?this.settings[e]:t;return"hash"===n?(r={},"string"==typeof e?y(0<e.indexOf("=")?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(e){1<(e=e.split("=")).length?r[v(e[0])]=v(e[1]):r[v(e[0])]=v(e)}):r=e,r):e},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.text||t.icon||(t.icon=e),n.buttons=n.buttons||{},t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return i.add(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[e]=t},addContextToolbar:function(e,t){var n,r=this;r.contextToolbars=r.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return r.dom.is(e,n)}),r.contextToolbars.push({id:h.uuid("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,r){this.shortcuts.add(e,t,n,r)},execCommand:function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(p.show(this.getContainer()),p.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(C&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e==e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(p.hide(e.getContainer()),p.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var t,n=this.getElement();return this.removed?"":n?((e=e||{}).load=!0,t=this.setContent(void 0!==n.value?n.value:n.innerHTML,e),e.element=n,e.no_events||this.fire("LoadContent",e),e.element=n=null,t):void 0},save:function(e){var t,n,r=this,i=r.getElement();if(i&&r.initialized&&!r.removed)return(e=e||{}).save=!0,e.element=i,e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"==e.format&&r.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(i.nodeName)?i.value=t:(r.inline||(i.innerHTML=t),(n=p.getParent(r.id,"form"))&&y(n.elements,function(e){if(e.name==r.id)return e.value=t,!1})),e.element=i=null,!1!==e.set_dirty&&r.setDirty(!1),t},setContent:function(e,t){var n,r,i=this,o=i.getBody();return(t=t||{}).format=t.format||"html",t.set=!0,t.content=e,t.no_events||i.fire("BeforeSetContent",t),0===(e=t.content).length||/^\s+$/.test(e)?(r=C&&C<11?"":'<br data-mce-bogus="1">',"TABLE"==o.nodeName?e="<tr><td>"+r+"</td></tr>":/^(UL|OL)$/.test(o.nodeName)&&(e="<li>"+r+"</li>"),(n=i.settings.forced_root_block)&&i.schema.isValidChild(o.nodeName.toLowerCase(),n.toLowerCase())?e=i.dom.createHTML(n,i.settings.forced_root_block_attrs,e=r):C||e||(e='<br data-mce-bogus="1">'),i.dom.setHTML(o,e),i.fire("SetContent",t)):("raw"!==t.format&&(e=new d({validate:i.validate},i.schema).serialize(i.parser.parse(e,{isRootContent:!0}))),t.content=v(e),i.dom.setHTML(o,t.content),t.no_events||i.fire("SetContent",t)),t.content},getContent:function(e){var t=this.getBody();return this.removed?"":((e=e||{}).format=e.format||"html",e.get=!0,e.getInner=!0,e.no_events||this.fire("BeforeGetContent",e),t="raw"==e.format?o.trim(this.serializer.getTrimmedContent()):"text"==e.format?t.innerText||t.textContent:this.serializer.serialize(t,e),"text"!=e.format?e.content=v(t):e.content=t,e.no_events||this.fire("GetContent",e),e.content)},insertContent:function(e,t){t&&(e=g({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!=t&&this.fire("dirty")},setMode:function(e){r.setMode(this,e)},getContainer:function(){return this.container||(this.container=p.get(this.editorContainer||this.id+"_parent")),this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=p.get(this.id)),this.targetElm},getWin:function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},getDoc:function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var r=this.settings;if(r.urlconverter_callback)return this.execCallback("urlconverter_callback",e,n,!0,t);if(r.convert_urls&&(!n||"LINK"!=n.nodeName)&&0!==e.indexOf("file:")&&0!==e.length){if(r.relative_urls)return this.documentBaseURI.toRelative(e);e=this.documentBaseURI.toAbsolute(e,r.remove_script_host)}return e},addVisual:function(e){var n,r=this,i=r.settings,o=r.dom;e=e||r.getBody(),void 0===r.hasVisual&&(r.hasVisual=i.visual),y(o.select("table,a",e),function(e){var t;switch(e.nodeName){case"TABLE":return n=i.visual_table_class||"mce-item-table",void((t=o.getAttrib(e,"border"))&&"0"!=t||!r.hasVisual?o.removeClass(e,n):o.addClass(e,n));case"A":return void(o.getAttrib(e,"href",!1)||(t=o.getAttrib(e,"name")||e.id,n=i.visual_anchor_class||"mce-item-anchor",t&&r.hasVisual?o.addClass(e,n):o.removeClass(e,n)))}}),r.fire("VisualAid",{element:e,hasVisual:r.hasVisual})},remove:function(){var e=this;e.removed||(e.save(),e.removed=1,e.unbindAllNativeEvents(),e.hasHiddenInput&&p.remove(e.getElement().nextSibling),e.inline||(C&&C<10&&e.getDoc().execCommand("SelectAll",!1,null),p.setStyle(e.id,"display",e.orgDisplay),e.getBody().onload=null),e.fire("remove"),e.editorManager.remove(e),p.remove(e.getContainer()),e._selectionOverrides.destroy(),e.editorUpload.destroy(),e.destroy())},destroy:function(e){var t=this;t.destroyed||(e||t.removed?(e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),t.selection.destroy(),t.dom.destroy()),(e=t.formElement)&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),p.unbind(e,"submit reset",t.formEventDelegate)),t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null),t.destroyed=1):t.remove())},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},t),w}),r("tinymce.core.util.I18n",["tinymce.core.util.Tools"],function(a){"use strict";var s={},c="en";return{setCode:function(e){e&&(c=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return c},rtl:!1,add:function(e,t){var n,r=s[e];for(n in r||(s[e]=r={}),t)r[n]=t[n];this.setCode(e)},translate:function(e){var n,t=s[c]||{};function r(e){return a.is(e,"function")?Object.prototype.toString.call(e):i(e)?"":""+e}function i(e){return""===e||null===e||a.is(e,"undefined")}function o(e){return e=r(e),a.hasOwn(t,e)?r(t[e]):e}return i(e)?"":a.is(e,"object")&&a.hasOwn(e,"raw")?r(e.raw):(a.is(e,"array")&&(n=e.slice(1),e=o(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return a.hasOwn(n,t)?r(n[t]):e})),o(e).replace(/{context:\w+}$/,""))},data:s}}),r("tinymce.core.FocusManager",["tinymce.core.dom.DOMUtils","tinymce.core.util.Delay","tinymce.core.Env"],function(e,t,r){function a(t,e){var n=t?t.settings.custom_ui_selector:"";return null!==u.getParent(e,function(e){return o.isEditorUIElement(e)||!!n&&t.dom.is(e,n)})}function s(e,t){return!1===n(e)||!1===e.dom.isChildOf(t,e.getBody())}var i,c,l,u=e.DOM,n=function(e){return!0===e.inline};function o(o){function n(){try{return document.activeElement}catch(e){return document.body}}o.on("AddEditor",function(e){var i=e.editor;i.on("init",function(){(i.inline||r.ie)&&("onbeforedeactivate"in document&&r.ie<9?i.dom.bind(i.getBody(),"beforedeactivate",function(e){if(e.target==i.getBody())try{i.lastRng=i.selection.getRng()}catch(e){}}):i.on("nodechange mouseup keyup",function(e){var t=n();"nodechange"==e.type&&e.selectionChange||(t&&t.id==i.id+"_ifr"&&(t=i.getBody()),i.dom.isChildOf(t,i.getBody())&&(i.lastRng=i.selection.getRng()))}))}),i.on("setcontent",function(){i.lastRng=null}),i.on("mousedown",function(){i.selection.lastFocusBookmark=null}),i.on("focusin",function(){var e,t,n,r=o.focusedEditor;i.selection.lastFocusBookmark&&((t=(e=i).selection.lastFocusBookmark).startContainer?((n=e.getDoc().createRange()).setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset)):n=t,e=n,i.selection.lastFocusBookmark=null,i.selection.setRng(e)),r!=i&&(r&&r.fire("blur",{focusedEditor:i}),o.setActive(i),(o.focusedEditor=i).fire("focus",{blurredEditor:r}),i.focus(!0)),i.lastRng=null}),i.on("focusout",function(){t.setEditorTimeout(i,function(){var e=o.focusedEditor;a(i,n())||e!=i||(i.fire("blur",{focusedEditor:null}),o.focusedEditor=null,i.selection&&(i.selection.lastFocusBookmark=null))})}),c||(c=function(e){var t,n,r=o.activeEditor,e=e.target;r&&e.ownerDocument===document&&(r.selection&&e!==r.getBody()&&s(i,e)&&(r.selection.lastFocusBookmark=(t=r.dom,(n=r.lastRng)&&n.startContainer?t.isChildOf(n.startContainer,t.getRoot())&&t.isChildOf(n.endContainer,t.getRoot())?{startContainer:n.startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset}:void 0:n)),e===document.body||a(r,e)||o.focusedEditor!==r||(r.fire("blur",{focusedEditor:null}),o.focusedEditor=null))},u.bind(document,"focusin",c)),i.inline&&!l&&(l=function(e){var t=o.activeEditor,n=t.dom;t.inline&&n&&!n.isChildOf(e.target,t.getBody())&&!(n=t.selection.getRng()).collapsed&&(t.lastRng=n)},u.bind(document,"mouseup",l))}),o.on("RemoveEditor",function(e){o.focusedEditor==e.editor&&(o.focusedEditor=null),o.activeEditor||(u.unbind(document,"selectionchange",i),u.unbind(document,"focusin",c),u.unbind(document,"mouseup",l),i=c=l=null)})}return o.isEditorUIElement=function(e){return-1!==e.className.toString().indexOf("mce-")},o._isUIElement=a,o}),r("tinymce.core.LegacyInput",["tinymce.core.util.Tools"],function(e){var s=e.each,c=e.explode;return{register:function(e){e.on("AddEditor",function(e){var a=e.editor;a.on("preInit",function(){var t,n,r,i=a.settings;function o(n,e){s(e,function(e,t){e&&r.setStyle(n,t,e)}),r.rename(n,"span")}i.inline_styles&&(n=c(i.font_size_legacy_values),t={font:function(e,t){o(t,{backgroundColor:t.style.backgroundColor,color:t.color,fontFamily:t.face,fontSize:n[parseInt(t.size,10)-1]})},u:function(e,t){"html4"===a.settings.schema&&o(t,{textDecoration:"underline"})},strike:function(e,t){o(t,{textDecoration:"line-through"})}},a.on("PreProcess SetContent",function(e){r=a.dom,i.convert_fonts_to_spans&&s(r.select("font,u,strike",e.node),function(e){t[e.nodeName.toLowerCase()](r,e)})}))})})}}}),r("tinymce.core.EditorManager",["tinymce.core.AddOnManager","tinymce.core.dom.DomQuery","tinymce.core.dom.DOMUtils","tinymce.core.Editor","tinymce.core.Env","tinymce.core.ErrorReporter","tinymce.core.FocusManager","tinymce.core.LegacyInput","tinymce.core.util.I18n","tinymce.core.util.Observable","tinymce.core.util.Promise","tinymce.core.util.Tools","tinymce.core.util.URI"],function(i,f,e,m,h,p,c,t,n,r,o,g,l){var a,s,y=e.DOM,v=g.explode,b=g.each,x=g.extend,C=0,u=!1;function d(t){b(s.editors,function(e){"scroll"===t.type?e.fire("ScrollWindow",t):e.fire("ResizeWindow",t)})}function w(e,t){t!==u&&(t?f(window).on("resize scroll",d):f(window).off("resize scroll",d),u=t)}function k(e){var t,n=s.editors;delete n[e.id];for(var r=0;r<n.length;r++)if(n[r]==e){n.splice(r,1),t=!0;break}return s.activeEditor==e&&(s.activeEditor=n[0]),s.focusedEditor==e&&(s.focusedEditor=null),t}return x(s={$:f,majorVersion:"4",minorVersion:"6.5",releaseDate:"2017-08-02",editors:[],i18n:n,activeEditor:null,settings:{},setup:function(){var e,t,n="",r=l.getDocumentBaseUrl(document.location);if(/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),t=window.tinymce||window.tinyMCEPreInit)e=t.base||t.baseURL,n=t.suffix;else{for(var i=document.getElementsByTagName("script"),o=0;o<i.length;o++){var a,s=(a=i[o].src).substring(a.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(a)){-1!=s.indexOf(".min")&&(n=".min"),e=a.substring(0,a.lastIndexOf("/"));break}}!e&&document.currentScript&&(-1!=(a=document.currentScript.src).indexOf(".min")&&(n=".min"),e=a.substring(0,a.lastIndexOf("/")))}this.baseURL=new l(r).toAbsolute(e),this.documentBaseURL=r,this.baseURI=new l(this.baseURL),this.suffix=n,this.focusManager=new c(this)},overrideDefaults:function(e){var t,n=e.base_url,r=(n&&(this.baseURL=new l(this.documentBaseURL).toAbsolute(n.replace(/\/+$/,"")),this.baseURI=new l(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n),(this.defaultSettings=e).plugin_base_urls);for(t in r)i.PluginManager.urls[t]=r[t]},init:function(a){var n,s=this;function c(e){var t=e.id;return t||(t=(t=e.name)&&!y.get(t)?e.name:y.uniqueId(),e.setAttribute("id",t)),t}function l(e,t){return t.constructor===RegExp?t.test(e.className):y.hasClass(e,t)}var u=g.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," "),d=function(e){n=e};return s.settings=a,y.bind(window,"ready",function e(){var r,i=0,o=[];function n(e,t,n){e=new m(e,t,s),o.push(e),e.on("init",function(){++i===r.length&&d(o)}),e.targetElm=e.targetElm||n,e.render()}y.unbind(window,"ready",e),function(e){var t=a[e];t&&t.apply(s,Array.prototype.slice.call(arguments,2))}("onpageload"),r=f.unique(function(t){var e,n=[];if(h.ie&&h.ie<11)return p.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(t.types)b(t.types,function(e){n=n.concat(y.select(e.selector))});else{if(t.selector)return y.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":0<(e=t.elements||"").length&&b(v(e),function(t){var e;(e=y.get(t))?n.push(e):b(document.forms,function(e){b(e.elements,function(e){e.name===t&&(t="mce_editor_"+C++,y.setAttrib(e,"id",t),n.push(e))})})});break;case"textareas":case"specific_textareas":b(y.select("textarea"),function(e){t.editor_deselector&&l(e,t.editor_deselector)||t.editor_selector&&!l(e,t.editor_selector)||n.push(e)})}}return n}(a)),a.types?b(a.types,function(t){g.each(r,function(e){return!y.is(e,t.selector)||(n(c(e),x({},a,t),e),!1)})}):(g.each(r,function(e){(e=s.get(e.id))&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(k(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null)}),0===(r=g.grep(r,function(e){return!s.get(e.id)})).length?d([]):b(r,function(e){var t;t=e,a.inline&&t.tagName.toLowerCase()in u?p.initError("Could not initialize inline editor on invalid inline target element",e):n(c(e),a,e)}))}),new o(function(t){n?t(n):d=function(e){t(e)}})},get:function(e){return arguments.length?e in this.editors?this.editors[e]:null:this.editors},add:function(e){var t=this,n=t.editors;return n[e.id]=e,n.push(e),w(0,!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),a||(a=function(){t.fire("BeforeUnload")},y.bind(window,"beforeunload",a)),e},createEditor:function(e,t){return this.add(new m(e,t,this))},remove:function(e){var t,n,r=this,i=r.editors;if(e){if("string"!=typeof e)return i[(n=e).id]?(k(n)&&r.fire("RemoveEditor",{editor:n}),i.length||y.unbind(window,"beforeunload",a),n.remove(),w(0,0<i.length),n):null;e=e.selector||e,b(y.select(e),function(e){(n=i[e.id])&&r.remove(n)})}else for(t=i.length-1;0<=t;t--)r.remove(i[t])},execCommand:function(e,t,n){var r=this.get(n);switch(e){case"mceAddEditor":return this.get(n)||new m(n,this.settings,this).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?r.isHidden()?r.show():r.hide():this.execCommand("mceAddEditor",0,n),!0}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n)},triggerSave:function(){b(this.editors,function(e){e.save()})},addI18n:function(e,t){n.add(e,t)},translate:function(e){return n.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!=e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},r),s.setup(),t.register(s),s}),r("tinymce.core.util.XHR",["tinymce.core.util.Observable","tinymce.core.util.Tools"],function(e,i){var o={send:function(e){var t,n=0;function r(){!e.async||4==t.readyState||1e4<n++?(e.success&&n<1e4&&200==t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,1e4<n?"TIMED_OUT":"GENERAL",t,e),t=null):setTimeout(r,10)}if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",o.fire("beforeInitialize",{settings:e}),t=new XMLHttpRequest){if(t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&i.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),(t=o.fire("beforeSend",{xhr:t,settings:e}).xhr).send(e.data),!e.async)return r();setTimeout(r,10)}}};return i.extend(o,e),o}),r("tinymce.core.util.JSON",[],function(){return{serialize:function e(t,n){var r,i,o,a;if(n=n||'"',null===t)return"null";if("string"==(o=typeof t))return i="\bb\tt\nn\ff\rr\"\"''\\\\",n+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,t){return'"'===n&&"'"===e?e:(r=i.indexOf(t))+1?"\\"+i.charAt(r+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)})+n;if("object"!=o)return""+t;if(t.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(t)){for(r=0,i="[";r<t.length;r++)i+=(0<r?",":"")+e(t[r],n);return i+"]"}for(a in i="{",t)t.hasOwnProperty(a)&&(i+="function"!=typeof t[a]?(1<i.length?","+n:n)+a+n+":"+e(t[a],n):"");return i+"}"},parse:function(e){try{return window[String.fromCharCode(101)+"val"]("("+e+")")}catch(e){}}}}),r("tinymce.core.util.JSONRequest",["tinymce.core.util.JSON","tinymce.core.util.XHR","tinymce.core.util.Tools"],function(o,e,t){var a=t.extend;function n(e){this.settings=a({},e),this.count=0}return n.sendRPC=function(e){return(new n).send(e)},n.prototype={send:function(n){var r=n.error,i=n.success;(n=a(this.settings,n)).success=function(e,t){(e=void 0===(e=o.parse(e))?{error:"JSON Parse error."}:e).error?r.call(n.error_scope||n.scope,e.error,t):i.call(n.success_scope||n.scope,e.result)},n.error=function(e,t){r&&r.call(n.error_scope||n.scope,e,t)},n.data=o.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",e.send(n)}},n}),r("tinymce.core.util.JSONP",["tinymce.core.dom.DOMUtils"],function(e){return{callbacks:{},count:0,send:function(t){var n=this,r=e.DOM,i=(void 0!==t.count?t:n).count,o="tinymce_jsonp_"+i;n.callbacks[i]=function(e){r.remove(o),delete n.callbacks[i],t.callback(e)},r.add(r.doc.body,"script",{id:o,src:t.url,type:"text/javascript"}),n.count++}}}),r("tinymce.core.util.LocalStorage",[],function(){var r,i,t,o,a;try{if(window.localStorage)return localStorage}catch(e){}function s(){for(var e in t=[],i)t.push(e);l.length=t.length}function n(){var e,t="";if(a){for(var n in i)e=i[n],t+=(t?",":"")+n.length.toString(32)+","+n+","+e.length.toString(32)+","+e;r.setAttribute(o,t);try{r.save(o)}catch(e){}s()}}o="tinymce",r=document.documentElement,(a=!!r.addBehavior)&&r.addBehavior("#default#userData");var e,c,l={key:function(e){return t[e]},getItem:function(e){return e in i?i[e]:null},setItem:function(e,t){i[e]=""+t,n()},removeItem:function(e){delete i[e],n()},clear:function(){i={},n()}},u=0;if(i={},a){r.load(o),c=r.getAttribute(o)||"";do{var d=f();if(null===d)break;if(null!==(e=f(parseInt(d,32)||0))){if(null===(d=f()))break;d=f(parseInt(d,32)||0),e&&(i[e]=d)}}while(null!==e);s()}function f(e){var t,e=void 0!==e?u+e:c.indexOf(",",u);return-1===e||e>c.length?null:(t=c.substring(u,e),u=e+1,t)}return l}),r("tinymce.core.util.Color",[],function(){var u=Math.min,d=Math.max,f=Math.round;return function(e){var a=this,s=0,c=0,l=0;function t(e){if("object"==typeof e){if("r"in e)s=e.r,c=e.g,l=e.b;else if("v"in e){var t,n,r=e.h,i=e.s,o=e.v;if(r=(parseInt(r,10)||0)%360,i=parseInt(i,10)/100,o=parseInt(o,10)/100,i=d(0,u(i,1)),o=d(0,u(o,1)),0===i)s=c=l=f(255*o);else{switch(r=r/60,n=(t=o*i)*(1-Math.abs(r%2-1)),i=o-t,Math.floor(r)){case 0:s=t,c=n,l=0;break;case 1:s=n,c=t,l=0;break;case 2:s=0,c=t,l=n;break;case 3:s=0,c=n,l=t;break;case 4:s=n,c=0,l=t;break;case 5:s=t,c=0,l=n;break;default:s=c=l=0}s=f(255*(s+i)),c=f(255*(c+i)),l=f(255*(l+i))}}}else(o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(s=parseInt(o[1],10),c=parseInt(o[2],10),l=parseInt(o[3],10)):(o=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(s=parseInt(o[1],16),c=parseInt(o[2],16),l=parseInt(o[3],16)):(o=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(s=parseInt(o[1]+o[1],16),c=parseInt(o[2]+o[2],16),l=parseInt(o[3]+o[3],16));return s=s<0?0:255<s?255:s,c=c<0?0:255<c?255:c,l=l<0?0:255<l?255:l,a}e&&t(e),a.toRgb=function(){return{r:s,g:c,b:l}},a.toHsv=function(){return e=s,t=c,n=l,a=0,(r=u(e/=255,u(t/=255,n/=255)))==(i=d(e,d(t,n)))?{h:0,s:0,v:100*(a=r)}:(o=(i-r)/i,{h:f(60*((e==r?3:n==r?1:5)-(e==r?t-n:n==r?e-t:n-e)/((a=i)-r))),s:f(100*o),v:f(100*a)});var e,t,n,r,i,o,a},a.toHex=function(){function e(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e}return"#"+e(s)+e(c)+e(l)},a.parse=t}}),r("tinymce.core.ui.Layout",["tinymce.core.util.Class","tinymce.core.util.Tools"],function(e,t){"use strict";return e.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t,n,r=this.settings,i=r.firstControlClass,o=r.lastControlClass;e.each(function(e){e.classes.remove(i).remove(o).add(r.controlClass),e.visible()&&(t=t||e,n=e)}),t&&t.classes.add(i),n&&n.classes.add(o)},renderHtml:function(e){var t="";return this.applyClasses(e.items()),e.items().each(function(e){t+=e.renderHtml()}),t},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),r("tinymce.core.ui.AbsoluteLayout",["tinymce.core.ui.Layout"],function(e){"use strict";return e.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}})}),r("tinymce.core.ui.Button",["tinymce.core.ui.Widget"],function(e){"use strict";return e.extend({Defaults:{classes:"widget btn",role:"button"},init:function(t){var e,n=this;n._super(t),t=n.settings,e=n.settings.size,n.on("click mousedown",function(e){"color-picker"!=t.classes&&e.preventDefault()}),n.on("touchstart",function(e){n.fire("click",e),e.preventDefault()}),t.subtype&&n.classes.add(t.subtype),e&&n.classes.add("btn-"+e),t.icon&&n.icon(t.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e=this.getEl().firstChild;e&&((e=e.style).width=e.height="100%"),this._super()},renderHtml:function(){var e,t,n=this,r=n._id,i=n.classPrefix,o=n.state.get("icon"),a=n.state.get("text"),s="",c=n.settings.image,o=(c=c?(o="none"," style=\"background-image: url('"+(c="string"!=typeof c?window.getSelection?c[0]:c[1]:c)+"')\""):"",a&&(n.classes.add("btn-has-text"),s='<span class="'+i+'txt">'+n.encode(a)+"</span>"),o?i+"ico "+i+"i-"+o:""),i="";return void 0!==n.classes.cls&&-1<n.classes.cls.indexOf("color-picker")&&(i='<div class="wp-color"><input type="text" value="transparent" name="tinymce_textcolor" class="tiny-mce-color-picker" /></div>'),void 0!==n.classes.cls&&-1<n.classes.cls.indexOf("range-slider")?(e=6,t="","letterspacing"==a&&(e=0,t=' data-negative="true" data-divider="10"'),'<div id="'+r+'" class="'+n.classes+'" tabindex="-1" aria-labelledby="'+r+'">'+(o?'<i class="'+o+'"'+c+"></i>":"")+'<input type="number" data-type="range-slider" value="'+{fontsize:18,lineheight:30,letterspacing:0}[a]+'" data-input-type="range-slider" min="'+e+'" max="9999"'+t+' name="'+a+'_semplice"></div>'):'<div id="'+r+'" class="'+n.classes+'" tabindex="-1" aria-labelledby="'+r+'"><button role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+c+"></i>":"")+s+"</button>"+i+"</div>"},bindStates:function(){var r=this,n=r.$,i=r.classPrefix+"txt";function o(e){var t=n("span."+i,r.getEl());e?(t[0]||(n("button:first",r.getEl()).append('<span class="'+i+'"></span>'),t=n("span."+i,r.getEl())),t.html(r.encode(e))):t.remove(),r.classes.toggle("btn-has-text",!!e)}return r.state.on("change:text",function(e){o(e.value)}),r.state.on("change:icon",function(e){var e=e.value,t=r.classPrefix,t=(e=(r.settings.icon=e)?t+"ico "+t+"i-"+r.settings.icon:"",r.getEl().firstChild),n=t.getElementsByTagName("i")[0];e?(n&&n==t.firstChild||(n=document.createElement("i"),t.insertBefore(n,t.firstChild)),n.className=e):n&&t.removeChild(n),o(r.state.get("text"))}),r._super()}})}),r("tinymce.core.ui.ButtonGroup",["tinymce.core.ui.Container"],function(e){"use strict";return e.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this._layout;return this.classes.add("btn-group"),this.preRender(),e.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+(this.settings.html||"")+e.renderHtml(this)+"</div></div>"}})}),r("tinymce.core.ui.Checkbox",["tinymce.core.ui.Widget"],function(e){"use strict";return e.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'" unselectable="on" aria-labelledby="'+e+'-al" tabindex="-1"><i class="'+t+"ico "+t+'i-checkbox"></i><span id="'+e+'-al" class="'+t+'label">'+this.encode(this.state.get("text"))+"</span></div>"},bindStates:function(){var r=this;function t(e){r.classes.toggle("checked",e),r.aria("checked",e)}return r.state.on("change:text",function(e){r.getEl("al").firstChild.data=r.translate(e.value)}),r.state.on("change:checked change:value",function(e){r.fire("change"),t(e.value)}),r.state.on("change:icon",function(e){var e=e.value,t=r.classPrefix;if(void 0===e)return r.settings.icon;var e=(r.settings.icon=e)?t+"ico "+t+"i-"+r.settings.icon:"",t=r.getEl().firstChild,n=t.getElementsByTagName("i")[0];e?(n&&n==t.firstChild||(n=document.createElement("i"),t.insertBefore(n,t.firstChild)),n.className=e):n&&t.removeChild(n)}),r.state.get("checked")&&t(!0),r._super()}})}),r("tinymce.core.ui.ComboBox",["tinymce.core.ui.Widget","tinymce.core.ui.Factory","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery","tinymce.core.util.VK","tinymce.core.util.Tools"],function(e,n,o,a,i,t){"use strict";return e.extend({init:function(r){var i=this;i._super(r),r=i.settings,i.classes.add("combobox"),i.subinput=!0,i.ariaTarget="inp",r.menu=r.menu||r.values,r.menu&&(r.icon="caret"),i.on("click",function(e){var t=e.target,n=i.getEl();if(a.contains(n,t)||t==n)for(;t&&t!=n;)t.id&&-1!=t.id.indexOf("-open")&&(i.fire("action"),r.menu&&(i.showMenu(),e.aria&&i.menu.items()[0].focus())),t=t.parentNode}),i.on("keydown",function(e){var t;13==e.keyCode&&"INPUT"===e.target.nodeName&&(e.preventDefault(),i.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),i.fire("submit",{data:t.toJSON()}))}),i.on("keyup",function(e){var t,n;"INPUT"==e.target.nodeName&&(t=i.state.get("value"),(n=e.target.value)!==t&&(i.state.set("value",n),i.fire("autocomplete",e)))}),i.on("mouseover",function(e){var t,n=i.tooltip().moveTo(-65535);i.statusLevel()&&-1!==e.target.className.indexOf(i.classPrefix+"status")&&(t=i.statusMessage()||"Ok",t=n.text(t).show().testMoveRel(e.target,["bc-tc","bc-tl","bc-tr"]),n.classes.toggle("tooltip-n","bc-tc"==t),n.classes.toggle("tooltip-nw","bc-tl"==t),n.classes.toggle("tooltip-ne","bc-tr"==t),n.moveRel(e.target,t))})},statusLevel:function(e){return 0<arguments.length&&this.state.set("statusLevel",e),this.state.get("statusLevel")},statusMessage:function(e){return 0<arguments.length&&this.state.set("statusMessage",e),this.state.get("statusMessage")},showMenu:function(){var t=this,e=t.settings;t.menu||((e=e.menu||[]).length?e={type:"menu",items:e}:e.type=e.type||"menu",t.menu=n.create(e).parent(t).renderTo(t.getContainerElm()),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(e){e.control===t.menu&&t.focus()}),t.menu.on("show hide",function(e){e.control.items().each(function(e){e.active(e.value()==t.value())})}).fire("show"),t.menu.on("select",function(e){t.value(e.control.value())}),t.on("focusin",function(e){"INPUT"==e.target.tagName.toUpperCase()&&t.menu.hide()}),t.aria("expanded",!0)),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var e,t=this.getEl(),n=this.getEl("open"),r=this.layoutRect(),i=0,t=t.firstChild,r=(this.statusLevel()&&"none"!==this.statusLevel()&&(i=parseInt(o.getRuntimeStyle(t,"padding-right"),10)-parseInt(o.getRuntimeStyle(t,"padding-left"),10)),n=n?r.w-o.getSize(n).width-10:r.w-10,document);return r.all&&(!r.documentMode||r.documentMode<=8)&&(e=this.layoutRect().h-2+"px"),a(t).css({width:n-i,lineHeight:e}),this._super(),this},postRender:function(){var t=this;return a(this.getEl("inp")).on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)}),t._super()},renderHtml:function(){var e,t,n,r=this,i=r._id,o=r.settings,a=r.classPrefix,s=r.state.get("value")||"",c="",l="";return"spellcheck"in o&&(l+=' spellcheck="'+o.spellcheck+'"'),o.maxLength&&(l+=' maxlength="'+o.maxLength+'"'),o.size&&(l+=' size="'+o.size+'"'),o.subtype&&(l+=' type="'+o.subtype+'"'),n='<i id="'+i+'-status" class="mce-status mce-ico" style="display: none"></i>',r.disabled()&&(l+=' disabled="disabled"'),(e=o.icon)&&"caret"!=e&&(e=a+"ico "+a+"i-"+o.icon),t=r.state.get("text"),(e||t)&&(c='<div id="'+i+'-open" class="'+a+"btn "+a+'open" tabIndex="-1" role="button"><button id="'+i+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=e?'<i class="'+e+'"></i>':'<i class="'+a+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button></div>",r.classes.add("has-open")),'<div id="'+i+'" class="'+r.classes+'"><input id="'+i+'-inp" class="'+a+'textbox" value="'+r.encode(s,!1)+'" hidefocus="1"'+l+' placeholder="'+r.encode(o.placeholder)+'" />'+n+c+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(e,r){var i=this;0===e.length?i.hideMenu():(i.menu?i.menu.items().remove():i.menu=n.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(i).renderTo(),t.each(e,function(e){var t,n;i.menu.add({text:e.title,url:e.previewUrl,match:r,classes:"menu-item-ellipsis",onclick:(t=e.value,n=e.title,function(){i.fire("selectitem",{title:n,value:t})})})}),i.menu.renderNew(),i.hideMenu(),i.menu.on("cancel",function(e){e.control.parent()===i.menu&&(e.stopPropagation(),i.focus(),i.hideMenu())}),i.menu.on("select",function(){i.focus()}),e=i.layoutRect().w,i.menu.layoutRect({w:e,minW:0,maxW:e}),i.menu.reflow(),i.menu.show(),i.menu.moveRel(i.getEl(),i.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]))},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){function n(e,t){t&&0<t.items().length&&t.items().eq(e)[0].focus()}var r=this;r.state.on("change:value",function(e){r.getEl("inp").value!=e.value&&(r.getEl("inp").value=e.value)}),r.state.on("change:disabled",function(e){r.getEl("inp").disabled=e.value}),r.state.on("change:statusLevel",function(e){var t=r.getEl("status"),n=r.classPrefix,e=e.value;o.css(t,"display","none"===e?"none":""),o.toggleClass(t,n+"i-checkmark","ok"===e),o.toggleClass(t,n+"i-warning","warn"===e),o.toggleClass(t,n+"i-error","error"===e),r.classes.toggle("has-status","none"!==e),r.repaint()}),o.on(r.getEl("status"),"mouseleave",function(){r.tooltip().hide()}),r.on("cancel",function(e){r.menu&&r.menu.visible()&&(e.stopPropagation(),r.hideMenu())});return r.on("keydown",function(e){var t=e.keyCode;"INPUT"===e.target.nodeName&&(t===i.DOWN?(e.preventDefault(),r.fire("autocomplete"),n(0,r.menu)):t===i.UP&&(e.preventDefault(),n(-1,r.menu)))}),r._super()},remove:function(){a(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}})}),r("tinymce.core.ui.ColorBox",["tinymce.core.ui.ComboBox"],function(e){"use strict";return e.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",function(){t.repaintColor(t.value())})},repaintColor:function(e){var t=this.getEl("open"),t=t?t.getElementsByTagName("i")[0]:null;if(t)try{t.style.background=e}catch(e){}},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.state.get("rendered")&&t.repaintColor(e.value)}),t._super()}})}),r("tinymce.core.ui.PanelButton",["tinymce.core.ui.Button","tinymce.core.ui.FloatPanel"],function(e,r){"use strict";return e.extend({showPanel:function(){var t=this,e=t.settings,n=(t.active(!0),t.panel?t.panel.show():((n=(n=e.panel).type?{layout:"grid",items:n}:n).role=n.role||"dialog",n.popover=!0,n.autohide=!0,n.ariaRoot=!0,t.panel=new r(n).on("hide",function(){t.active(!1)}).on("cancel",function(e){e.stopPropagation(),t.focus(),t.hidePanel()}).parent(t).renderTo(t.getContainerElm()),t.panel.fire("show"),t.panel.reflow()),t.panel.testMoveRel(t.getEl(),e.popoverAlign||(t.isRtl()?["bc-tc","bc-tl","bc-tr"]:["bc-tc","bc-tr","bc-tl"])));t.panel.classes.toggle("start","bc-tl"===n),t.panel.classes.toggle("end","bc-tr"===n),t.panel.moveRel(t.getEl(),n)},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var t=this;return t.aria("haspopup",!0),t.on("click",function(e){e.control===t&&(t.panel&&t.panel.visible()?t.hidePanel():(t.showPanel(),t.panel.focus(!!e.aria)))}),t._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),r("tinymce.core.ui.ColorButton",["tinymce.core.ui.PanelButton","tinymce.core.dom.DOMUtils"],function(e,t){"use strict";var r=t.DOM;return e.extend({init:function(e){this._super(e),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.state.get("text"),i=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",o=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"",a="";return r&&(e.classes.add("btn-has-text"),a='<span class="'+n+'txt">'+e.encode(r)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+o+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+a+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var t=this,n=t.settings.onclick;return t.on("click",function(e){e.aria&&"down"==e.aria.key||e.control!=t||r.getParent(e.target,"."+t.classPrefix+"open")||(e.stopImmediatePropagation(),n.call(t,e))}),delete t.settings.onclick,t._super()}})}),r("tinymce.core.ui.ColorPicker",["tinymce.core.ui.Widget","tinymce.core.ui.DragHelper","tinymce.core.ui.DomUtils","tinymce.core.util.Color"],function(e,d,f,m){"use strict";return e.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){var t,n,r,i,o,a=this,s=a.color();function c(e,t){var n=f.getPos(e),r=t.pageX-n.x,t=t.pageY-n.y;return{x:Math.max(0,Math.min(r/e.clientWidth,1)),y:Math.max(0,Math.min(t/e.clientHeight,1))}}function l(e,t){var n=(360-e.h)/360;f.css(r,{top:100*n+"%"}),t||f.css(o,{left:e.s+"%",top:100-e.v+"%"}),i.style.background=new m({s:100,v:100,h:e.h}).toHex(),a.color().parse({s:e.s,v:e.v,h:e.h})}function e(e){e=c(i,e);t.s=100*e.x,t.v=100*(1-e.y),l(t),a.fire("change")}function u(e){e=c(n,e);(t=s.toHsv()).h=360*(1-e.y),l(t,!0),a.fire("change")}n=a.getEl("h"),r=a.getEl("hp"),i=a.getEl("sv"),o=a.getEl("svp"),a._repaint=function(){l(t=s.toHsv())},a._super(),a._svdraghelper=new d(a._id+"-sv",{start:e,drag:e}),a._hdraghelper=new d(a._id+"-h",{start:u,drag:u}),a._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){if(!arguments.length)return this.color().toHex();this.color().parse(e),this._rendered&&this._repaint()},color:function(){return this._color||(this._color=new m),this._color},renderHtml:function(){var e=this._id,o=this.classPrefix,a="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";var t='<div id="'+e+'-h" class="'+o+'colorpicker-h" style="background: -ms-linear-gradient(top,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);background: linear-gradient(to bottom,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);">'+function(){for(var e="",t="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",n=a.split(","),r=0,i=n.length-1;r<i;r++)e+='<div class="'+o+'colorpicker-h-chunk" style="height:'+100/i+"%;"+t+n[r]+",endColorstr="+n[r+1]+");-ms-"+t+n[r]+",endColorstr="+n[r+1]+')"></div>';return e}()+'<div id="'+e+'-hp" class="'+o+'colorpicker-h-marker"></div></div>';return'<div id="'+e+'" class="'+this.classes+'"><div id="'+e+'-sv" class="'+o+'colorpicker-sv"><div class="'+o+'colorpicker-overlay1"><div class="'+o+'colorpicker-overlay2"><div id="'+e+'-svp" class="'+o+'colorpicker-selector1"><div class="'+o+'colorpicker-selector2"></div></div></div></div></div>'+t+"</div>"}})}),r("tinymce.core.ui.Path",["tinymce.core.ui.Widget"],function(e){"use strict";return e.extend({init:function(e){var t=this;e.delimiter||(e.delimiter=""),t._super(e),t.classes.add("path"),t.canFocus=!0,t.on("click",function(e){(e=e.target.getAttribute("data-index"))&&t.fire("select",{value:t.row()[e],index:e})}),t.row(t.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var t=this;return t.state.on("change:row",function(e){t.innerHtml(t._getDataPathHtml(e.value))}),t._super()},_getDataPathHtml:function(e){for(var t=e||[],n="",r=this.classPrefix,i=0,o=t.length;i<o;i++)n+=(0<i?'<div class="'+r+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+r+"path-item"+(i==o-1?" "+r+"last":"")+'" data-index="'+i+'" tabindex="-1" id="'+this._id+"-"+i+'" aria-level="'+(i+1)+'">'+t[i].name+"</div>";return n=n||'<div class="'+r+'path-item"></div>'}})}),r("tinymce.core.ui.ElementPath",["tinymce.core.ui.Path"],function(e){return e.extend({postRender:function(){var o=this,a=o.settings.editor;return!1!==a.settings.elementpath&&(o.on("select",function(e){a.focus(),a.selection.select(this.row()[e.index].element),a.nodeChanged()}),a.on("nodeChange",function(e){for(var t=[],n=e.parents,r=n.length;r--;)if(1==n[r].nodeType&&!function(e){if(1===e.nodeType){if("BR"==e.nodeName||e.getAttribute("data-mce-bogus"))return 1;if("bookmark"===e.getAttribute("data-mce-type"))return 1}}(n[r])){var i=a.fire("ResolveName",{name:n[r].nodeName.toLowerCase(),target:n[r]});if(i.isDefaultPrevented()||t.push({name:i.name,element:n[r]}),i.isPropagationStopped())break}o.row(t)})),o._super()}})}),r("tinymce.core.ui.FormItem",["tinymce.core.ui.Container"],function(e){"use strict";return e.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})}),r("tinymce.core.ui.Form",["tinymce.core.ui.Container","tinymce.core.ui.FormItem","tinymce.core.util.Tools"],function(e,r,i){"use strict";return e.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var n=this,e=n.items();n.settings.formItemDefaults||(n.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),e.each(function(e){var t=e.settings.label;t&&((t=new r(i.extend({items:{type:"label",id:e._id+"-l",text:t,flex:0,forId:e._id,disabled:e.disabled()}},n.settings.formItemDefaults))).type="formitem",e.aria("labelledby",e._id+"-l"),void 0===e.settings.flex&&(e.settings.flex=1),n.replace(e,t),t.add(e))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super(),this.fromJSON(this.settings.data)},bindStates:function(){var i=this;function e(){var e,t,n=0,r=[];if(!1!==i.settings.labelGapCalc)for(("children"==i.settings.labelGapCalc?i.find("formitem"):i.items()).filter("formitem").each(function(e){var e=e.items()[0],t=e.getEl().clientWidth;n=n<t?t:n,r.push(e)}),t=i.settings.labelGap||0,e=r.length;e--;)r[e].settings.minWidth=n+t}i._super(),i.on("show",e),e()}})}),r("tinymce.core.ui.FieldSet",["tinymce.core.ui.Form"],function(e){"use strict";return e.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}})}),r("tinymce.core.content.LinkTargets",["ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorFilter","tinymce.core.dom.DOMUtils","tinymce.core.dom.NodeType","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.util.Tools","tinymce.core.util.Uuid"],function(n,r,e,i,o,a,t,s){function c(e,t,n,r,i){return{type:e,title:t,url:n,level:r,attach:i}}function l(e){return e.innerText||e.textContent}function u(e){return e&&/^(H[1-6])$/.test(e.nodeName)}function d(e){return h(e)&&!i.isContentEditableFalse(e)}function f(e){return 0<m(e.title).length}var m=t.trim,h=function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return i.isContentEditableTrue(e)}return!1},p=function(e,t){return o.map(r.descendants(n.fromDom(t),e),function(e){return e.dom()})},g=function(e){return(t=e)&&"A"===t.nodeName&&(t.id||t.name)&&d(e);var t},y=function(e){return u(e)&&d(e)},v=function(e){var t,n=e.id||s.uuid("h");return c("header",l(e),"#"+n,u(t=e)?parseInt(t.nodeName.substr(1),10):0,function(){e.id=n})},b=function(e){var t=e.id||e.name,e=l(e);return c("anchor",e||"#"+t,"#"+t,0,a.noop)};return{find:function(e){e=p("h1,h2,h3,h4,h5,h6,a:not([href])",e);return o.filter(o.map(o.filter(e,y),v).concat(o.map(o.filter(e,g),b)),f)}}}),r("tinymce.core.ui.FilePicker",["global!window","tinymce.core.content.LinkTargets","tinymce.core.EditorManager","tinymce.core.ui.ComboBox","tinymce.core.util.Arr","tinymce.core.util.Fun","tinymce.core.util.Tools"],function(c,a,l,e,u,d,f){"use strict";function t(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}}}function s(e,n,t,r){function i(e){return e=u.filter(e[t],function(e){return b(e,n)}),f.map(e,function(e){return{title:e,value:{title:e,url:e,attach:d.noop}}})}function o(t){var e=u.filter(n,function(e){return e.type==t});return y(e)}var a,s,c={title:"-"};return!1===r.typeahead_urls?[]:"file"===t?(s=[C(e,i(p)),C(e,o("header")),C(e,(a=o("anchor"),s=x(r,"anchor_top","#top"),r=x(r,"anchor_bottom","#bottom"),null!==s&&a.unshift(v("<top>",s)),null!==r&&a.push(v("<bottom>",r)),a))],u.reduce(s,function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(c,t)},[])):C(e,i(p))}function m(r,n,i,o){function t(e){var t=a.find(i),t=s(e,t,o,n);r.showAutoComplete(t,e)}r.on("autocomplete",function(){t(r.value())}),r.on("selectitem",function(e){var e=e.value,t=(r.value(e.url),function(e){e=e.title;return e.raw||e}(e));"image"===o?r.fire("change",{meta:{alt:t,attach:e.attach}}):r.fire("change",{meta:{text:t,attach:e.attach}}),r.focus()}),r.on("click",function(e){0===r.value().length&&"INPUT"===e.target.nodeName&&t("")}),r.on("PostRender",function(){r.getRoot().on("submit",function(e){var t,n;e.isDefaultPrevented()||(e=r.value(),n=p[t=o],/^https?/.test(e)&&(n?-1===u.indexOf(n,e)&&(p[t]=n.slice(0,g).concat(e)):p[t]=[e]))})})}function h(n,e,t){var r,i=e.filepicker_validator_handler;i&&(r=function(e){0===e.length?n.statusLevel("none"):i({url:e,type:t},function(e){t=(e=e).status,e=e.message;var t="valid"===t?{status:"ok",message:e}:"unknown"===t||"invalid"===t?{status:"warn",message:e}:{status:"none",message:""};n.statusMessage(t.message),n.statusLevel(t.status)})},n.state.on("change:value",function(e){r(e.value)}))}var p={},g=5,y=function(e){return f.map(e,t)},v=function(e,t){return{title:e,value:{title:e,url:t,attach:d.noop}}},b=function(t,e){return!u.find(e,function(e){return e.url===t})},x=function(e,t,n){e=t in e?e[t]:n;return!1===e?null:e},C=function(e,t){var n=e.toLowerCase(),t=f.grep(t,function(e){return-1!==e.title.toLowerCase().indexOf(n)});return 1===t.length&&t[0].title===e?[]:t};return e.extend({init:function(e){var t,n,r,i=this,o=(c.tinymce||l).activeEditor,a=o.settings,s=e.filetype;e.spellcheck=!1,(r=(r=a.file_picker_types||a.file_browser_callback_types)&&f.makeMap(r,/[, ]/))&&!r[s]||(!(n=a.file_picker_callback)||r&&!r[s]?!(n=a.file_browser_callback)||r&&!r[s]||(t=function(){n(i.getEl("inp").id,i.value(),s,c)}):t=function(){var e=i.fire("beforecall").meta,e=f.extend({filetype:s},e);n.call(o,function(e,t){i.value(e).fire("change",{meta:t})},i.value(),e)}),t&&(e.icon="browse",e.onaction=t),i._super(e),m(i,a,o.getBody(),s),h(i,a,s)}})}),r("tinymce.core.ui.FitLayout",["tinymce.core.ui.AbsoluteLayout"],function(e){"use strict";return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}})}),r("tinymce.core.ui.FlexLayout",["tinymce.core.ui.AbsoluteLayout"],function(e){"use strict";return e.extend({recalc:function(e){var t,n,r,i,o,a,s,c,L,l,u,d,f,m,h,p,g,y,v,b,x,C,w,k,E,S,N,T,R=[],_=Math.max,I=Math.min,B=e.items().filter(":visible"),A=e.layoutRect(),D=e.paddingBox,P=e.settings,O=e.isRtl()?P.direction||"row-reversed":P.direction,M=P.align,F=e.isRtl()?P.pack||"end":P.pack,H=P.spacing||0;for("row-reversed"!=O&&"column-reverse"!=O||(B=B.set(B.toArray().reverse()),O=O.split("-")[0]),P="column"==O?(p="y",m="h",h="minH",g="maxH",v="innerH",y="top",b="deltaH",x="contentH",S="left",k="w",C="x",w="innerW",E="minW",N="right",T="deltaW","contentW"):(p="x",m="w",h="minW",g="maxW",v="innerW",y="left",b="deltaW",x="contentW",S="top",k="h",C="y",w="innerH",E="minH",N="bottom",T="deltaH","contentH"),i=A[v]-D[y]-D[y],t=f=r=0,n=B.length;t<n;t++)a=(o=B[t]).layoutRect(),i-=t<n-1?H:0,0<(s=o.settings.flex)&&(r+=s,a[g]&&R.push(o),a.flex=s),i-=a[h],f<(c=D[S]+a[E]+D[N])&&(f=c);if((u={})[h]=i<0?A[h]-i+A[b]:A[v]-i+A[b],u[E]=f+A[T],u[x]=A[v]-i,u[P]=f,u.minW=I(u.minW,A.maxW),u.minH=I(u.minH,A.maxH),u.minW=_(u.minW,A.startMinWidth),u.minH=_(u.minH,A.startMinHeight),!A.autoResize||u.minW==A.minW&&u.minH==A.minH){for(l=i/r,t=0,n=R.length;t<n;t++)(L=(a=(o=R[t]).layoutRect())[g])<(c=a[h]+a.flex*l)?(i-=a[g]-a[h],r-=a.flex,a.flex=0,a.maxFlexSize=L):a.maxFlexSize=0;for(l=i/r,d=D[y],u={},0===r&&("end"==F?d=i+D[y]:"center"==F?(d=Math.round(A[v]/2-(A[v]-i)/2)+D[y])<0&&(d=D[y]):"justify"==F&&(d=D[y],H=Math.floor(i/(B.length-1)))),u[C]=D[S],t=0,n=B.length;t<n;t++)c=(a=(o=B[t]).layoutRect()).maxFlexSize||a[h],"center"===M?u[C]=Math.round(A[w]/2-a[k]/2):"stretch"===M?(u[k]=_(a[E]||0,A[w]-D[S]-D[N]),u[C]=D[S]):"end"===M&&(u[C]=A[w]-a[k]-D.top),0<a.flex&&(c+=a.flex*l),u[m]=c,u[p]=d,o.layoutRect(u),o.recalc&&o.recalc(),d+=c+H}else u.w=u.minW,u.h=u.minH,e.layoutRect(u),this.recalc(e),null===e._lastRect&&(O=e.parent())&&(O._lastRect=null,O.recalc())}})}),r("tinymce.core.ui.FlowLayout",["tinymce.core.ui.Layout"],function(e){return e.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}})}),r("tinymce.core.fmt.FontInfo",["ephox.katamari.api.Fun","ephox.katamari.api.Option","ephox.sugar.api.node.Element","ephox.sugar.api.node.Node","tinymce.core.dom.DOMUtils"],function(e,i,t,o,a){function n(r){return function(n,e){return i.from(e).map(t.fromDom).filter(o.isElement).bind(function(e){return function(e,t,n){for(;n!==t;){var r;if(n.style[e])return""!==(r=n.style[e])?i.some(r):i.none();n=n.parentNode}return i.none()}(r,n,e.dom()).or((t=r,e=e.dom(),i.from(a.DOM.getStyle(e,t,!0))));var t}).getOr("")}}return{getFontSize:n("fontSize"),getFontFamily:e.compose(function(e){return e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")},n("fontFamily")),toPt:function(e){return/[0-9.]+px$/.test(e)?Math.round(72*parseInt(e,10)/96)+"pt":e}}}),r("tinymce.core.ui.FormatControls",["ephox.katamari.api.Fun","ephox.sugar.api.node.Element","ephox.sugar.api.search.SelectorFind","tinymce.core.dom.DOMUtils","tinymce.core.EditorManager","tinymce.core.Env","tinymce.core.fmt.FontInfo","tinymce.core.ui.Control","tinymce.core.ui.FloatPanel","tinymce.core.ui.Widget","tinymce.core.util.Arr","tinymce.core.util.Tools"],function(m,h,p,e,t,g,y,v,b,n,x,C){var w=C.each;return t.on("AddEditor",function(e){var t,s,r,n,e=e.editor;function i(o){return function(){function r(e){return e?e.split(",")[0]:""}var i=this;s.on("init nodeChange",function(e){var t=null,n=y.getFontFamily(s.getBody(),e.element);w(o,function(e){e.value.toLowerCase()===n.toLowerCase()&&(t=e.value)}),w(o,function(e){t||r(e.value).toLowerCase()!==r(n).toLowerCase()||(t=e.value)}),i.value(t),!t&&n&&i.text(r(n))})}}function a(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}function o(e){return function(){var t=this;s.formatter?s.formatter.formatChanged(e,function(e){t.active(e)}):s.on("init",function(){s.formatter.formatChanged(e,function(e){t.active(e)})})}}function c(n){return function(){var e=this;function t(){return s.undoManager&&s.undoManager["redo"==n?"hasRedo":"hasUndo"]()}e.disabled(!t()),s.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){e.disabled(s.readonly||!t())})}}function l(e){return e=0<(e=0<e.length&&"-"===e[0].text?e.slice(1):e).length&&"-"===e[e.length-1].text?e.slice(0,e.length-1):e}function u(e){return e.insert_button_items?l(r(e.insert_button_items)):l((t="insert",n=[{text:"-"}],e=C.grep(s.menuItems,function(e){return e.context===t}),C.each(e,function(e){"before"==e.separator&&n.push({text:"|"}),e.prependToContext?n.unshift(e):n.push(e),"after"==e.separator&&n.push({text:"|"})}),n));var t,n}function d(e){(e=e.control?e.control.value():e)&&s.execCommand("mceToggleFormat",!1,e)}function f(e){var n=e.items().length;return e.items().each(function(e){e.menu&&e.visible(0<f(e.menu)),!e.menu&&e.settings.menu&&e.visible(0<function n(e){var r=e.length;return C.each(e,function(e){e.menu&&(e.hidden=0===n(e.menu));var t=e.format;t&&(e.hidden=!s.formatter.canApply(t)),e.hidden&&r--}),r}(e.settings.menu));var t=e.settings.format;t&&e.visible(s.formatter.canApply(t)),e.visible()||n--}),n}(t=e).on("ScriptsLoaded",function(){t.rtl&&(v.rtl=!0)}),s=e,n=function(){var i=0,o=[],e=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];function a(e){var r=[];if(e)return w(e,function(e){var t,n={text:e.title,icon:e.icon};e.items?n.menu=a(e.items):(t=e.format||"custom"+i++,e.format||(e.name=t,o.push(e)),n.format=t,n.cmd=e.cmd),r.push(n)}),r}return s.on("init",function(){w(o,function(e){s.formatter.register(e.name,e)})}),{type:"menu",items:s.settings.style_formats_merge?s.settings.style_formats?a(e.concat(s.settings.style_formats)):a(e):a(s.settings.style_formats||e),onPostRender:function(e){s.fire("renderFormatsMenu",{control:e.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return s.formatter.getCssText(this.settings.format)},onPostRender:function(){var t=this;t.parent().on("show",function(){var e=t.settings.format;e&&(t.disabled(!s.formatter.canApply(e)),t.active(s.formatter.match(e))),(e=t.settings.cmd)&&t.active(s.queryCommandState(e))})},onclick:function(){this.settings.format&&d(this.settings.format),this.settings.cmd&&s.execCommand(this.settings.cmd)}}}}(),w({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(e,t){s.addButton(t,{tooltip:e,onPostRender:o(t),onclick:function(){d(t)}})}),w({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(e,t){s.addButton(t,{tooltip:e[0],cmd:e[1]})}),w({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(e,t){s.addButton(t,{tooltip:e[0],cmd:e[1],onPostRender:o(t)})}),r=function(e){var t;if("string"==typeof e)t=e.split(" ");else if(C.isArray(e))return e=C.map(e,r),x.reduce(e,function(e,t){return e.concat(t)},[]);return e=C.grep(t,function(e){return"|"===e||e in s.menuItems}),C.map(e,function(e){return"|"===e?{text:"-"}:s.menuItems[e]})},s.addButton("undo",{tooltip:"Undo",onPostRender:c("undo"),cmd:"undo"}),s.addButton("redo",{tooltip:"Redo",onPostRender:c("redo"),cmd:"redo"}),s.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),s.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:c("undo"),cmd:"undo"}),s.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:c("redo"),cmd:"redo"}),s.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(){var t=this;s.on("VisualAid",function(e){t.active(e.hasVisual)}),t.active(s.hasVisual)},cmd:"mceToggleVisualAid"}),s.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),s.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(u(s.settings)),this.menu.renderNew()}}),w({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(e,t){s.addMenuItem(t,{text:e[0],icon:t,shortcut:e[2],cmd:e[1]})}),s.on("mousedown",function(){b.hideAll()}),s.addButton("styleselect",{type:"menubutton",text:"Formats",menu:n,onShowMenu:function(){s.settings.style_formats_autohide&&f(this.menu)}}),s.addButton("formatselect",function(){var i,o,t=[],e=a(s.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return w(e,function(e){t.push({text:e[0],value:e[1],textStyle:function(){return s.formatter.getCssText(e[1])}})}),{type:"listbox",text:e[0][0],values:t,fixedWidth:!0,onselect:d,onPostRender:(i=t,function(){var t=this;s.on("nodeChange",function(e){var n=s.formatter,r=null;w(e.parents,function(t){if(w(i,function(e){if(o?n.matchNode(t,o,{value:e.value})&&(r=e.value):n.matchNode(t,e.value)&&(r=e.value),r)return!1}),r)return!1}),t.value(r)})})}}),s.addButton("fontselect",function(){var t=[],e=a(s.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return w(e,function(e){t.push({text:{raw:e[0]},value:e[1],textStyle:-1==e[1].indexOf("dings")?"font-family:"+e[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:t,fixedWidth:!0,onPostRender:i(t),onselect:function(e){e.control.settings.value&&s.execCommand("FontName",!1,e.control.settings.value)}}}),s.addButton("fontsizeselect",function(){var o,r=[],e=s.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt";return w(e.split(" "),function(e){var t=e,n=e,e=e.split("=");1<e.length&&(t=e[0],n=e[1]),r.push({text:t,value:n})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:r,fixedWidth:!0,onPostRender:(o=r,function(){var i=this;s.on("init nodeChange",function(e){var t=null,n=y.getFontSize(s.getBody(),e.element),r=y.toPt(n);w(o,function(e){e.value===n?t=n:e.value===r&&(t=r)}),i.value(t),t||i.text(r)})}),onclick:function(e){e.control.settings.value&&s.execCommand("FontSize",!1,e.control.settings.value)}}}),s.addMenuItem("formats",{text:"Formats",menu:n}),(n=e).settings.ui_container&&(g.container=p.descendant(h.fromDom(document.body),n.settings.ui_container).fold(m.constant(null),function(e){return e.dom()}))}),v.translate=function(e){return t.translate(e)},n.tooltips=!g.iOS,{}}),r("tinymce.core.ui.GridLayout",["tinymce.core.ui.AbsoluteLayout"],function(e){"use strict";return e.extend({recalc:function(e){var t,n,r,i,o,a,s,c,l,u,d,f,m,h,p,g,y=[],v=[],b=e.settings,x=e.items().filter(":visible"),C=e.layoutRect(),w=b.columns||Math.ceil(Math.sqrt(x.length)),k=Math.ceil(x.length/w),E=b.spacingH||b.spacing||0,S=b.spacingV||b.spacing||0,N=b.alignH||b.align,T=b.alignV||b.align,R=e.paddingBox,_="reverseRows"in b?b.reverseRows:e.isRtl();for(N&&"string"==typeof N&&(N=[N]),T&&"string"==typeof T&&(T=[T]),O=0;O<w;O++)y.push(0);for(a=0;a<k;a++)v.push(0);for(a=0;a<k;a++)for(O=0;O<w&&(o=x[a*w+O]);O++)m=(i=o.layoutRect()).minW,h=i.minH,y[O]=m>y[O]?m:y[O],v[a]=h>v[a]?h:v[a];for(p=C.innerW-R.left-R.right,O=d=0;O<w;O++)d+=y[O]+(0<O?E:0),p-=(0<O?E:0)+y[O];for(g=C.innerH-R.top-R.bottom,a=f=0;a<k;a++)f+=v[a]+(0<a?S:0),g-=(0<a?S:0)+v[a];if(d+=R.left+R.right,f+=R.top+R.bottom,(r={}).minW=d+(C.w-C.innerW),r.minH=f+(C.h-C.innerH),r.contentW=r.minW-C.deltaW,r.contentH=r.minH-C.deltaH,r.minW=Math.min(r.minW,C.maxW),r.minH=Math.min(r.minH,C.maxH),r.minW=Math.max(r.minW,C.startMinWidth),r.minH=Math.max(r.minH,C.startMinHeight),!C.autoResize||r.minW==C.minW&&r.minH==C.minH){C.autoResize&&((r=e.layoutRect(r)).contentW=r.minW-C.deltaW,r.contentH=r.minH-C.deltaH),B="start"!=b.packV&&0<g?Math.floor(g/k):0;var B,A=0,D=b.flexWidths;if(D)for(O=0;O<D.length;O++)A+=D[O];else A=w;for(var P=p/A,O=0;O<w;O++)y[O]+=D?D[O]*P:P;for(c=R.top,a=0;a<k;a++){for(s=R.left,n=v[a]+B,O=0;O<w&&(o=x[_?a*w+w-1-O:a*w+O]);O++)l=o.settings,i=o.layoutRect(),t=Math.max(y[O],i.startMinWidth),i.x=s,i.y=c,"center"==(u=l.alignH||(N?N[O]||N[0]:null))?i.x=s+t/2-i.w/2:"right"==u?i.x=s+t-i.w:"stretch"==u&&(i.w=t),"center"==(u=l.alignV||(T?T[O]||T[0]:null))?i.y=c+n/2-i.h/2:"bottom"==u?i.y=c+n-i.h:"stretch"==u&&(i.h=n),o.layoutRect(i),s+=t+E,o.recalc&&o.recalc();c+=n+S}}else r.w=r.minW,r.h=r.minH,e.layoutRect(r),this.recalc(e),null===e._lastRect&&(C=e.parent())&&(C._lastRect=null,C.recalc())}})}),r("tinymce.core.ui.Iframe",["tinymce.core.ui.Widget","tinymce.core.util.Delay"],function(e,i){"use strict";return e.extend({renderHtml:function(){return this.classes.add("iframe"),this.canFocus=!1,'<iframe id="'+this._id+'" class="'+this.classes+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,t){var n=this,r=this.getEl().contentWindow.document.body;return r?(r.innerHTML=e,t&&t()):i.setTimeout(function(){n.html(e)}),this}})}),r("tinymce.core.ui.InfoBox",["tinymce.core.ui.Widget"],function(e){"use strict";return e.extend({init:function(e){this._super(e),this.classes.add("widget").add("infobox"),this.canFocus=!1},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},help:function(e){this.state.set("help",e)},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+this.encode(this.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+e+"ico "+e+'i-help"></i></button></div></div>'},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl("body").firstChild.data=t.encode(e.value),t.state.get("rendered")&&t.updateLayoutRect()}),t.state.on("change:help",function(e){t.classes.toggle("has-help",e.value),t.state.get("rendered")&&t.updateLayoutRect()}),t._super()}})}),r("tinymce.core.ui.Label",["tinymce.core.ui.Widget","tinymce.core.ui.DomUtils"],function(e,t){"use strict";return e.extend({init:function(e){this._super(e),this.classes.add("widget").add("label"),this.canFocus=!1,e.multiline&&this.classes.add("autoscroll"),e.strong&&this.classes.add("strong")},initLayoutRect:function(){var e=this._super();return this.settings.multiline&&(t.getSize(this.getEl()).width>e.maxW&&(e.minW=e.maxW,this.classes.add("multiline")),this.getEl().style.width=e.minW+"px",e.startMinH=e.h=e.minH=Math.min(e.maxH,t.getSize(this.getEl()).height)),e},repaint:function(){return this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px"),this._super()},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},renderHtml:function(){var e,t=this,n=t.settings.forId,r=t.settings.html||t.encode(t.state.get("text"));return(n=!n&&(e=t.settings.forName)&&(e=t.getRoot().find("#"+e)[0])?e._id:n)?'<label id="'+t._id+'" class="'+t.classes+'"'+(n?' for="'+n+'"':"")+">"+r+"</label>":'<span id="'+t._id+'" class="'+t.classes+'">'+r+"</span>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.innerHtml(t.encode(e.value)),t.state.get("rendered")&&t.updateLayoutRect()}),t._super()}})}),r("tinymce.core.ui.Toolbar",["tinymce.core.ui.Container"],function(e){"use strict";return e.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){this._super(e),this.classes.add("toolbar")},postRender:function(){return this.items().each(function(e){e.classes.add("toolbar-item")}),this._super()}})}),r("tinymce.core.ui.MenuBar",["tinymce.core.ui.Toolbar"],function(e){"use strict";return e.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),r("tinymce.core.ui.MenuButton",["tinymce.core.ui.Button","tinymce.core.ui.Factory","tinymce.core.ui.MenuBar"],function(e,n,s){"use strict";var i=e.extend({init:function(e){this._renderOpen=!0,this._super(e),e=this.settings,this.classes.add("menubtn"),e.fixedWidth&&this.classes.add("fixed-width"),this.aria("haspopup",!0),this.state.set("menu",e.menu||this.render())},showMenu:function(e){var t=this;if(t.menu&&t.menu.visible()&&!1!==e)return t.hideMenu();t.menu||((e=t.state.get("menu")||[]).length?e={type:"menu",items:e}:e.type=e.type||"menu",e.renderTo?t.menu=e.parent(t).show().renderTo():t.menu=n.create(e).parent(t).renderTo(),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(e){e.control.parent()===t.menu&&(e.stopPropagation(),t.focus(),t.hideMenu())}),t.menu.on("select",function(){t.focus()}),t.menu.on("show hide",function(e){e.control==t.menu&&t.activeMenu("show"==e.type),t.aria("expanded","show"==e.type)}).fire("show")),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),t.fire("showmenu")},hideMenu:function(){this.menu&&(this.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),this.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.settings.icon,i=e.state.get("text"),o="",a=e.settings.image;return a=a?(r="none"," style=\"background-image: url('"+(a="string"!=typeof a?window.getSelection?a[0]:a[1]:a)+"')\""):"",i&&(e.classes.add("btn-has-text"),o='<span class="'+n+'txt">'+e.encode(i)+"</span>"),r=e.settings.icon?n+"ico "+n+"i-"+r:"",e.aria("role",e.parent()instanceof s?"menuitem":"button"),'<div id="'+t+'" class="'+e.classes+'" tabindex="-1" aria-labelledby="'+t+'"><button id="'+t+'-open" role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+a+"></i>":"")+o+' <i class="'+n+'caret"></i></button></div>'},postRender:function(){var r=this;return r.on("click",function(e){e.control===r&&function(e,t){for(;e;){if(t===e)return 1;e=e.parentNode}}(e.target,r.getEl())&&(r.focus(),r.showMenu(!e.aria),e.aria&&r.menu.items().filter(":visible")[0].focus())}),r.on("mouseenter",function(e){var t,n=e.control,e=r.parent();n&&e&&n instanceof i&&n.parent()==e&&(e.items().filter("MenuButton").each(function(e){e.hideMenu&&e!=n&&(e.menu&&e.menu.visible()&&(t=!0),e.hideMenu())}),t&&(n.focus(),n.showMenu()))}),r._super()},bindStates:function(){var e=this;return e.state.on("change:menu",function(){e.menu&&e.menu.remove(),e.menu=null}),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return i}),r("tinymce.core.ui.MenuItem",["tinymce.core.ui.Widget","tinymce.core.ui.Factory","tinymce.core.Env","tinymce.core.util.Delay"],function(e,i,d,o){"use strict";return e.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t,n=this;n._super(e),e=n.settings,n.classes.add("menu-item"),e.menu&&n.classes.add("menu-item-expand"),e.preview&&n.classes.add("menu-item-preview"),"-"!==(t=n.state.get("text"))&&"|"!==t||(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),e.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&n.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var t,n=this,e=n.settings,r=n.parent();r.items().each(function(e){e!==n&&e.hideMenu()}),e.menu&&((t=n.menu)?t.show():((t=e.menu).length?t={type:"menu",items:t}:t.type=t.type||"menu",r.settings.itemDefaults&&(t.itemDefaults=r.settings.itemDefaults),(t=n.menu=i.create(t).parent(n).renderTo()).reflow(),t.on("cancel",function(e){e.stopPropagation(),n.focus(),t.hide()}),t.on("show hide",function(e){e.control.items&&e.control.items().each(function(e){e.active(e.settings.selected)})}).fire("show"),t.on("hide",function(e){e.control===t&&n.classes.remove("selected")}),t.submenu=!0),t._parentMenu=r,t.classes.add("menu-sub"),e=t.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]),t.moveRel(n.getEl(),e),e="menu-sub-"+(t.rel=e),t.classes.remove(t._lastRel).add(e),t._lastRel=e,n.classes.add("selected"),n.aria("expanded",!0))},hideMenu:function(){return this.menu&&(this.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),this.menu.hide(),this.aria("expanded",!1)),this},renderHtml:function(){var e,t=this,n=t._id,r=t.settings,i=t.classPrefix,o=t.state.get("text"),a=t.settings.icon,s="",c=r.shortcut,l=t.encode(r.url);function u(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}return a&&t.parent().classes.add("menu-has-icons"),r.image&&(s=" style=\"background-image: url('"+r.image+"')\""),c=c&&function(e){var t,n,r={},r=d.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"};for(e=e.split("+"),t=0;t<e.length;t++)(n=r[e[t].toLowerCase()])&&(e[t]=n);return e.join("+")}(c),a=i+"ico "+i+"i-"+(t.settings.icon||"none"),a="-"!==o?'<i class="'+a+'"'+s+"></i>":"",l=t.encode((s=l,(e=r.match||"")?s.replace(new RegExp(u(e),"gi"),function(e){return"!mce~match["+e+"]mce~match!"}):s)).replace(new RegExp(u("!mce~match["),"g"),"<b>").replace(new RegExp(u("]mce~match!"),"g"),"</b>"),'<div id="'+n+'" class="'+t.classes+'" tabindex="-1">'+a+("-"!==o?'<span id="'+n+'-text" class="'+i+'text">'+o+"</span>":"")+(c?'<div id="'+n+'-shortcut" class="'+i+'menu-shortcut">'+c+"</div>":"")+(r.menu?'<div class="'+i+'caret"></div>':"")+(l?'<div class="'+i+'menu-item-link">'+l+"</div>":"")+"</div>"},postRender:function(){var e,t=this,n=t.settings,r=n.textStyle;return(r="function"==typeof r?r.call(this):r)&&(e=t.getEl("text"))&&e.setAttribute("style",r),t.on("mouseenter click",function(e){e.control===t&&(n.menu||"click"!==e.type?(t.showMenu(),e.aria&&t.menu.focus(!0)):(t.fire("select"),o.requestAnimationFrame(function(){t.parent().hideAll()})))}),t._super(),t},hover:function(){return this.parent().items().each(function(e){e.classes.remove("selected")}),this.classes.toggle("selected",!0),this},active:function(e){return void 0!==e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),r("tinymce.core.ui.Throbber",["tinymce.core.dom.DomQuery","tinymce.core.ui.Control","tinymce.core.util.Delay"],function(l,e,u){"use strict";return function(r,i){var o,a,s=this,c=e.classPrefix;s.show=function(e,t){function n(){o&&(l(r).append('<div class="'+c+"throbber"+(i?" "+c+"throbber-inline":"")+'"></div>'),t&&t())}return s.hide(),o=!0,e?a=u.setTimeout(n,e):n(),s},s.hide=function(){var e=r.lastChild;return u.clearTimeout(a),e&&-1!=e.className.indexOf("throbber")&&e.parentNode.removeChild(e),o=!1,s}}}),r("tinymce.core.ui.Menu",["tinymce.core.ui.FloatPanel","tinymce.core.ui.MenuItem","tinymce.core.ui.Throbber","tinymce.core.util.Tools"],function(e,t,i,r){"use strict";return e.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){if(e.autohide=!0,e.constrainToViewport=!0,"function"==typeof e.items&&(e.itemsFactory=e.items,e.items=[]),e.itemDefaults)for(var t=e.items,n=t.length;n--;)t[n]=r.extend({},e.itemDefaults,t[n]);this._super(e),this.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){var t,n=this;function r(){n.throbber&&(n.throbber.hide(),n.throbber=null)}n.settings.itemsFactory&&(n.throbber||(n.throbber=new i(n.getEl("body"),!0),0===n.items().length?(n.throbber.show(),n.fire("loading")):n.throbber.show(100,function(){n.items().remove(),n.fire("loading")}),n.on("hide close",r)),n.requestTime=t=(new Date).getTime(),n.settings.itemsFactory(function(e){0===e.length?n.hide():n.requestTime===t&&(n.getEl().style.width="",n.getEl("body").style.width="",r(),n.items().remove(),n.getEl("body").innerHTML="",n.add(e),n.renderNew(),n.fire("loaded"))}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var t=this;return t.items().each(function(e){e=e.settings;if(e.icon||e.image||e.selectable)return!(t._hasIcons=!0)}),t.settings.itemsFactory&&t.on("postrender",function(){t.settings.itemsFactory&&t.load()}),t._super()}})}),r("tinymce.core.ui.ListBox",["tinymce.core.ui.MenuButton","tinymce.core.ui.Menu"],function(e,r){"use strict";return e.extend({init:function(r){var e,i,o,n,a=this;a._super(r),r=a.settings,a._values=e=r.values,e&&(void 0!==r.value&&function e(t){for(var n=0;n<t.length;n++){if(i=t[n].selected||r.value===t[n].value)return o=o||t[n].text,a.state.set("value",t[n].value),1;if(t[n].menu&&e(t[n].menu))return 1}}(e),!i&&0<e.length&&(o=e[0].text,a.state.set("value",e[0].value)),a.state.set("menu",e)),a.state.set("text",r.text||o),a.classes.add("listbox"),a.on("select",function(e){var t=e.control;n&&(e.lastControl=n),r.multiple?t.active(!t.active()):a.value(e.control.value()),n=t})},bindStates:function(){var n=this;return n.on("show",function(e){var t;e=e.control,t=n.value(),e instanceof r&&e.items().each(function(e){e.hasMenus()||e.active(e.value()===t)})}),n.state.on("change:value",function(e){e=function e(t,n){var r;if(t)for(var i=0;i<t.length;i++){if(t[i].value===n)return t[i];if(t[i].menu&&(r=e(t[i].menu,n)))return r}}(n.state.get("menu"),e.value);e?n.text(e.text):n.text(n.settings.text)}),n._super()}})}),r("tinymce.core.ui.Radio",["tinymce.core.ui.Checkbox"],function(e){"use strict";return e.extend({Defaults:{classes:"radio",role:"radio"}})}),r("tinymce.core.ui.ResizeHandle",["tinymce.core.ui.Widget","tinymce.core.ui.DragHelper"],function(e,n){"use strict";return e.extend({renderHtml:function(){var e=this.classPrefix;return this.classes.add("resizehandle"),"both"==this.settings.direction&&this.classes.add("resizehandle-both"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"><i class="'+e+"ico "+e+'i-resize"></i></div>'},postRender:function(){var t=this;t._super(),t.resizeDragHelper=new n(this._id,{start:function(){t.fire("ResizeStart")},drag:function(e){"both"!=t.settings.direction&&(e.deltaX=0),t.fire("Resize",e)},stop:function(){t.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),r("tinymce.core.ui.SelectBox",["tinymce.core.ui.Widget"],function(e){"use strict";function n(e){var t="";if(e)for(var n=0;n<e.length;n++)t+='<option value="'+e[n]+'">'+e[n]+"</option>";return t}return e.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var n=this;n._super(e),n.settings.size&&(n.size=n.settings.size),n.settings.options&&(n._options=n.settings.options),n.on("keydown",function(e){var t;13==e.keyCode&&(e.preventDefault(),n.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),n.fire("submit",{data:t.toJSON()}))})},options:function(e){return arguments.length?(this.state.set("options",e),this):this.state.get("options")},renderHtml:function(){var e="",t=n(this._options);return this.size&&(e=' size = "'+this.size+'"'),'<select id="'+this._id+'" class="'+this.classes+'"'+e+">"+t+"</select>"},bindStates:function(){var t=this;return t.state.on("change:options",function(e){t.getEl().innerHTML=n(e.value)}),t._super()}})}),r("tinymce.core.ui.Slider",["tinymce.core.ui.Widget","tinymce.core.ui.DragHelper","tinymce.core.ui.DomUtils"],function(e,v,b){"use strict";function x(e,t,n){return e=n<(e=e<t?t:e)?n:e}function a(e,t,n){e.setAttribute("aria-"+t,n)}function n(e,t){var n,r,i="v"==e.settings.orientation?(r="top",n="height","h"):(r="left",n="width","w"),o=e.getEl("handle"),i=((e.layoutRect()[i]||100)-b.getSize(o)[n])*((t-e._minValue)/(e._maxValue-e._minValue))+"px";o.style[r]=i,o.style.height=e.layoutRect().h+"px",a(o,"valuenow",t),a(o,"valuetext",""+e.settings.previewFilter(t)),a(o,"valuemin",e._minValue),a(o,"valuemax",e._maxValue)}return e.extend({init:function(e){e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),this._super(e),this.classes.add("slider"),"v"==e.orientation&&this.classes.add("vertical"),this._minValue=e.minValue||0,this._maxValue=e.maxValue||100,this._initValue=this.state.get("value")},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'"><div id="'+e+'-handle" class="'+t+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var e,t,n,r,i,o,a,s,c,l,u,d,f,m,h,p,g=this;function y(e){var t=g.value();t=x(((t+a)/(s-a)+.05*e)*(s-a)-a,a,s),g.value(t),g.fire("dragstart",{value:t}),g.fire("drag",{value:t}),g.fire("dragend",{value:t})}e=g._minValue,t=g._maxValue,o="v"==g.settings.orientation?(n="screenY",r="top",i="height","h"):(n="screenX",r="left",i="width","w"),g._super(),a=e,s=t,g.getEl("handle"),g.on("keydown",function(e){switch(e.keyCode){case 37:case 38:y(-1);break;case 39:case 40:y(1)}}),c=e,l=t,u=g.getEl("handle"),g._dragHelper=new v(g._id,{handle:g._id+"-handle",start:function(e){d=e[n],f=parseInt(g.getEl("handle").style[r],10),m=(g.layoutRect()[o]||100)-b.getSize(u)[i],g.fire("dragstart",{value:p})},drag:function(e){e=e[n]-d;h=x(f+e,0,m),u.style[r]=h+"px",p=c+h/m*(l-c),g.value(p),g.tooltip().text(""+g.settings.previewFilter(p)).show().moveRel(u,"bc tc"),g.fire("drag",{value:p})},stop:function(){g.tooltip().hide(),g.fire("dragend",{value:p})}})},repaint:function(){this._super(),n(this,this.value())},bindStates:function(){var t=this;return t.state.on("change:value",function(e){n(t,e.value)}),t._super()}})}),r("tinymce.core.ui.Spacer",["tinymce.core.ui.Widget"],function(e){"use strict";return e.extend({renderHtml:function(){return this.classes.add("spacer"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"></div>'}})}),r("tinymce.core.ui.SplitButton",["tinymce.core.ui.MenuButton","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery"],function(e,r,i){return e.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,t=this.getEl(),n=this.layoutRect();return this._super(),e=t.firstChild,t=t.lastChild,i(e).css({width:n.w-r.getSize(t).width,height:n.h-2}),i(t).css({height:n.h-2}),this},activeMenu:function(e){i(this.getEl().lastChild).toggleClass(this.classPrefix+"active",e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.state.get("icon"),i=e.state.get("text"),o="",a=e.settings.image;return a=a?(r="none"," style=\"background-image: url('"+(a="string"!=typeof a?window.getSelection?a[0]:a[1]:a)+"')\""):"",r=e.settings.icon?n+"ico "+n+"i-"+r:"",i&&(e.classes.add("btn-has-text"),o='<span class="'+n+'txt">'+e.encode(i)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(r?'<i class="'+r+'"'+a+"></i>":"")+o+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1">'+(e._menuBtnText?(r?"":"")+e._menuBtnText:"")+' <i class="'+n+'caret"></i></button></div>'},postRender:function(){var n=this.settings.onclick;return this.on("click",function(e){var t=e.target;if(e.control==this)for(;t;){if(e.aria&&"down"!=e.aria.key||"BUTTON"==t.nodeName&&-1==t.className.indexOf("open"))return e.stopImmediatePropagation(),void(n&&n.call(this,e));t=t.parentNode}}),delete this.settings.onclick,this._super()}})}),r("tinymce.core.ui.StackLayout",["tinymce.core.ui.FlowLayout"],function(e){"use strict";return e.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),r("tinymce.core.ui.TabPanel",["tinymce.core.ui.Panel","tinymce.core.dom.DomQuery","tinymce.core.ui.DomUtils"],function(e,t,i){"use strict";return e.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(n){var e;this.activeTabId&&(e=this.getEl(this.activeTabId),t(e).removeClass(this.classPrefix+"active"),e.setAttribute("aria-selected","false")),this.activeTabId="t"+n,(e=this.getEl("t"+n)).setAttribute("aria-selected","true"),t(e).addClass(this.classPrefix+"active"),this.items()[n].show().fire("showtab"),this.reflow(),this.items().each(function(e,t){n!=t&&e.hide()})},renderHtml:function(){var n=this,e=n._layout,r="",i=n.classPrefix;return n.preRender(),e.preRender(n),n.items().each(function(e,t){t=n._id+"-t"+t;e.aria("role","tabpanel"),e.aria("labelledby",t),r+='<div id="'+t+'" class="'+i+'tab" unselectable="on" role="tab" aria-controls="'+e._id+'" aria-selected="false" tabIndex="-1">'+n.encode(e.settings.title)+"</div>"}),'<div id="'+n._id+'" class="'+n.classes+'" hidefocus="1" tabindex="-1"><div id="'+n._id+'-head" class="'+i+'tabs" role="tablist">'+r+'</div><div id="'+n._id+'-body" class="'+n.bodyClasses+'">'+e.renderHtml(n)+"</div></div>"},postRender:function(){var r=this;r._super(),r.settings.activeTab=r.settings.activeTab||0,r.activateTab(r.settings.activeTab),this.on("click",function(e){var t=e.target.parentNode;if(t&&t.id==r._id+"-head")for(var n=t.childNodes.length;n--;)t.childNodes[n]==e.target&&r.activateTab(n)})},initLayoutRect:function(){var e,t,n=i.getSize(this.getEl("head")).width,r=(n=n<0?0:n,t=0,this.items().each(function(e){n=Math.max(n,e.layoutRect().minW),t=Math.max(t,e.layoutRect().minH)}),this.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=n,e.settings.h=t,e.layoutRect({x:0,y:0,w:n,h:t})}),i.getSize(this.getEl("head")).height);return this.settings.minWidth=n,this.settings.minHeight=t+r,(e=this._super()).deltaH+=r,e.innerH=e.h-e.deltaH,e}})}),r("tinymce.core.ui.TextBox",["tinymce.core.ui.Widget","tinymce.core.util.Tools","tinymce.core.ui.DomUtils"],function(e,r,i){return e.extend({init:function(e){var n=this;n._super(e),n.classes.add("textbox"),e.multiline?n.classes.add("multiline"):(n.on("keydown",function(e){var t;13==e.keyCode&&(e.preventDefault(),n.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),n.fire("submit",{data:t.toJSON()}))}),n.on("keyup",function(e){n.state.set("value",e.target.value)}))},repaint:function(){var e,t=0,n=this.getEl().style,r=this._layoutRect,i=this._lastRepaintRect||{},o=document;return!this.settings.multiline&&o.all&&(!o.documentMode||o.documentMode<=8)&&(n.lineHeight=r.h-t+"px"),e=(o=this.borderBox).left+o.right+8,t=o.top+o.bottom+(this.settings.multiline?8:0),r.x!==i.x&&(n.left=r.x+"px",i.x=r.x),r.y!==i.y&&(n.top=r.y+"px",i.y=r.y),r.w!==i.w&&(n.width=r.w-e+"px",i.w=r.w),r.h!==i.h&&(n.height=r.h-t+"px",i.h=r.h),this._lastRepaintRect=i,this.fire("repaint",{},!1),this},renderHtml:function(){var e,t=this.settings,n={id:this._id,hidefocus:"1"};return r.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(e){n[e]=t[e]}),this.disabled()&&(n.disabled="disabled"),t.subtype&&(n.type=t.subtype),(e=i.create(t.multiline?"textarea":"input",n)).value=this.state.get("value"),e.className=this.classes,e.outerHTML},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var t=this;t.getEl().value=t.state.get("value"),t._super(),t.$el.on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)})},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.getEl().value!=e.value&&(t.getEl().value=e.value)}),t.state.on("change:disabled",function(e){t.getEl().disabled=e.value}),t._super()},remove:function(){this.$el.off(),this._super()}})}),t("global!RegExp",RegExp),r("tinymce.core.ui.DropZone",["tinymce.core.ui.Widget","tinymce.core.util.Tools","tinymce.core.ui.DomUtils","global!RegExp"],function(e,a,n,s){return e.extend({init:function(e){e=a.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},e),this._super(e),this.classes.add("dropzone"),e.multiple&&this.classes.add("multiple")},renderHtml:function(){var e=this.settings,t={id:this._id,hidefocus:"1"},t=n.create("div",t,"<span>"+e.text+"</span>");return e.height&&n.css(t,"height",e.height+"px"),e.width&&n.css(t,"width",e.width+"px"),t.className=this.classes,t.outerHTML},postRender:function(){function e(e){e.preventDefault(),o.classes.toggle("dragenter"),o.getEl().className=o.classes}var o=this;o._super(),o.$el.on("dragover",function(e){e.preventDefault()}),o.$el.on("dragenter",e),o.$el.on("dragleave",e),o.$el.on("drop",function(e){var t,n,r,i;e.preventDefault(),o.state.get("disabled")||(n=e.dataTransfer.files,t="string"!=typeof(i=o.settings.accept)?n:(r=new s("("+i.split(/\s*,\s*/).join("|")+")$","i"),a.grep(n,function(e){return r.test(e.name)})),o.value=function(){return t.length?o.settings.multiple?t:t[0]:null},t.length&&o.fire("change",e))})},remove:function(){this.$el.off(),this._super()}})}),r("tinymce.core.ui.BrowseButton",["tinymce.core.ui.Button","tinymce.core.util.Tools","tinymce.core.ui.DomUtils","tinymce.core.dom.DomQuery","global!RegExp"],function(e,t,r,i,n){return e.extend({init:function(e){e=t.extend({text:"Browse...",multiple:!1,accept:null},e),this._super(e),this.classes.add("browsebutton"),e.multiple&&this.classes.add("multiple")},postRender:function(){var n=this,t=r.create("input",{type:"file",id:n._id+"-browse",accept:n.settings.accept});n._super(),i(t).on("change",function(e){var t=e.target.files;n.value=function(){return t.length?n.settings.multiple?t:t[0]:null},e.preventDefault(),t.length&&n.fire("change",e)}),i(t).on("click",function(e){e.stopPropagation()}),i(n.getEl("button")).on("click",function(e){e.stopPropagation(),t.click()}),n.getEl().appendChild(t)},remove:function(){i(this.getEl("button")).off(),i(this.getEl("input")).off(),this._super()}})}),r("tinymce.core.ui.Api",["tinymce.core.ui.Selector","tinymce.core.ui.Collection","tinymce.core.ui.ReflowQueue","tinymce.core.ui.Control","tinymce.core.ui.Factory","tinymce.core.ui.KeyboardNavigation","tinymce.core.ui.Container","tinymce.core.ui.DragHelper","tinymce.core.ui.Scrollable","tinymce.core.ui.Panel","tinymce.core.ui.Movable","tinymce.core.ui.Resizable","tinymce.core.ui.FloatPanel","tinymce.core.ui.Window","tinymce.core.ui.MessageBox","tinymce.core.ui.Tooltip","tinymce.core.ui.Widget","tinymce.core.ui.Progress","tinymce.core.ui.Notification","tinymce.core.ui.Layout","tinymce.core.ui.AbsoluteLayout","tinymce.core.ui.Button","tinymce.core.ui.ButtonGroup","tinymce.core.ui.Checkbox","tinymce.core.ui.ComboBox","tinymce.core.ui.ColorBox","tinymce.core.ui.PanelButton","tinymce.core.ui.ColorButton","tinymce.core.ui.ColorPicker","tinymce.core.ui.Path","tinymce.core.ui.ElementPath","tinymce.core.ui.FormItem","tinymce.core.ui.Form","tinymce.core.ui.FieldSet","tinymce.core.ui.FilePicker","tinymce.core.ui.FitLayout","tinymce.core.ui.FlexLayout","tinymce.core.ui.FlowLayout","tinymce.core.ui.FormatControls","tinymce.core.ui.GridLayout","tinymce.core.ui.Iframe","tinymce.core.ui.InfoBox","tinymce.core.ui.Label","tinymce.core.ui.Toolbar","tinymce.core.ui.MenuBar","tinymce.core.ui.MenuButton","tinymce.core.ui.MenuItem","tinymce.core.ui.Throbber","tinymce.core.ui.Menu","tinymce.core.ui.ListBox","tinymce.core.ui.Radio","tinymce.core.ui.ResizeHandle","tinymce.core.ui.SelectBox","tinymce.core.ui.Slider","tinymce.core.ui.Spacer","tinymce.core.ui.SplitButton","tinymce.core.ui.StackLayout","tinymce.core.ui.TabPanel","tinymce.core.ui.TextBox","tinymce.core.ui.DropZone","tinymce.core.ui.BrowseButton"],function(t,n,r,i,o,a,s,c,l,u,d,f,m,h,p,g,y,v,b,x,C,w,k,E,S,N,T,R,_,B,A,D,P,O,I,F,H,U,z,W,V,q,j,$,K,Y,X,G,Z,J,Q,ee,te,ne,re,ie,oe,ae,se,ce,le){"use strict";function M(e,t,n){for(var r=t.split(/[.\/]/),i=0;i<r.length-1;++i)void 0===e[r[i]]&&(e[r[i]]={}),e=e[r[i]];e[r[r.length-1]]=n,ue(t,n)}var ue=function(e,t){o.add(e.split(".").pop(),t)},L={appendTo:function(e){M(e,"ui.Selector",t),M(e,"ui.Collection",n),M(e,"ui.ReflowQueue",r),M(e,"ui.Control",i),M(e,"ui.Factory",o),M(e,"ui.KeyboardNavigation",a),M(e,"ui.Container",s),M(e,"ui.DragHelper",c),M(e,"ui.Scrollable",l),M(e,"ui.Panel",u),M(e,"ui.Movable",d),M(e,"ui.Resizable",f),M(e,"ui.FloatPanel",m),M(e,"ui.Window",h),M(e,"ui.MessageBox",p),M(e,"ui.Tooltip",g),M(e,"ui.Widget",y),M(e,"ui.Progress",v),M(e,"ui.Notification",b),M(e,"ui.Layout",x),M(e,"ui.AbsoluteLayout",C),M(e,"ui.Button",w),M(e,"ui.ButtonGroup",k),M(e,"ui.Checkbox",E),M(e,"ui.ComboBox",S),M(e,"ui.ColorBox",N),M(e,"ui.PanelButton",T),M(e,"ui.ColorButton",R),M(e,"ui.ColorPicker",_),M(e,"ui.Path",B),M(e,"ui.ElementPath",A),M(e,"ui.FormItem",D),M(e,"ui.Form",P),M(e,"ui.FieldSet",O),M(e,"ui.FilePicker",I),M(e,"ui.FitLayout",F),M(e,"ui.FlexLayout",H),M(e,"ui.FlowLayout",U),M(e,"ui.FormatControls",z),M(e,"ui.GridLayout",W),M(e,"ui.Iframe",V),M(e,"ui.InfoBox",q),M(e,"ui.Label",j),M(e,"ui.Toolbar",$),M(e,"ui.MenuBar",K),M(e,"ui.MenuButton",Y),M(e,"ui.MenuItem",X),M(e,"ui.Throbber",G),M(e,"ui.Menu",Z),M(e,"ui.ListBox",J),M(e,"ui.Radio",Q),M(e,"ui.ResizeHandle",ee),M(e,"ui.SelectBox",te),M(e,"ui.Slider",ne),M(e,"ui.Spacer",re),M(e,"ui.SplitButton",ie),M(e,"ui.StackLayout",oe),M(e,"ui.TabPanel",ae),M(e,"ui.TextBox",se),M(e,"ui.DropZone",ce),M(e,"ui.BrowseButton",le),M(e,"ui.Api",L)}};return L}),r("tinymce.core.api.Tinymce",["tinymce.core.api.Formatter","tinymce.core.geom.Rect","tinymce.core.util.Promise","tinymce.core.util.Delay","tinymce.core.Env","tinymce.core.dom.EventUtils","tinymce.core.dom.Sizzle","tinymce.core.util.Tools","tinymce.core.dom.DomQuery","tinymce.core.html.Styles","tinymce.core.dom.TreeWalker","tinymce.core.html.Entities","tinymce.core.dom.DOMUtils","tinymce.core.dom.ScriptLoader","tinymce.core.AddOnManager","tinymce.core.dom.RangeUtils","tinymce.core.html.Node","tinymce.core.html.Schema","tinymce.core.html.SaxParser","tinymce.core.html.DomParser","tinymce.core.html.Writer","tinymce.core.html.Serializer","tinymce.core.dom.Serializer","tinymce.core.util.VK","tinymce.core.dom.ControlSelection","tinymce.core.dom.BookmarkManager","tinymce.core.dom.Selection","tinymce.core.UndoManager","tinymce.core.EditorCommands","tinymce.core.util.URI","tinymce.core.util.Class","tinymce.core.util.EventDispatcher","tinymce.core.util.Observable","tinymce.core.WindowManager","tinymce.core.NotificationManager","tinymce.core.EditorObservable","tinymce.core.Shortcuts","tinymce.core.Editor","tinymce.core.util.I18n","tinymce.core.FocusManager","tinymce.core.EditorManager","tinymce.core.util.XHR","tinymce.core.util.JSON","tinymce.core.util.JSONRequest","tinymce.core.util.JSONP","tinymce.core.util.LocalStorage","tinymce.core.util.Color","tinymce.core.ui.Api"],function(e,t,n,r,i,o,a,s,c,l,u,d,f,m,h,p,g,y,v,b,x,C,w,k,E,S,N,T,R,_,B,A,D,P,O,L,I,F,H,U,M,z,W,V,q,j,$,K){t={geom:{Rect:t},util:{Promise:n,Delay:r,Tools:s,VK:k,URI:_,Class:B,EventDispatcher:A,Observable:D,I18n:H,XHR:z,JSON:W,JSONRequest:V,JSONP:q,LocalStorage:j,Color:$},dom:{EventUtils:o,Sizzle:a,DomQuery:c,TreeWalker:u,DOMUtils:f,ScriptLoader:m,RangeUtils:p,Serializer:w,ControlSelection:E,BookmarkManager:S,Selection:N,Event:o.Event},html:{Styles:l,Entities:d,Node:g,Schema:y,SaxParser:v,DomParser:b,Writer:x,Serializer:C},Env:i,AddOnManager:h,Formatter:e,UndoManager:T,EditorCommands:R,WindowManager:P,NotificationManager:O,EditorObservable:L,Shortcuts:I,Editor:F,FocusManager:U,EditorManager:M,DOM:f.DOM,ScriptLoader:m.ScriptLoader,PluginManager:h.PluginManager,ThemeManager:h.ThemeManager,trim:s.trim,isArray:s.isArray,is:s.is,toArray:s.toArray,makeMap:s.makeMap,each:s.each,map:s.map,grep:s.grep,inArray:s.inArray,extend:s.extend,create:s.create,walk:s.walk,createNS:s.createNS,resolve:s.resolve,explode:s.explode,_addCacheSuffix:s._addCacheSuffix,isOpera:i.opera,isWebKit:i.webkit,isIE:i.ie,isGecko:i.gecko,isMac:i.mac},n=s.extend(M,t);return K.appendTo(n),n}),r("tinymce.core.api.Main",["ephox.katamari.api.Fun","tinymce.core.api.Tinymce"],function(t,n){var r=this||window;return function(){var e;return e=n,window.tinymce=e,window.tinyMCE=e,e=n,"function"!=typeof r.define||r.define.amd||(r.define("ephox/tinymce",[],t.constant(e)),r.define("tinymce.core.EditorManager",[],t.constant(e))),"object"==typeof module&&(module.exports=e),n}}),s("tinymce.core.api.Main")()}();
!function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;s[e]={deps:t,defn:n,instance:void 0}}function a(e){var t=s[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&i(e),t.instance}var t,n,s={},i=function(e){for(var t=s[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),l=0;l<o;++l)r[l]=a(n[l]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i},o=e;t="global!tinymce.util.Tools.resolve",n=tinymce.util.Tools.resolve,o(t,[],function(){return n}),o("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),o("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Delay")}),o("tinymce.plugins.autoresize.Plugin",["tinymce.core.dom.DOMUtils","tinymce.core.Env","tinymce.core.PluginManager","tinymce.core.util.Delay"],function(e,f,t,o){var y=e.DOM;return t.add("autoresize",function(m){var c=m.settings,d=0;function g(e){var t,n,i,o,r,l,a,s,u=m.getDoc();u&&(t=u.body,u=u.documentElement,n=c.autoresize_min_height,!t||e&&"setcontent"===e.type&&e.initial||m.plugins.fullscreen&&m.plugins.fullscreen.isFullscreen()?t&&u&&(t.style.overflowY="auto",u.style.overflowY="auto"):(i=m.dom.getStyle(t,"margin-top",!0),o=m.dom.getStyle(t,"margin-bottom",!0),r=m.dom.getStyle(t,"padding-top",!0),l=m.dom.getStyle(t,"padding-bottom",!0),a=m.dom.getStyle(t,"border-top-width",!0),s=m.dom.getStyle(t,"border-bottom-width",!0),i=t.offsetHeight+parseInt(i,10)+parseInt(o,10)+parseInt(r,10)+parseInt(l,10)+parseInt(a,10)+parseInt(s,10),(i=isNaN(i)||i<=0?f.ie?t.scrollHeight:f.webkit&&0===t.clientHeight?0:t.offsetHeight:i)>c.autoresize_min_height&&(n=i),c.autoresize_max_height&&i>c.autoresize_max_height?(n=c.autoresize_max_height,t.style.overflowY="auto",u.style.overflowY="auto"):(t.style.overflowY="hidden",u.style.overflowY="hidden",t.scrollTop=0),n!==d&&(o=n-d,y.setStyle(m.iframeElement,"height",n+"px"),d=n,f.webKit&&o<0&&g(e))))}function i(e,t,n){o.setEditorTimeout(m,function(){g({}),e--?i(e,t,n):n&&n()},t)}m.settings.inline||(c.autoresize_min_height=parseInt(m.getParam("autoresize_min_height",m.getElement().offsetHeight),10),c.autoresize_max_height=parseInt(m.getParam("autoresize_max_height",0),10),m.on("init",function(){var e=m.getParam("autoresize_overflow_padding",1),t=m.getParam("autoresize_bottom_margin",50);!1!==e&&m.dom.setStyles(m.getBody(),{paddingLeft:e,paddingRight:e}),!1!==t&&m.dom.setStyles(m.getBody(),{paddingBottom:t})}),m.on("nodechange setcontent keyup FullscreenStateChanged",g),m.getParam("autoresize_on_init",!0)&&m.on("init",function(){i(20,100,function(){i(5,1e3)})}),m.addCommand("mceAutoResize",g))}),function(){}}),a("tinymce.plugins.autoresize.Plugin")()}();
!function(){function e(e,n,o){if("string"!=typeof e)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+e;if(void 0===o)throw"no definition function for "+e;l[e]={deps:n,defn:o,instance:void 0}}function r(e){var n=l[e];if(void 0===n)throw"module ["+e+"] was undefined";return void 0===n.instance&&t(e),n.instance}var n,o,l={},t=function(e){for(var n=l[e],o=n.deps,t=n.defn,i=o.length,c=new Array(i),d=0;d<i;++d)c[d]=r(o[d]);t=t.apply(null,c);if(void 0===t)throw"module ["+e+"] returned undefined";n.instance=t},i=e;n="global!tinymce.util.Tools.resolve",o=tinymce.util.Tools.resolve,i(n,[],function(){return o}),i("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),i("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),i("tinymce.plugins.code.Plugin",["tinymce.core.dom.DOMUtils","tinymce.core.PluginManager"],function(o,e){return e.add("code",function(n){function e(){n.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,minWidth:n.getParam("code_dialog_width",600),minHeight:n.getParam("code_dialog_height",Math.min(o.DOM.getViewPort().h-200,500)),spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(e){n.focus(),n.undoManager.transact(function(){n.setContent(e.data.code)}),n.selection.setCursorLocation(),n.nodeChanged()}}).find("#code").value(n.getContent({source_view:!0}))}n.addCommand("mceCodeEditor",e),n.addButton("code",{icon:"code",tooltip:"Source code",onclick:e}),n.addMenuItem("code",{icon:"code",text:"Source code",context:"tools",onclick:e})}),function(){}}),r("tinymce.plugins.code.Plugin")()}();
!function(){function e(e,n,i){if("string"!=typeof e)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+e;if(void 0===i)throw"no definition function for "+e;c[e]={deps:n,defn:i,instance:void 0}}function a(e){var n=c[e];if(void 0===n)throw"module ["+e+"] was undefined";return void 0===n.instance&&o(e),n.instance}var n,i,c={},o=function(e){for(var n=c[e],i=n.deps,o=n.defn,t=i.length,l=new Array(t),r=0;r<t;++r)l[r]=a(i[r]);o=o.apply(null,l);if(void 0===o)throw"module ["+e+"] returned undefined";n.instance=o},t=e;n="global!tinymce.util.Tools.resolve",i=tinymce.util.Tools.resolve,t(n,[],function(){return i}),t("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),t("tinymce.core.util.Color",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Color")}),t("tinymce.plugins.colorpicker.Plugin",["tinymce.core.PluginManager","tinymce.core.util.Color"],function(e,r){return e.add("colorpicker",function(l){l.settings.color_picker_callback||(l.settings.color_picker_callback=function(e,n){function o(e){var e=new r(e),n=e.toRgb();t.fromJSON({r:n.r,g:n.g,b:n.b,hex:e.toHex().substr(1)}),i(e.toHex())}function i(e){t.find("#preview")[0].getEl().style.background=e}var t=l.windowManager.open({title:"Color",items:{type:"container",layout:"flex",direction:"row",align:"stretch",padding:5,spacing:10,items:[{type:"colorpicker",value:n,onchange:function(){var e=this.rgb();t&&(t.find("#r").value(e.r),t.find("#g").value(e.g),t.find("#b").value(e.b),t.find("#hex").value(this.value().substr(1)),i(this.value()))}},{type:"form",padding:0,labelGap:5,defaults:{type:"textbox",size:7,value:"0",flex:1,spellcheck:!1,onchange:function(){var e=t.find("colorpicker")[0],n=this.name(),i=this.value();"hex"==n?(o(i="#"+i),e.value(i)):(i={r:t.find("#r").value(),g:t.find("#g").value(),b:t.find("#b").value()},e.value(i),o(i))}},items:[{name:"r",label:"R",autofocus:1},{name:"g",label:"G"},{name:"b",label:"B"},{name:"hex",label:"#",value:"000000"},{name:"preview",type:"container",border:1}]}]},onSubmit:function(){e("#"+this.toJSON().hex)}});o(n)})}),function(){}}),a("tinymce.plugins.colorpicker.Plugin")()}();
!function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;u[e]={deps:t,defn:n,instance:void 0}}function a(e){var t=u[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&n(e),t.instance}function t(e,t){i(e,[],function(){return t})}var u={},n=function(e){for(var t=u[e],n=t.deps,i=t.defn,o=n.length,l=new Array(o),r=0;r<o;++r)l[r]=a(n[r]);i=i.apply(null,l);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i},i=e;t("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),i("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),i("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.VK")}),i("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Delay")}),i("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),i("tinymce.core.util.XHR",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.XHR")}),i("tinymce.plugins.link.core.Settings",[],function(){function t(e){return e.target_list}function n(e){return e.rel_list}function i(e){return e.link_class_list}return{assumeExternalTargets:function(e){return"boolean"==typeof e.link_assume_external_targets&&e.link_assume_external_targets},hasContextToolbar:function(e){return"boolean"==typeof e.link_context_toolbar&&e.link_context_toolbar},getLinkList:function(e){return e.link_list},hasDefaultLinkTarget:function(e){return"string"==typeof e.default_link_target},getDefaultLinkTarget:function(e){return e.default_link_target},getTargetList:t,setTargetList:function(e,t){e.settings.target_list=t},shouldShowTargetList:function(e){return!1!==t(e)},getRelList:n,hasRelList:function(e){return void 0!==n(e)},getLinkClassList:i,hasLinkClassList:function(e){return void 0!==i(e)},shouldShowLinkTitle:function(e){return!1!==e.link_title},allowUnsafeLinkTarget:function(e){return"boolean"==typeof e.allow_unsafe_link_target&&e.allow_unsafe_link_target}}}),t("global!RegExp",RegExp),i("tinymce.plugins.link.core.Utils",["tinymce.core.util.Tools","tinymce.plugins.link.core.Settings","global!RegExp"],function(o,a,e){function u(e,t){function n(e){return e.filter(function(e){return-1===o.inArray(i,e)})}var i=["noopener"],e=e?e.split(/\s+/):[];return(e=t?(t=n(t=e)).length?t.concat(i):i:n(e)).length?(t=e,o.trim(t.sort().join(" "))):null}function s(e,t){return t=t||e.selection.getStart(),c(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")}function t(e){return e&&"A"===e.nodeName&&e.href}var c=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)};return{link:function(l,r){return function(o){l.undoManager.transact(function(){var e=l.selection.getNode(),t=s(l,e),n={href:o.href,target:o.target||null,rel:o.rel||null,class:o.class||null,title:o.title||null};if(a.hasRelList(l.settings)||!1!==a.allowUnsafeLinkTarget(l.settings)||(n.rel=u(n.rel,"_blank"==n.target)),o.href===r.href&&(r.attach(),r={}),t)l.focus(),o.hasOwnProperty("text")&&("innerText"in t?t.innerText=o.text:t.textContent=o.text),l.dom.setAttribs(t,n),l.selection.select(t),l.undoManager.add();else if(c(e)){var t=l,i=n,e=t.dom.select("img",e)[0];if(e){t=t.dom.create("a",i);e.parentNode.insertBefore(t,e);t.appendChild(e)}}else o.hasOwnProperty("text")?l.insertContent(l.dom.createHTML("a",n,l.dom.encode(o.text))):l.execCommand("mceInsertLink",!1,n)})}},unlink:function(i){return function(){i.undoManager.transact(function(){var e=i.selection.getNode();if(c(e)){var t=i,n=t.dom.select("img",e)[0];if(n){e=t.dom.getParents(n,"a[href]",e)[0];if(e){e.parentNode.insertBefore(n,e);t.dom.remove(e)}}}else i.execCommand("unlink")})}},isLink:t,hasLinks:function(e){return 0<o.grep(e,t).length},isOnlyTextSelected:function(e){return!(/</.test(e)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(e)||-1==e.indexOf("href=")))},getAnchorElement:s,getAnchorText:function(e,t){return(t?t.innerText||t.textContent:e.getContent({format:"text"})).replace(/\uFEFF/g,"")},toggleTargetRules:u}}),i("tinymce.plugins.link.ui.Dialog",["tinymce.core.util.Delay","tinymce.core.util.Tools","tinymce.core.util.XHR","tinymce.plugins.link.core.Utils","tinymce.plugins.link.core.Settings"],function(o,k,i,v,y){function l(r,e){function i(e){var t=o.find("#text");(!t.value()||e.lastControl&&t.value()==e.lastControl.text())&&t.value(e.control.text()),o.find("#href").value(e.control.value())}function n(){a||!p||d.text||this.parent().parent().find("#text")[0].value(this.value())}var a,o,t,l,u,s,c,f,g,d={},m=r.selection,h=r.dom,p=v.isOnlyTextSelected(m.getContent()),m=v.getAnchorElement(r);d.text=a=v.getAnchorText(r.selection,m),d.href=m?h.getAttrib(m,"href"):"",m?d.target=h.getAttrib(m,"target"):y.hasDefaultLinkTarget(r.settings)&&(d.target=y.getDefaultLinkTarget(r.settings)),(g=h.getAttrib(m,"rel"))&&(d.rel=g),(g=h.getAttrib(m,"class"))&&(d.class=g),(g=h.getAttrib(m,"title"))&&(d.title=g),p&&(t={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){d.text=this.value()}}),e&&(l={type:"listbox",label:"Link list",values:b(e,function(e){e.value=r.convertURL(e.value||e.url,"href")},[{text:"None",value:""}]),onselect:i,value:r.convertURL(d.href,"href"),onPostRender:function(){l=this}}),y.shouldShowTargetList(r.settings)&&(void 0===y.getTargetList(r.settings)&&y.setTargetList(r,[{text:"None",value:""},{text:"New window",value:"_blank"}]),s={name:"target",type:"listbox",label:"Target",values:b(y.getTargetList(r.settings))}),y.hasRelList(r.settings)&&(u={name:"rel",type:"listbox",label:"Rel",values:b(y.getRelList(r.settings),function(e){!1===y.allowUnsafeLinkTarget(r.settings)&&(e.value=v.toggleTargetRules(e.value,"_blank"===d.target))})}),y.hasLinkClassList(r.settings)&&(c={name:"class",type:"listbox",label:"Class",values:b(y.getLinkClassList(r.settings),function(e){e.value&&(e.textStyle=function(){return r.formatter.getCssText({inline:"a",classes:[e.value]})})})}),y.shouldShowLinkTitle(r.settings)&&(f={name:"title",type:"textbox",label:"Title",value:d.title}),o=r.windowManager.open({title:"Insert link",data:d,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:function(e){var t=e.meta||{};l&&l.value(r.convertURL(this.value(),"href")),k.each(e.meta,function(e,t){var n=o.find("#"+t);"text"===t?0===a.length&&(n.value(e),d.text=e):n.value(e)}),t.attach&&(x={href:this.value(),attach:t.attach}),t.text||n.call(this)},onkeyup:n,onbeforecall:function(e){e.meta=o.toJSON()}},t,f,function(t){var n=[];if(k.each(r.dom.select("a:not([href])"),function(e){e=e.name||e.id;e&&n.push({text:e,value:"#"+e,selected:-1!=t.indexOf("#"+e)})}),n.length)return n.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:n,onselect:i}}(d.href),l,u,s,c],onSubmit:function(e){var t=y.assumeExternalTargets(r.settings),n=v.link(r,x),i=v.unlink(r),o=k.extend({},d,e.data),l=o.href;l?(p&&o.text!==a||delete o.text,0<l.indexOf("@")&&-1==l.indexOf("//")&&-1==l.indexOf("mailto:")?T(r,"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(e){e&&(o.href="mailto:"+l),n(o)}):!0===t&&!/^\w+:/i.test(l)||!1===t&&/^\s*www[\.|\d\.]/i.test(l)?T(r,"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(e){e&&(o.href="http://"+l),n(o)}):n(o)):i()}})}var x={},b=function(e,i,t){function o(e,n){return n=n||[],k.each(e,function(e){var t={text:e.text||e.title};e.menu?t.menu=o(e.menu):(t.value=e.value,i&&i(t)),n.push(t)}),n}return o(e,t||[])},T=function(t,e,n){var i=t.selection.getRng();o.setEditorTimeout(t,function(){t.windowManager.confirm(e,function(e){t.selection.setRng(i),n(e)})})};return{open:function(e){var t,n;t=e,n=l,"string"==typeof(e=y.getLinkList(t.settings))?i.send({url:e,success:function(e){n(t,JSON.parse(e))}}):"function"==typeof e?e(function(e){n(t,e)}):n(t,e)}}}),i("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),i("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),i("tinymce.plugins.link.core.OpenUrl",["tinymce.core.dom.DOMUtils","tinymce.core.Env"],function(i,o){return{open:function(e){var t,n;!o.ie||10<o.ie?((t=document.createElement("a")).target="_blank",t.href=e,t.rel="noreferrer noopener",(n=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t=t,n=n,document.body.appendChild(t),t.dispatchEvent(n),document.body.removeChild(t)):(n=window.open("","_blank"))&&(n.opener=null,(t=n.document).open(),t.write('<meta http-equiv="refresh" content="0; url='+i.DOM.encode(e)+'">'),t.close())}}}),i("tinymce.plugins.link.core.Actions",["tinymce.core.util.VK","tinymce.plugins.link.ui.Dialog","tinymce.plugins.link.core.OpenUrl","tinymce.plugins.link.core.Utils","tinymce.plugins.link.core.Settings"],function(n,t,i,o,l){function r(e){return u(e,e.selection.getStart())}function a(e,t){var n;t&&(n=s(t),/^#/.test(n)?(n=e.$(n)).length&&e.selection.scrollIntoView(n[0],!0):i.open(t.href))}var u=function(e,t){return e.dom.getParent(t,"a[href]")},s=function(e){var t=e.getAttribute("data-mce-href");return t||e.getAttribute("href")};return{openDialog:function(e){return function(){t.open(e)}},gotoSelectedLink:function(e){return function(){a(e,r(e))}},leftClickedOnAHref:function(i){return function(e){var t,n;return!!(l.hasContextToolbar(i.settings)&&!function(e){e=e.plugins.contextmenu;return!!e&&e.isContextMenuVisible()}(i)&&o.isLink(e)&&3==(n=(t=(e=i.selection).getRng()).startContainer).nodeType&&e.isCollapsed()&&0<t.startOffset&&t.startOffset<n.data.length)}},setupGotoLinks:function(i){i.on("click",function(e){var t=u(i,e.target);t&&n.metaKeyPressed(e)&&(e.preventDefault(),a(i,t))}),i.on("keydown",function(e){var t,n=r(i);n&&13===e.keyCode&&(!0===(t=e).altKey&&!1===t.shiftKey&&!1===t.ctrlKey&&!1===t.metaKey)&&(e.preventDefault(),a(i,n))})},toggleActiveState:function(n){return function(){var t=this;n.on("nodechange",function(e){t.active(!n.readonly&&!!o.getAnchorElement(n,e.element))})}},toggleViewLinkState:function(n){return function(){function e(e){o.hasLinks(e.parents)?t.show():t.hide()}var t=this;o.hasLinks(n.dom.getParents(n.selection.getStart()))||t.hide(),n.on("nodechange",e),t.on("remove",function(){n.off("nodechange",e)})}}}}),i("tinymce.plugins.link.ui.Controls",["tinymce.plugins.link.core.Actions","tinymce.plugins.link.core.Utils"],function(t,n){return{setupButtons:function(e){e.addButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onclick:t.openDialog(e),onpostrender:t.toggleActiveState(e)}),e.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onclick:n.unlink(e),onpostrender:t.toggleActiveState(e)}),e.addContextToolbar&&e.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:t.gotoSelectedLink(e)})},setupMenuItems:function(e){e.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:t.gotoSelectedLink(e),onPostRender:t.toggleViewLinkState(e),prependToContext:!0}),e.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:t.openDialog(e),stateSelector:"a[href]",context:"insert",prependToContext:!0})},setupContextToolbars:function(e){e.addContextToolbar&&e.addContextToolbar(t.leftClickedOnAHref(e),"openlink | link unlink")}}}),i("tinymce.plugins.link.Plugin",["tinymce.core.PluginManager","tinymce.plugins.link.core.Actions","tinymce.plugins.link.ui.Controls"],function(e,t,n){return e.add("link",function(e){n.setupButtons(e),n.setupMenuItems(e),n.setupContextToolbars(e),t.setupGotoLinks(e),e.addShortcut("Meta+K","",t.openDialog(e)),e.addCommand("mceLink",t.openDialog(e))}),function(){}}),a("tinymce.plugins.link.Plugin")()}();
!function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;c[e]={deps:t,defn:n,instance:void 0}}function l(e){var t=c[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&i(e),t.instance}var t,n,c={},i=function(e){for(var t=c[e],n=t.deps,i=t.defn,o=n.length,r=new Array(o),s=0;s<o;++s)r[s]=l(n[s]);i=i.apply(null,r);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i},o=e;t="global!tinymce.util.Tools.resolve",n=tinymce.util.Tools.resolve,o(t,[],function(){return n}),o("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.VK")}),o("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),o("tinymce.plugins.lists.core.NodeType",[],function(){function n(e){return e&&"BR"===e.nodeName}return{isTextNode:function(e){return e&&3===e.nodeType},isListNode:function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)},isListItemNode:function(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName)},isBr:n,isFirstChild:function(e){return e.parentNode.firstChild===e},isLastChild:function(e){return e.parentNode.lastChild===e},isTextBlock:function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},isBlock:function(e,t){return e&&e.nodeName in t},isBogusBr:function(e,t){return!!n(t)&&!(!e.isBlock(t.nextSibling)||n(t.previousSibling))},isEmpty:function(e,t,n){var i=e.isEmpty(t);return!(n&&0<e.select("span[data-mce-type=bookmark]",t).length)&&i},isChildOfBody:function(e,t){return e.isChildOf(t,e.getRoot())}}}),o("tinymce.core.dom.RangeUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.RangeUtils")}),o("tinymce.plugins.lists.core.Range",["tinymce.core.dom.RangeUtils","tinymce.plugins.lists.core.NodeType"],function(i,o){function r(e,t){var n=i.getNode(e,t);return o.isListItemNode(e)&&o.isTextNode(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:{container:e,offset:t}}return{getNormalizedEndPoint:r,normalizeRange:function(e){var t=e.cloneRange(),n=r(e.startContainer,e.startOffset),n=(t.setStart(n.container,n.offset),r(e.endContainer,e.endOffset));return t.setEnd(n.container,n.offset),t}}}),o("tinymce.plugins.lists.core.Bookmark",["tinymce.core.dom.DOMUtils","tinymce.plugins.lists.core.NodeType","tinymce.plugins.lists.core.Range"],function(e,t,n){var s=e.DOM;return{createBookmark:function(o){function e(e){var t,n=o[e?"startContainer":"endContainer"],i=o[e?"startOffset":"endOffset"];1===n.nodeType&&(t=s.create("span",{"data-mce-type":"bookmark"}),n.hasChildNodes()?(i=Math.min(i,n.childNodes.length-1),e?n.insertBefore(t,n.childNodes[i]):s.insertAfter(t,n.childNodes[i])):n.appendChild(t),n=t,i=0),r[e?"startContainer":"endContainer"]=n,r[e?"startOffset":"endOffset"]=i}var r={};return e(!0),o.collapsed||e(),r},resolveBookmark:function(o){function e(e){var t,n=t=o[e?"startContainer":"endContainer"],i=o[e?"startOffset":"endOffset"];n&&(1===n.nodeType&&(i=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1}(n),n=n.parentNode,s.remove(t)),o[e?"startContainer":"endContainer"]=n,o[e?"startOffset":"endOffset"]=i)}e(!0),e();var t=s.createRng();return t.setStart(o.startContainer,o.startOffset),o.endContainer&&t.setEnd(o.endContainer,o.endOffset),n.normalizeRange(t)}}}),o("tinymce.core.dom.DomQuery",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DomQuery")}),o("tinymce.plugins.lists.core.Selection",["tinymce.core.dom.DomQuery","tinymce.core.util.Tools","tinymce.plugins.lists.core.NodeType"],function(t,n,i){function o(e){return e.dom.getParent(e.selection.getStart(!0),"OL,UL,DL")}return{getParentList:o,getSelectedSubLists:function(e){var t=o(e);return n.grep(e.selection.getSelectedBlocks(),function(e){return i.isListNode(e)&&t!==e})},getSelectedListItems:function(e){e=e.selection.getSelectedBlocks();return n.grep(function(e){e=n.map(e,function(e){var t=e.parentNode;return!i.isListItemNode(e)&&i.isListItemNode(t)?t:e});return t.unique(e)}(e),function(e){return i.isListItemNode(e)})}}}),o("tinymce.plugins.lists.actions.Indent",["tinymce.core.dom.DOMUtils","tinymce.plugins.lists.core.Bookmark","tinymce.plugins.lists.core.NodeType","tinymce.plugins.lists.core.Selection"],function(e,c,a,d){var u=e.DOM,m=function(e,t){var n;if(a.isListNode(e)){for(;n=e.firstChild;)t.appendChild(n);u.remove(e)}};return{indentSelection:function(e){var t,n,i,o,r=d.getSelectedListItems(e);if(r.length){for(var s=c.createBookmark(e.selection.getRng(!0)),l=0;l<r.length&&(t=r[l],o=i=n=void 0,("DT"===t.nodeName?(u.rename(t,"DD"),!0):(n=t.previousSibling)&&a.isListNode(n)?(n.appendChild(t),!0):n&&"LI"===n.nodeName&&a.isListNode(n.lastChild)?(n.lastChild.appendChild(t),m(t.lastChild,n.lastChild),!0):(n=t.nextSibling)&&a.isListNode(n)?(n.insertBefore(t,n.firstChild),!0):!(!(n=t.previousSibling)||"LI"!==n.nodeName)&&(i=u.create(t.parentNode.nodeName),(o=u.getStyle(t.parentNode,"listStyleType"))&&u.setStyle(i,"listStyleType",o),n.appendChild(i),i.appendChild(t),m(t.lastChild,i),!0))||0!==l);l++);return e.selection.setRng(c.resolveBookmark(s)),e.nodeChanged(),!0}}}}),o("tinymce.plugins.lists.core.NormalizeLists",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools","tinymce.plugins.lists.core.NodeType"],function(e,n,o){function i(e,t){var n,i=t.parentNode;"LI"===i.nodeName&&i.firstChild===t&&((n=i.previousSibling)&&"LI"===n.nodeName?(n.appendChild(t),o.isEmpty(e,i)&&r.remove(i)):r.setStyle(i,"listStyleType","none")),o.isListNode(i)&&(n=i.previousSibling)&&"LI"===n.nodeName&&n.appendChild(t)}var r=e.DOM;return{normalizeList:i,normalizeLists:function(t,e){n.each(n.grep(t.select("ol,ul",e)),function(e){i(t,e)})}}}),o("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),o("tinymce.plugins.lists.core.TextBlock",["tinymce.core.dom.DOMUtils","tinymce.core.Env","tinymce.plugins.lists.core.NodeType"],function(e,a,d){var u=e.DOM;return{createNewTextBlock:function(e,t,n){var i,o,r,s=u.createFragment(),l=e.schema.getBlockElements();if((n=e.settings.forced_root_block?n||e.settings.forced_root_block:n)&&((o=u.create(n)).tagName===e.settings.forced_root_block&&u.setAttribs(o,e.settings.forced_root_block_attrs),d.isBlock(t.firstChild,l)||s.appendChild(o)),t)for(;i=t.firstChild;){var c=i.nodeName;r||"SPAN"===c&&"bookmark"===i.getAttribute("data-mce-type")||(r=!0),d.isBlock(i,l)?(s.appendChild(i),o=null):(n?(o||(o=u.create(n),s.appendChild(o)),o):s).appendChild(i)}return e.settings.forced_root_block?r||a.ie&&!(10<a.ie)||o.appendChild(u.create("br",{"data-mce-bogus":"1"})):s.appendChild(u.create("br")),s}}}),o("tinymce.plugins.lists.core.SplitList",["tinymce.core.dom.DOMUtils","tinymce.plugins.lists.core.NodeType","tinymce.plugins.lists.core.TextBlock","tinymce.core.util.Tools"],function(e,c,a,d){var u=e.DOM;return{splitList:function(e,t,n,i){var o,r,s,l=u.select('span[data-mce-type="bookmark"]',t);for(i=i||a.createNewTextBlock(e,n),(o=u.createRng()).setStartAfter(n),o.setEndAfter(t),r=(o=o.extractContents()).firstChild;r;r=r.firstChild)if("LI"===r.nodeName&&e.dom.isEmpty(r)){u.remove(r);break}e.dom.isEmpty(o)||u.insertAfter(o,t),u.insertAfter(i,t),c.isEmpty(e.dom,n.parentNode)&&(s=n.parentNode,d.each(l,function(e){s.parentNode.insertBefore(e,n.parentNode)}),u.remove(s)),u.remove(n),c.isEmpty(e.dom,t)&&u.remove(t)}}}),o("tinymce.plugins.lists.actions.Outdent",["tinymce.core.dom.DOMUtils","tinymce.plugins.lists.core.Bookmark","tinymce.plugins.lists.core.NodeType","tinymce.plugins.lists.core.NormalizeLists","tinymce.plugins.lists.core.Selection","tinymce.plugins.lists.core.SplitList","tinymce.plugins.lists.core.TextBlock"],function(e,l,o,r,c,s,a){function d(e,t){o.isEmpty(e,t)&&m.remove(t)}function u(e,t){var n=t.parentNode,i=n.parentNode;return n!==e.getBody()&&("DD"===t.nodeName?m.rename(t,"DT"):o.isFirstChild(t)&&o.isLastChild(t)?"LI"===i.nodeName?(m.insertAfter(t,i),d(e.dom,i),m.remove(n)):o.isListNode(i)?m.remove(n,!0):(i.insertBefore(a.createNewTextBlock(e,t),n),m.remove(n)):o.isFirstChild(t)?"LI"===i.nodeName?(m.insertAfter(t,i),t.appendChild(n),d(e.dom,i)):o.isListNode(i)?i.insertBefore(t,n):(i.insertBefore(a.createNewTextBlock(e,t),n),m.remove(t)):o.isLastChild(t)?"LI"===i.nodeName?m.insertAfter(t,i):o.isListNode(i)?m.insertAfter(t,n):(m.insertAfter(a.createNewTextBlock(e,t),n),m.remove(t)):(i="LI"===i.nodeName?(n=i,a.createNewTextBlock(e,t,"LI")):o.isListNode(i)?a.createNewTextBlock(e,t,"LI"):a.createNewTextBlock(e,t),s.splitList(e,n,t,i),r.normalizeLists(e.dom,n.parentNode))),!0}var m=e.DOM;return{outdent:u,outdentSelection:function(e){var t=c.getSelectedListItems(e);if(t.length){for(var n,i=l.createBookmark(e.selection.getRng(!0)),o=e.getBody(),r=t.length;r--;)for(var s=t[r].parentNode;s&&s!==o;){for(n=t.length;n--;)if(t[n]===s){t.splice(r,1);break}s=s.parentNode}for(r=0;r<t.length&&(u(e,t[r])||0!==r);r++);return e.selection.setRng(l.resolveBookmark(i)),e.nodeChanged(),!0}}}}),o("tinymce.core.dom.BookmarkManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.BookmarkManager")}),o("tinymce.plugins.lists.actions.ToggleList",["tinymce.core.dom.BookmarkManager","tinymce.core.util.Tools","tinymce.plugins.lists.actions.Outdent","tinymce.plugins.lists.core.Bookmark","tinymce.plugins.lists.core.NodeType","tinymce.plugins.lists.core.NormalizeLists","tinymce.plugins.lists.core.Selection","tinymce.plugins.lists.core.SplitList"],function(d,u,r,m,f,s,g,l){function c(n,e){u.each(e,function(e,t){n.setAttribute(t,e)})}function p(e,t,n){var i=e.getBody(),o=t[n?"startContainer":"endContainer"],t=t[n?"startOffset":"endOffset"];for(1===o.nodeType&&(o=o.childNodes[Math.min(t,o.childNodes.length-1)]||o);o.parentNode!==i;){if(f.isTextBlock(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o}function o(e,t,n){return i(t,n)&&a(e,t,n)&&h(t,n)}var y=function(e,t,n){var i,o=e,r=t,s=n;s=s["list-style-type"]||null,o.setStyle(r,"list-style-type",s),o=e,c(r=t,(i=n)["list-attributes"]),u.each(o.select("li",r),function(e){c(e,i["list-item-attributes"])})},N=function(r,s,l){var e,t=r.selection.getRng(!0),c="LI",a=r.dom;l=l||{},"false"!==a.getContentEditable(r.selection.getNode())&&("DL"===(s=s.toUpperCase())&&(c="DT"),e=m.createBookmark(t),u.each(function(n,e){for(var i,o=[],r=n.getBody(),s=n.dom,t=p(n,e,!0),l=p(n,e,!1),c=[],a=t;a&&(c.push(a),a!==l);a=a.nextSibling);return u.each(c,function(e){var t;f.isTextBlock(n,e)?(o.push(e),i=null):s.isBlock(e)||f.isBr(e)?(f.isBr(e)&&s.remove(e),i=null):(t=e.nextSibling,d.isBookmarkNode(e)&&(f.isTextBlock(n,t)||!t&&e.parentNode===r)?i=null:(i||(i=s.create("p"),e.parentNode.insertBefore(i,e),o.push(i)),i.appendChild(e)))}),o}(r,t),function(e){var t,n,i,o=e.previousSibling;o&&f.isListNode(o)&&o.nodeName===s&&(n=o,n=a.getStyle(n,"list-style-type"),i=l?l["list-style-type"]:"",n===(i=null===i?"":i))?(t=o,e=a.rename(e,c),o.appendChild(e)):(t=a.create(s),e.parentNode.insertBefore(t,e),t.appendChild(e),e=a.rename(e,c)),y(a,t,l),L(r.dom,t)}),r.selection.setRng(m.resolveBookmark(e)))},v=function(i){var e=m.createBookmark(i.selection.getRng(!0)),o=i.getBody(),t=g.getSelectedListItems(i),n=u.grep(t,function(e){return i.dom.isEmpty(e)}),t=u.grep(t,function(e){return!i.dom.isEmpty(e)});u.each(n,function(e){f.isEmpty(i.dom,e)&&r.outdent(i,e)}),u.each(t,function(e){var t,n;if(e.parentNode!==i.getBody()){for(t=e;t&&t!==o;t=t.parentNode)f.isListNode(t)&&(n=t);l.splitList(i,n,e),s.normalizeLists(i.dom,n.parentNode)}}),i.selection.setRng(m.resolveBookmark(e))},i=function(e,t){return e&&t&&f.isListNode(e)&&e.nodeName===t.nodeName},a=function(e,t,n){return e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0)},h=function(e,t){return e.className===t.className},L=function(e,t){var n,i=t.nextSibling;if(o(e,t,i)){for(;n=i.firstChild;)t.appendChild(n);e.remove(i)}if(i=t.previousSibling,o(e,t,i)){for(;n=i.lastChild;)t.insertBefore(n,t.firstChild);e.remove(i)}},k=function(e,t,n,i){t.nodeName!==n?(n=e.rename(t,n),y(e,n,i)):y(e,t,i)},C=function(e){return"list-style-type"in e};return{toggleList:function(e,t,n){var i,o,r,s,l,c=g.getParentList(e),a=g.getSelectedSubLists(e);n=n||{},c&&0<a.length?(i=e,a=a,r=t,s=n,(o=c).nodeName!==r||C(s)?(l=m.createBookmark(i.selection.getRng(!0)),u.each([o].concat(a),function(e){k(i.dom,e,r,s)}),i.selection.setRng(m.resolveBookmark(l))):v(i,r)):(o=t,a=n,(l=c)!==(t=e).getBody()&&(l?l.nodeName!==o||C(a)?(n=m.createBookmark(t.selection.getRng(!0)),y(t.dom,l,a),L(t.dom,t.dom.rename(l,o)),t.selection.setRng(m.resolveBookmark(n))):v(t,o):N(t,o,a)))},removeList:v,mergeWithAdjacentLists:L}}),o("tinymce.core.dom.TreeWalker",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.TreeWalker")}),o("tinymce.plugins.lists.core.Delete",["tinymce.core.dom.RangeUtils","tinymce.core.dom.TreeWalker","tinymce.core.util.VK","tinymce.plugins.lists.actions.ToggleList","tinymce.plugins.lists.core.Bookmark","tinymce.plugins.lists.core.NodeType","tinymce.plugins.lists.core.NormalizeLists","tinymce.plugins.lists.core.Range","tinymce.plugins.lists.core.Selection"],function(s,l,n,a,d,u,t,m,i){function f(e,t,n){var i,o,r=t.startContainer,t=t.startOffset;if(3===r.nodeType&&(n?t<r.data.length:0<t))return r;for(i=e.schema.getNonEmptyElements(),1===r.nodeType&&(r=s.getNode(r,t)),o=new l(r,e.getBody()),n&&u.isBogusBr(e.dom,r)&&o.next();r=o[n?"next":"prev2"]();){if("LI"===r.nodeName&&!r.hasChildNodes())return r;if(i[r.nodeName])return r;if(3===r.nodeType&&0<r.data.length)return r}}function c(e,t){return 1===(t=t.childNodes).length&&!u.isListNode(t[0])&&e.isBlock(t[0])}function g(e,t,n){var i,o,r=c(e,n)?n.firstChild:n;if(c(n=e,o=t)&&n.remove(o.firstChild,!0),!u.isEmpty(e,t,!0))for(;i=t.firstChild;)r.appendChild(i)}function p(e,t,n){var i,o,r=t.parentNode;u.isChildOfBody(e,t)&&u.isChildOfBody(e,n)&&(u.isListNode(n.lastChild)&&(o=n.lastChild),r===n.lastChild&&u.isBr(r.previousSibling)&&e.remove(r.previousSibling),(i=n.lastChild)&&u.isBr(i)&&t.hasChildNodes()&&e.remove(i),u.isEmpty(e,n,!0)&&e.$(n).empty(),g(e,t,n),o&&n.appendChild(o),e.remove(t),u.isEmpty(e,r)&&r!==e.getRoot()&&e.remove(r))}function y(e,t,n,i){var o,r,s,l=e.dom;l.isEmpty(i)?(r=n,s=i,(o=e).dom.$(s).empty(),p(o.dom,r,s),o.selection.setCursorLocation(s)):(r=d.createBookmark(t),p(l,n,i),e.selection.setRng(d.resolveBookmark(r)))}function o(e,t){var n,i=e.dom,o=e.selection,r=i.getParent(o.getStart(),"LI");if(r){if((n=r.parentNode)===e.getBody()&&u.isEmpty(i,n))return!0;var s,l,c,o=m.normalizeRange(o.getRng(!0));if((i=i.getParent(f(e,o,t),"LI"))&&i!==r)return t?y(e,o,i,r):(s=e,l=o,r=r,c=i,l=d.createBookmark(o),p(s.dom,r,c),s.selection.setRng(d.resolveBookmark(l))),!0;if(!i&&!t&&a.removeList(e,n.nodeName))return!0}return!1}function r(i,o){var r=i.dom,s=r.getParent(i.selection.getStart(),r.isBlock);if(s&&r.isEmpty(s)){var e=m.normalizeRange(i.selection.getRng(!0)),l=r.getParent(f(i,e,o),"LI");if(l)return i.undoManager.transact(function(){var e,t,n;t=s,n=(e=r).getParent(t.parentNode,e.isBlock),e.remove(t),n&&e.isEmpty(n)&&e.remove(n),a.mergeWithAdjacentLists(r,l.parentNode),i.selection.select(l,!0),i.selection.collapse(o)}),!0}return!1}function N(e,t){return e.selection.isCollapsed()?v(e,t):h(e)}var v=function(e,t){return o(e,t)||r(e,t)},h=function(e){return!!(e.dom.getParent(e.selection.getStart(),"LI,DT,DD")||0<i.getSelectedListItems(e).length)&&(e.undoManager.transact(function(){e.execCommand("Delete"),t.normalizeLists(e.dom,e.getBody())}),!0)};return{setup:function(t){t.on("keydown",function(e){e.keyCode===n.BACKSPACE?N(t,!1)&&e.preventDefault():e.keyCode===n.DELETE&&N(t,!0)&&e.preventDefault()})},backspaceDelete:N}}),o("tinymce.plugins.lists.Plugin",["tinymce.core.PluginManager","tinymce.core.util.Tools","tinymce.core.util.VK","tinymce.plugins.lists.actions.Indent","tinymce.plugins.lists.actions.Outdent","tinymce.plugins.lists.actions.ToggleList","tinymce.plugins.lists.core.Delete","tinymce.plugins.lists.core.NodeType","tinymce.plugins.lists.core.Selection"],function(e,o,r,s,l,c,t,a,n){function d(t,n){return function(){var e=t.dom.getParent(t.selection.getStart(),"UL,OL,DL");return e&&e.nodeName===n}}function i(i){function e(n){return function(){var t=this;i.on("NodeChange",function(e){e=o.grep(e.parents,a.isListNode);t.active(0<e.length&&e[0].nodeName===n)})}}!function(e,t){e=e.settings.plugins||"";return-1!==o.inArray(e.split(/[ ,]/),t)}(i,"advlist")&&(i.addButton("numlist",{title:"Numbered list",cmd:"InsertOrderedList",onPostRender:e("OL")}),i.addButton("bullist",{title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:e("UL")})),i.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent",onPostRender:function(e){var t=e.control;i.on("nodechange",function(){var e=n.getSelectedListItems(i),e=0<e.length&&a.isFirstChild(e[0]);t.disabled(e)})}})}return e.add("lists",function(n){return i(n),t.setup(n),n.on("init",function(){var i,e,t;(i=n).on("BeforeExecCommand",function(e){var t,n=e.command.toLowerCase();if("indent"===n?s.indentSelection(i)&&(t=!0):"outdent"===n&&l.outdentSelection(i)&&(t=!0),t)return i.fire("ExecCommand",{command:e.command}),e.preventDefault(),!0}),i.addCommand("InsertUnorderedList",function(e,t){c.toggleList(i,"UL",t)}),i.addCommand("InsertOrderedList",function(e,t){c.toggleList(i,"OL",t)}),i.addCommand("InsertDefinitionList",function(e,t){c.toggleList(i,"DL",t)}),(e=n).addQueryStateHandler("InsertUnorderedList",d(e,"UL")),e.addQueryStateHandler("InsertOrderedList",d(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",d(e,"DL")),n.getParam("lists_indent_on_tab",!0)&&(t=n).on("keydown",function(e){9!==e.keyCode||r.metaKeyPressed(e)||t.dom.getParent(t.selection.getStart(),"LI,DT,DD")&&(e.preventDefault(),e.shiftKey?l.outdentSelection(t):s.indentSelection(t))})}),{backspaceDelete:function(e){t.backspaceDelete(n,e)}}}),function(){}}),l("tinymce.plugins.lists.Plugin")()}();
!function(){function t(t,o,e){if("string"!=typeof t)throw"module id must be a string";if(void 0===o)throw"no dependencies for "+t;if(void 0===e)throw"no definition function for "+t;a[t]={deps:o,defn:e,instance:void 0}}function c(t){var o=a[t];if(void 0===o)throw"module ["+t+"] was undefined";return void 0===o.instance&&n(t),o.instance}var o,e,a={},n=function(t){for(var o=a[t],e=o.deps,n=o.defn,r=e.length,l=new Array(r),i=0;i<r;++i)l[i]=c(e[i]);n=n.apply(null,l);if(void 0===n)throw"module ["+t+"] returned undefined";o.instance=n},r=t;o="global!tinymce.util.Tools.resolve",e=tinymce.util.Tools.resolve,r(o,[],function(){return e}),r("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(t){return t("tinymce.dom.DOMUtils")}),r("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(t){return t("tinymce.PluginManager")}),r("tinymce.core.util.I18n",["global!tinymce.util.Tools.resolve"],function(t){return t("tinymce.util.I18n")}),r("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(t){return t("tinymce.util.Tools")}),r("tinymce.plugins.textcolor.Plugin",["tinymce.core.dom.DOMUtils","tinymce.core.PluginManager","tinymce.core.util.I18n","tinymce.core.util.Tools"],function(m,t,o,f){var b=o.translate;return t.add("textcolor",function(u){var d,g;function t(){var t,o,e,n,r,l,i,c=this._id,a=0;function s(t,o){var e="transparent"==t;return'<td class="mce-grid-cell'+(e?" mce-colorbtn-trans":"")+'"><div id="'+c+"-"+a+++'" data-mce-color="'+(t||"")+'" role="option" tabIndex="-1" style="'+(t?"background-color: "+t:"")+'" title="'+b(o)+'">'+(e?"&#215;":"")+"</div></td>"}for((t=function(t){var o,e=[],n=["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FFFFFF","White","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum"];for(n=u.settings.textcolor_map||n,n=u.settings[t+"_map"]||n,o=0;o<n.length;o+=2)e.push({text:n[o+1],color:"#"+n[o]});return e}(i=this.settings.origin)).push({text:b("No color"),color:"transparent"}),o='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',e=t.length-1,r=0;r<g[i];r++){for(o+="<tr>",n=0;n<d[i];n++)o+=e<(l=r*d[i]+n)?"<td></td>":s((l=t[l]).color,l.text);o+="</tr>"}if(u.settings.color_picker_callback){for(o=o+('<tr><td colspan="'+d[i]+'" class="mce-custom-color-btn"><div id="'+c+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+c+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+b("Custom...")+"</button></div></td></tr>")+"<tr>",n=0;n<d[i];n++)o+=s("","Custom color");o+="</tr>"}return o+="</tbody></table>"}function r(t,o){u.undoManager.transact(function(){u.focus(),u.formatter.apply(t,{value:o}),u.nodeChanged()})}function s(t){u.undoManager.transact(function(){u.focus(),u.formatter.remove(t,{value:null},null,!0),u.nodeChanged()})}function o(t){var o,l,e,n,i=this.parent();function c(t){i.hidePanel(),i.color(t),r(i.settings.format,t)}function a(t,o){t.style.background=o,t.setAttribute("data-mce-color",o)}l=i.settings.origin,m.DOM.getParent(t.target,".mce-custom-color-btn")&&(i.hidePanel(),u.settings.color_picker_callback.call(u,function(t){for(var o,e=i.panel.getEl().getElementsByTagName("table")[0],n=f.map(e.rows[e.rows.length-1].childNodes,function(t){return t.firstChild}),r=0;r<n.length&&(o=n[r]).getAttribute("data-mce-color");r++);if(r==d[l])for(r=0;r<d[l]-1;r++)a(n[r],n[r+1].getAttribute("data-mce-color"));a(o,t),c(t)},(e=i.settings.format,u.dom.getParents(u.selection.getStart(),function(t){(t=t.style["forecolor"==e?"color":"background-color"])&&(n=t)}),n))),(o=t.target.getAttribute("data-mce-color"))?(this.lastId&&document.getElementById(this.lastId).setAttribute("aria-selected",!1),t.target.setAttribute("aria-selected",!0),this.lastId=t.target.id,"transparent"==o?(i.hidePanel(),i.resetColor(),s(i.settings.format)):c(o)):null!==o&&i.hidePanel()}function e(){this._color?r(this.settings.format,this._color):s(this.settings.format)}g={forecolor:u.settings.forecolor_rows||u.settings.textcolor_rows||5,backcolor:u.settings.backcolor_rows||u.settings.textcolor_rows||5},d={forecolor:u.settings.forecolor_cols||u.settings.textcolor_cols||8,backcolor:u.settings.backcolor_cols||u.settings.textcolor_cols||8},u.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{origin:"forecolor",role:"application",ariaRemember:!0,html:t,onclick:o},onclick:e}),u.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{origin:"backcolor",role:"application",ariaRemember:!0,html:t,onclick:o},onclick:e})}),function(){}}),c("tinymce.plugins.textcolor.Plugin")()}();
!function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;l[e]={deps:t,defn:n,instance:void 0}}function s(e){var t=l[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&i(e),t.instance}var t,n,l={},i=function(e){for(var t=l[e],n=t.deps,i=t.defn,r=n.length,o=new Array(r),a=0;a<r;++a)o[a]=s(n[a]);i=i.apply(null,o);if(void 0===i)throw"module ["+e+"] returned undefined";t.instance=i},r=e;t="global!tinymce.util.Tools.resolve",n=tinymce.util.Tools.resolve,r(t,[],function(){return n}),r("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),r("tinymce.core.dom.RangeUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.RangeUtils")}),r("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),r("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Delay")}),r("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),r("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.VK")}),r("tinymce.plugins.paste.core.InternalHtml",[],function(){var e="x-tinymce/html",t="\x3c!-- "+e+" --\x3e";return{mark:function(e){return t+e},unmark:function(e){return e.replace(t,"")},isMarked:function(e){return-1!==e.indexOf(t)},internalHtmlMime:function(){return e}}}),r("tinymce.core.html.DomParser",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.html.DomParser")}),r("tinymce.core.html.Schema",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.html.Schema")}),r("tinymce.plugins.paste.core.Utils",["tinymce.core.util.Tools","tinymce.core.html.DomParser","tinymce.core.html.Schema"],function(i,l,c){function u(t,e){return i.each(e,function(e){t=e.constructor==RegExp?t.replace(e,""):t.replace(e[0],e[1])}),t}return{filter:u,innerText:function(e){var t=new c,n=new l({},t),r="",o=t.getShortEndedElements(),a=i.makeMap("script noscript style textarea video audio iframe object"," "),s=t.getBlockElements();return e=u(e,[/<!\[[^\]]+\]>/g]),function e(t){var n=t.name,i=t;if("br"===n)r+="\n";else if(o[n]&&(r+=" "),a[n])r+=" ";else{if(3==t.type&&(r+=t.value),!t.shortEnded&&(t=t.firstChild))for(;e(t),t=t.next;);s[n]&&i.next&&(r+="\n","p"==n&&(r+="\n"))}}(n.parse(e)),r},trimHtml:function(e){return e=u(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(e,t,n){return t||n?"":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},createIdGenerator:function(e){var t=0;return function(){return e+t++}},isMsEdge:function(){return-1!==navigator.userAgent.indexOf(" Edge/")}}}),r("tinymce.plugins.paste.core.CutCopy",["tinymce.core.Env","tinymce.plugins.paste.core.InternalHtml","tinymce.plugins.paste.core.Utils"],function(r,a,o){function s(e,t,n){var i;if(i=e,!1===r.iOS&&void 0!==i&&"function"==typeof i.setData&&!0!==o.isMsEdge())try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(a.internalHtmlMime(),t),1}catch(e){return}}var i=function(){},l=function(e,t,n,i){s(e.clipboardData,t.html,t.text)?(e.preventDefault(),i()):n(t.html,i)},c=function(o){return function(e,t){var e=a.mark(e),n=o.dom.create("div",{contenteditable:"false"}),e=o.dom.create("div",{contenteditable:"true"},e),i=(o.dom.setStyles(n,{position:"fixed",left:"-3000px",width:"1000px",overflow:"hidden"}),n.appendChild(e),o.dom.add(o.getBody(),n),o.selection.getRng()),r=(e.focus(),o.dom.createRng());r.selectNodeContents(e),o.selection.setRng(r),setTimeout(function(){n.parentNode.removeChild(n),o.selection.setRng(i),t()},0)}},u=function(e){return{html:e.selection.getContent({contextual:!0}),text:e.selection.getContent({format:"text"})}};return{register:function(e){var t,n;e.on("cut",(t=e,function(e){!1===t.selection.isCollapsed()&&l(e,u(t),c(t),function(){setTimeout(function(){t.execCommand("Delete")},0)})})),e.on("copy",(n=e,function(e){!1===n.selection.isCollapsed()&&l(e,u(n),c(n),i)}))}}}),r("tinymce.core.html.Entities",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.html.Entities")}),r("tinymce.plugins.paste.core.Newlines",["tinymce.core.util.Tools","tinymce.core.html.Entities"],function(o,r){function i(e){return e.replace(/\r?\n/g,"<br>")}function a(e,t,n){var e=e.split(/\n\n/),i=s(t,n),r="</"+t+">";return 1===(n=o.map(e,function(e){return e.split(/\n/).join("<br />")})).length?n[0]:o.map(n,function(e){return i+e+r}).join("")}var s=function(e,t){var n,i=[],e="<"+e;if("object"==typeof t){for(n in t)t.hasOwnProperty(n)&&i.push(n+'="'+r.encodeAllRaw(t[n])+'"');i.length&&(e+=" "+i.join(" "))}return e+">"};return{isPlainText:function(e){return!/<(?:(?!\/?(?:div|p|br))[^>]*|(?:div|p|br)\s+\w[^>]+)>/.test(e)},convert:function(e,t,n){return t?a(e,t,n):i(e)},toBRs:i,toBlockElements:a}}),r("tinymce.plugins.paste.core.SmartPaste",["tinymce.core.util.Tools"],function(r){function a(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)}function s(e){return a(e)&&/.(gif|jpe?g|png)$/.test(e)}var o=function(e,t,n){return!(!1!==e.selection.isCollapsed()||!a(t))&&(r=t,o=n,(i=e).undoManager.extra(function(){o(i,r)},function(){i.execCommand("mceInsertLink",!1,r)}),!0);var i,r,o},l=function(e,t,n){return!!s(t)&&(r=t,o=n,(i=e).undoManager.extra(function(){o(i,r)},function(){i.insertContent('<img src="'+r+'">')}),!0);var i,r,o},c=function(e,t){return e.insertContent(t,{merge:!1!==e.settings.paste_merge_formats,paste:!0}),!0};return{isImageUrl:s,isAbsoluteUrl:a,insertContent:function(e,t){var n,i;!1===e.settings.smart_paste?c(e,t):(n=e,i=t,r.each([o,l,c],function(e){return!0!==e(n,i,c)}))}}}),r("tinymce.plugins.paste.core.Clipboard",["tinymce.core.dom.RangeUtils","tinymce.core.Env","tinymce.core.util.Delay","tinymce.core.util.Tools","tinymce.core.util.VK","tinymce.plugins.paste.core.CutCopy","tinymce.plugins.paste.core.InternalHtml","tinymce.plugins.paste.core.Newlines","tinymce.plugins.paste.core.SmartPaste","tinymce.plugins.paste.core.Utils"],function(T,k,D,R,t,e,E,S,M,F){return function(l){var c,u,d,f=this,m=0,a=!1,p="%MCEPASTEBIN%",o="data:text/mce-internal,",g=F.createIdGenerator("mceclip");function y(e,t){var n,i,r=l.dom,t=t||E.isMarked(e);e=E.unmark(e),i=l.fire("BeforePastePreProcess",{content:e,internal:t}),e=(i=l.fire("PastePreProcess",i)).content,i.isDefaultPrevented()||(l.hasEventListeners("PastePostProcess")&&!i.isDefaultPrevented()&&(n=r.add(l.getBody(),"div",{style:"display:none"},e),i=l.fire("PastePostProcess",{node:n,internal:t}),r.remove(n),e=i.node.innerHTML),i.isDefaultPrevented()||M.insertContent(l,e))}function v(e){e=l.dom.encode(e).replace(/\r\n/g,"\n"),y(e=S.convert(e,l.settings.forced_root_block,l.settings.forced_root_block_attrs),!1)}function h(){var e,t,r=l.dom,n=l.getBody(),i=l.dom.getViewPort(l.getWin()).y,o=20;u=l.selection.getRng(),l.inline&&(e=l.selection.getScrollContainer())&&0<e.scrollTop&&(i=e.scrollTop),u.getClientRects&&((t=function(e){var t,n=e.startContainer,i=e.getClientRects();if(i.length)return i[0];if(e.collapsed&&1==n.nodeType){for(t=n.childNodes[u.startOffset];t&&3==t.nodeType&&!t.data.length;)t=t.nextSibling;if(t)return"BR"==t.tagName&&(n=r.doc.createTextNode("\ufeff"),t.parentNode.insertBefore(n,t),(e=r.createRng()).setStartBefore(n),e.setEndAfter(n),i=e.getClientRects(),r.remove(n)),i.length?i[0]:void 0}}(u))?o=i+(t.top-r.getPos(n).y):(o=i,(t=u.startContainer)&&1==(t=3==t.nodeType&&t.parentNode!=n?t.parentNode:t).nodeType&&(o=r.getPos(t,e||n).y))),c=r.add(l.getBody(),"div",{id:"mcepastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: absolute; top: "+o+"px;width: 10px; height: 10px; overflow: hidden; opacity: 0"},p),(k.ie||k.gecko)&&r.setStyle(c,"left","rtl"==r.getStyle(n,"direction",!0)?65535:-65535),r.bind(c,"beforedeactivate focusin focusout",function(e){e.stopPropagation()}),c.focus(),l.selection.select(c,!0)}function b(){if(c){for(var e;e=l.dom.get("mcepastebin");)l.dom.remove(e),l.dom.unbind(e);u&&l.selection.setRng(u)}c=u=null}function x(){for(var e,t="",n=l.dom.select("div[id=mcepastebin]"),i=0;i<n.length;i++)e=(e=(e=n[i]).firstChild&&"mcepastebin"==e.firstChild.id?e.firstChild:e).innerHTML,t!=p&&(t+=e);return t}function w(e){var t,n={};if(e&&(!e.getData||(t=e.getData("Text"))&&0<t.length&&-1==t.indexOf(o)&&(n["text/plain"]=t),e.types))for(var i=0;i<e.types.length;i++){var r=e.types[i];try{n[r]=e.getData(r)}catch(e){n[r]=""}}return n}function P(e){return C(e,"text/html")||C(e,"text/plain")}function s(e,t,n){e&&(l.selection.setRng(e),e=null);var i,r,e=t.result,o=-1!==(a=(t=e).indexOf(","))?t.substr(a+1):null,t=g(),a=l.settings.images_reuse_filename&&n.name?(a=(a=n.name).match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i))?l.dom.encode(a[1]):null:t,s=new Image;s.src=e,r=l.settings,s=s,!r.images_dataimg_filter||r.images_dataimg_filter(s)?((s=(r=l.editorUpload.blobCache).findFirst(function(e){return e.base64()===o}))?i=s:(i=r.create(t,n,o,a),r.add(i)),y('<img src="'+i.blobUri()+'">',!1)):y('<img src="'+e+'">',!1)}function _(o,a){var e=o.clipboardData||o.dataTransfer;function t(e){var t,n=!1;if(e)for(t=0;t<e.length;t++){var i,r=e[t];/^image\/(jpeg|png|gif|bmp)$/.test(r.type)&&(r=r.getAsFile?r.getAsFile():r,(i=new FileReader).onload=s.bind(null,a,i,r),i.readAsDataURL(r),o.preventDefault(),n=!0)}return n}if(l.settings.paste_data_images&&e)return t(e.items)||t(e.files)}function C(e,t){return t in e&&0<e[t].length}function n(e){return t.metaKeyPressed(e)&&86==e.keyCode||e.shiftKey&&45==e.keyCode}function e(){function s(e,t,n,i){var r,o;C(e,"text/html")?r=e["text/html"]:(r=x())==p&&(n=!0),r=F.trimHtml(r),c&&c.firstChild&&"mcepastebin"===c.firstChild.id&&(n=!0),b(),o=!1===i&&S.isPlainText(r),(r=(n=r.length&&!o?n:!0)?C(e,"text/plain")&&o?e["text/plain"]:F.innerText(r):r)==p?t||l.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):n?v(r):y(r,i)}l.on("keydown",function(e){function t(e){n(e)&&!e.isDefaultPrevented()&&b()}!n(e)||e.isDefaultPrevented()||(d=e.shiftKey&&86==e.keyCode)&&k.webkit&&-1!=navigator.userAgent.indexOf("Version/")||(e.stopImmediatePropagation(),m=(new Date).getTime(),k.ie&&d?(e.preventDefault(),l.fire("paste",{ieFake:!0})):(b(),h(),l.once("keyup",t),l.once("paste",function(){l.off("keyup",t)})))});l.on("paste",function(e){var t=(new Date).getTime(),n=(i=w((i=e).clipboardData||l.getDoc().dataTransfer),F.isMsEdge()?R.extend(i,{"text/html":""}):i),i=(new Date).getTime()-t,r=(new Date).getTime()-m-i<1e3,o="text"==f.pasteFormat||d,a=C(n,E.internalHtmlMime());d=!1,e.isDefaultPrevented()||(t=(t=e).clipboardData,-1!=navigator.userAgent.indexOf("Android")&&t&&t.items&&0===t.items.length)||!P(n)&&_(e,u||l.selection.getRng())?b():(r||e.preventDefault(),!k.ie||r&&!e.ieFake||C(n,"text/html")||(h(),l.dom.bind(c,"paste",function(e){e.stopPropagation()}),l.getDoc().execCommand("Paste",!1,null),n["text/html"]=x()),C(n,"text/html")?(e.preventDefault(),s(n,r,o,a)):D.setEditorTimeout(l,function(){s(n,r,o,a)},0))}),l.on("dragstart dragend",function(e){a="dragstart"==e.type}),l.on("drop",function(e){var t,n,i,r,o=T.getCaretRangeFromPoint(e.clientX,e.clientY,l.getDoc());e.isDefaultPrevented()||a||(n=C(t=w(e.dataTransfer),E.internalHtmlMime()),(!P(t)||(i=(i=t)["text/plain"])&&0===i.indexOf("file://"))&&_(e,o)||o&&!1!==l.settings.paste_filter_drop&&(r=t["mce-internal"]||t["text/html"]||t["text/plain"])&&(e.preventDefault(),D.setEditorTimeout(l,function(){l.undoManager.transact(function(){t["mce-internal"]&&l.execCommand("Delete"),l.selection.setRng(o),r=F.trimHtml(r),t["text/html"]?y(r,n):v(r)})})))}),l.on("dragover dragend",function(e){l.settings.paste_data_images&&e.preventDefault()})}f.pasteHtml=y,f.pasteText=v,f.pasteImageData=_,l.on("preInit",function(){e(),l.parser.addNodeFilter("img",function(e,t,n){function i(e){e.attr("data-mce-object")||o===k.transparentSrc||e.remove()}if(!l.settings.paste_data_images&&((n=n).data&&!0===n.data.paste))for(var r=e.length;r--;){var o=e[r].attributes.map.src;!o||0!==o.indexOf("webkit-fake-url")&&(l.settings.allow_html_data_urls||0!==o.indexOf("data:"))||i(e[r])}})})}}),r("tinymce.core.html.Serializer",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.html.Serializer")}),r("tinymce.core.html.Node",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.html.Node")}),r("tinymce.plugins.paste.core.WordFilter",["tinymce.core.util.Tools","tinymce.core.html.DomParser","tinymce.core.html.Schema","tinymce.core.html.Serializer","tinymce.core.html.Node","tinymce.plugins.paste.core.Utils"],function(d,c,u,f,m,p){function g(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)}function e(l){var o=l.settings;l.on("BeforePastePreProcess",function(e){var a,s,t,n,i=e.content;function r(e){var r,o,a=1;function s(e,t){if(3!==e.type||!t.test(e.value)){if(e=e.firstChild)do{if(!s(e,t))return}while(e=e.next);return 1}e.value=e.value.replace(t,"")}function t(e,t,n){var i=e._listLevel||a;(r=i!=a?i<a?r&&r.parent.parent:(o=r,null):r)&&r.name==t?r.append(e):(o=o||r,r=new m(t,1),1<n&&r.attr("start",""+n),e.wrap(r)),e.name="li",a<i&&o&&o.lastChild.append(r),a=i,function e(t){if(t._listIgnore)t.remove();else if(t=t.firstChild)for(;e(t),t=t.next;);}(e),s(e,/^\u00a0+/),s(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),s(e,/^\u00a0+/)}for(var n=[],i=e.firstChild;null!=i;)if(n.push(i),null!==(i=i.walk()))for(;void 0!==i&&i.parent!==e;)i=i.walk();for(var l,c,u=0;u<n.length;u++)"p"==(e=n[u]).name&&e.firstChild?(l=function e(t){var n="";if(3===t.type)return t.value;if(t=t.firstChild)for(;n+=e(t),t=t.next;);return n}(e),/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(l)?t(e,"ul"):!function(t){var n,e=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return t=t.replace(/^[\u00a0 ]+/,""),d.each(e,function(e){if(e.test(t))return!(n=!0)}),n}(l)?e._listLevel?t(e,"ul",1):r=null:(c=1,t(e,"ol",c=(l=/([0-9]+)\./.exec(l))?parseInt(l[1],10):c))):(o=r,r=null)}i=(i=i.replace(/<b[^>]+id="?docs-internal-[^>]*>/gi,"")).replace(/<br class="?Apple-interchange-newline"?>/gi,""),(a=o.paste_retain_style_properties)&&(s=d.makeMap(a.split(/[, ]/))),!1!==o.paste_enable_default_filters&&g(e.content)&&(e.wordContent=!0,i=p.filter(i,[/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,""],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return 0<t.length?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(""):""}]]),t=o.paste_word_valid_elements,t=new u({valid_elements:t=t||"-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody",valid_children:"-li[p]"}),d.each(t.elements,function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))}),(n=new c({},t)).addAttributeFilter("style",function(e){for(var t,n=e.length;n--;)(t=e[n]).attr("style",function(n,i){var r,o={},e=l.dom.parseStyle(i);return d.each(e,function(e,t){switch(t){case"mso-list":(r=/\w+ \w+([0-9]+)/i.exec(i))&&(n._listLevel=parseInt(r[1],10)),/Ignore/i.test(e)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":t="text-align";break;case"vert-align":t="vertical-align";break;case"font-color":case"mso-foreground":t="color";break;case"mso-background":case"mso-highlight":t="background";break;case"font-weight":case"font-style":return void("normal"!=e&&(o[t]=e));case"mso-element":if(/^(comment|comment-list)$/i.test(e))return void n.remove()}0===t.indexOf("mso-comment")?n.remove():0!==t.indexOf("mso-")&&("all"==a||s&&s[t])&&(o[t]=e)}),/(bold)/i.test(o["font-weight"])&&(delete o["font-weight"],n.wrap(new m("b",1))),/(italic)/i.test(o["font-style"])&&(delete o["font-style"],n.wrap(new m("i",1))),(o=l.dom.serializeStyle(o,n.name))?o:null}(t,t.attr("style"))),"span"==t.name&&t.parent&&!t.attributes.length&&t.unwrap()}),n.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)n=(t=e[i]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)}),n.addNodeFilter("del",function(e){for(var t=e.length;t--;)e[t].remove()}),n.addNodeFilter("a",function(e){for(var t,n,i,r=e.length;r--;)n=(t=e[r]).attr("href"),i=t.attr("name"),n&&-1!=n.indexOf("#_msocom_")?t.remove():!(n=n&&0===n.indexOf("file://")?(n=n.split("#")[1])&&"#"+n:n)&&!i||i&&!/^_?(?:toc|edn|ftn)/i.test(i)?t.unwrap():t.attr({href:n,name:i})}),n=n.parse(i),!1!==o.paste_convert_word_fake_lists&&r(n),e.content=new f({validate:o.validate},t).serialize(n))})}return e.isWordContent=g,e}),r("tinymce.plugins.paste.core.Quirks",["tinymce.core.Env","tinymce.core.util.Tools","tinymce.plugins.paste.core.WordFilter","tinymce.plugins.paste.core.Utils"],function(n,r,o,a){"use strict";return function(i){function e(t){i.on("BeforePastePreProcess",function(e){e.content=t(e.content)})}var t;n.webkit&&e(function(e){var c,u,d;return o.isWordContent(e)||(d=i.settings.paste_webkit_styles,!1!==i.settings.paste_remove_styles_if_webkit&&"all"!=d&&(e=(e=(d=d&&d.split(/[, ]/))?(c=i.dom,u=i.selection.getNode(),e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(e,t,n,i){var r=c.parseStyle(c.decode(n),"span"),o={};if("none"===d)return t+i;for(var a=0;a<d.length;a++){var s=r[d[a]],l=c.getStyle(u,d[a],!0);/color/.test(d[a])&&(s=c.toHex(s),l=c.toHex(l)),l!=s&&(o[d[a]]=s)}return(o=c.serializeStyle(o,"span"))?t+' style="'+o+'"'+i:t+i})):e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3")).replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(e,t,n,i){return t+' style="'+n+'"'+i}))),e}),n.ie&&(e(function(e){var n,t;return o.isWordContent(e)&&(n=[],r.each(i.schema.getBlockElements(),function(e,t){n.push(t)}),t=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g"),e=a.filter(e,[[t,"$1"]]),e=a.filter(e,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])),e}),t=function(e){i.$("a",e).find("font,u").each(function(e,t){i.dom.remove(t,!0)})},i.on("PastePostProcess",function(e){t(e.node)}))}}),r("tinymce.plugins.paste.Plugin",["tinymce.core.PluginManager","tinymce.plugins.paste.core.Clipboard","tinymce.plugins.paste.core.CutCopy","tinymce.plugins.paste.core.Quirks","tinymce.plugins.paste.core.WordFilter"],function(a,s,l,c,u){var d;return a.add("paste",function(n){var i,r=this,t=n.settings;function e(){var e;"text"==i.pasteFormat?(i.pasteFormat="html",n.fire("PastePlainTextToggle",{state:!1})):(i.pasteFormat="text",n.fire("PastePlainTextToggle",{state:!0}),d||!1===n.settings.paste_plaintext_inform||(e=n.translate("Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off."),n.notificationManager.open({text:e,type:"info"}),d=!0)),n.focus()}function o(){var t=this;t.active("text"===i.pasteFormat),n.on("PastePlainTextToggle",function(e){t.active(e.state)})}/(^|[ ,])powerpaste([, ]|$)/.test(t.plugins)&&a.get("powerpaste")?"undefined"!=typeof console&&console.log&&console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."):(r.clipboard=i=new s(n),r.quirks=new c(n),r.wordFilter=new u(n),n.settings.paste_as_text&&(r.clipboard.pasteFormat="text"),t.paste_preprocess&&n.on("PastePreProcess",function(e){t.paste_preprocess.call(r,r,e)}),t.paste_postprocess&&n.on("PastePostProcess",function(e){t.paste_postprocess.call(r,r,e)}),n.addCommand("mceInsertClipboardContent",function(e,t){t.content&&r.clipboard.pasteHtml(t.content,t.internal),t.text&&r.clipboard.pasteText(t.text)}),n.settings.paste_block_drop&&n.on("dragend dragover draggesture dragdrop drop drag",function(e){e.preventDefault(),e.stopPropagation()}),n.settings.paste_data_images||n.on("drop",function(e){var t=e.dataTransfer;t&&t.files&&0<t.files.length&&e.preventDefault()}),n.addCommand("mceTogglePlainTextPaste",e),n.addButton("pastetext",{icon:"pastetext",tooltip:"Paste as text",onclick:e,onPostRender:o}),n.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:i.pasteFormat,onclick:e,onPostRender:o}),l.register(n))}),function(){}}),s("tinymce.plugins.paste.Plugin")()}();
!function(){function e(e,t,n){if("string"!=typeof e)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+e;if(void 0===n)throw"no definition function for "+e;c[e]={deps:t,defn:n,instance:void 0}}function l(e){var t=c[e];if(void 0===t)throw"module ["+e+"] was undefined";return void 0===t.instance&&n(e),t.instance}function t(e,t){o(e,[],function(){return t})}var c={},n=function(e){for(var t=c[e],n=t.deps,o=t.defn,i=n.length,r=new Array(i),a=0;a<i;++a)r[a]=l(n[a]);o=o.apply(null,r);if(void 0===o)throw"module ["+e+"] returned undefined";t.instance=o},o=e;t("global!window",window),t("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),o("tinymce.core.AddOnManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.AddOnManager")}),o("tinymce.core.EditorManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.EditorManager")}),o("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),o("tinymce.core.ui.Api",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.ui.Api")}),o("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),o("tinymce.core.ui.Factory",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.ui.Factory")}),o("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),o("tinymce.themes.modern.ui.A11y",[],function(){function n(t,n){return function(){var e=t.find(n)[0];e&&e.focus(!0)}}return{addKeys:function(e,t){e.shortcuts.add("Alt+F9","",n(t,"menubar")),e.shortcuts.add("Alt+F10,F10","",n(t,"toolbar")),e.shortcuts.add("Alt+F11","",n(t,"elementpath")),t.on("cancel",function(){e.focus()})}}}),o("tinymce.themes.modern.ui.Branding",["tinymce.core.dom.DOMUtils"],function(e){function o(t,n,o){return function(){var e=t.getContentAreaContainer().querySelector("iframe").offsetWidth,e=Math.max(e-t.getDoc().documentElement.offsetWidth,0);r.setStyle(n,"right",e+"px"),o?r.setStyle(n,"top","-16px"):r.setStyle(n,"bottom","1px")}}function i(e,t,n){o(e,t,n)(),e.on("NodeChange ResizeEditor",o(e,t,n))}var r=e.DOM,a=function(e){return function(){r.hide(e)}},l=function(e,t,n){n.appendChild(t),i(e,t,!0)},c=function(e,t){e.getContainer().appendChild(t),i(e,t,!1)};return{setup:function(e){var n;!1!==e.settings.branding&&(n=e).on("SkinLoaded",function(){var e=r.create("div",{class:"mce-branding-powered-by"}),t=n.getContainer().querySelector(".mce-statusbar");t?l(n,e,t):c(n,e),r.bind(e,"click",a(e))})}}}),o("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Delay")}),o("tinymce.core.geom.Rect",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.geom.Rect")}),o("tinymce.themes.modern.ui.Toolbar",["tinymce.core.util.Tools","tinymce.core.ui.Factory"],function(l,c){function a(o,e,i){var r,a=[];if(e)return l.each(e.split(/[ ,]/),function(t){function e(){var e=o.selection;t.settings.stateSelector&&e.selectorChanged(t.settings.stateSelector,function(e){t.active(e)},!0),t.settings.disabledStateSelector&&e.selectorChanged(t.settings.disabledStateSelector,function(e){t.disabled(e)})}var n;"|"==t?r=null:(r||(r={type:"buttongroup",items:[]},a.push(r)),o.buttons[t]&&(n=t,(t="function"==typeof(t=o.buttons[n])?t():t).type=t.type||"button",t.size=i,t=c.create(t),r.items.push(t),o.initialized?e():o.on("init",e)))}),{type:"toolbar",layout:"flow",items:a}}return{createToolbar:a,createToolbars:function(t,n){function e(e){return e&&(o.push(a(t,e,n)),1)}var o=[],i=t.settings;if(l.isArray(i.toolbar)){if(0===i.toolbar.length)return;l.each(i.toolbar,function(e,t){i["toolbar"+(t+1)]=e}),delete i.toolbar}for(var r=1;r<10&&e(i["toolbar"+r]);r++);if(o.length||!1===i.toolbar||e(i.toolbar||"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"),o.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:o}}}}),o("tinymce.themes.modern.ui.ContextToolbars",["tinymce.core.dom.DOMUtils","tinymce.core.util.Tools","tinymce.core.util.Delay","tinymce.core.ui.Factory","tinymce.core.geom.Rect","tinymce.themes.modern.ui.Toolbar"],function(e,y,c,s,h,u){function b(e,t){e.moveTo(t.left,t.top)}function g(e,t,n,o,i,r){return r=a({x:t,y:n,w:r.w,h:r.h}),r=e?e({elementRect:a(o),contentAreaRect:a(i),panelRect:r}):r}var p=e.DOM,a=function(e){return{left:e.x,top:e.y,width:e.w,height:e.h,right:e.x+e.w,bottom:e.y+e.h}};return{addContextualToolbars:function(d){function r(){return d.contextToolbars||[]}function n(e,t){var n,o,i,r,a,l,c,s,u=m.inline_toolbar_position_handler;d.removed||(e&&e.toolbar.panel?(c=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],s=e.toolbar.panel,t&&s.show(),t=f(e.element),n=p.getRect(s.getEl()),o=p.getRect(d.getContentAreaContainer()||d.getBody()),"inline"!==p.getStyle(e.element,"display",!0)&&(t.w=e.element.clientWidth,t.h=e.element.clientHeight),d.inline||(o.w=d.getDoc().documentElement.offsetWidth),d.selection.controlSelection.isResizable(e.element)&&t.w<25&&(t=h.inflate(t,0,8)),e=h.findBestRelativePosition(n,t,o,c),t=h.clamp(t,o),e?(i=h.relativePosition(n,t,e),b(s,g(u,i.x,i.y,t,o,n))):(o.h+=n.h,(t=h.intersect(o,t))?(e=h.findBestRelativePosition(n,t,o,["bc-tc","bl-tl","br-tr"]))?(i=h.relativePosition(n,t,e),b(s,g(u,i.x,i.y,t,o,n))):b(s,g(u,t.x,t.y,t,o,n)):s.hide()),r=s,l=function(e,t){return e===t},a=(a=e)?a.substr(0,2):"",y.each({t:"down",b:"up"},function(e,t){r.classes.toggle("arrow-"+e,l(t,a.substr(0,1)))}),y.each({l:"left",r:"right"},function(e,t){r.classes.toggle("arrow-"+e,l(t,a.substr(1,1)))})):y.each(d.contextToolbars,function(e){e.panel&&e.panel.hide()}))}function t(e){var t;e.toolbar.panel?e.toolbar.panel.show():(a||(a=d.selection.getScrollContainer()||d.getWin(),p.bind(a,"scroll",l(!0)),d.on("remove",function(){p.unbind(a,"scroll")})),t=s.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:u.createToolbar(d,e.toolbar.items),oncancel:function(){d.focus()}}),(e.toolbar.panel=t).renderTo(document.body).reflow()),n(e)}function o(){y.each(r(),function(e){e.panel&&e.panel.hide()})}function i(e){for(var t,n=r(),o=d.$(e).parents().add(e),i=o.length-1;0<=i;i--)for(t=n.length-1;0<=t;t--)if(n[t].predicate(o[i]))return{toolbar:n[t],element:o[i]};return null}var a,m=d.settings,f=function(e){var t=p.getPos(d.getContentAreaContainer()),e=d.dom.getRect(e),n=d.dom.getRoot();return"BODY"===n.nodeName&&(e.x-=n.ownerDocument.documentElement.scrollLeft||n.scrollLeft,e.y-=n.ownerDocument.documentElement.scrollTop||n.scrollTop),e.x+=t.x,e.y+=t.y,e},l=function(e){return function(){c.requestAnimationFrame(function(){d.selection&&n(i(d.selection.getNode()),e)})}};d.on("click keyup setContent ObjectResized",function(e){"setcontent"===e.type&&!e.selection||c.setEditorTimeout(d,function(){var e=i(d.selection.getNode());e?(o(),t(e)):o()})}),d.on("blur hide contextmenu",o),d.on("ObjectResizeStart",function(){var e=i(d.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.hide()}),d.on("ResizeEditor ResizeWindow",l(!0)),d.on("nodeChange",l(!1)),d.on("remove",function(){y.each(r(),function(e){e.panel&&e.panel.remove()}),d.contextToolbars={}}),d.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",function(){var e=i(d.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.items()[0].focus()})}}}),o("tinymce.themes.modern.ui.Menubar",["tinymce.core.util.Tools"],function(s){var u={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},d=function(e,t){return"|"==t?{text:"|"}:e[t]};return{createMenuButtons:function(e){var t,n=[],o=e.settings,i=[];if(o.menu)for(t in o.menu)i.push(t);else for(t in u)i.push(t);for(var r="string"==typeof o.menubar?o.menubar.split(/[ ,]/):i,a=0;a<r.length;a++){var l=r[a];(l=function(t,e,n){var o,i,r,a,l=s.makeMap((e.removed_menuitems||"").split(/[ ,]/));if(e.menu?(i=e.menu[n],a=!0):i=u[n],i){o={text:i.title},r=[],s.each((i.items||"").split(/[ ,]/),function(e){d(t,e)&&!l[e]&&r.push(d(t,e))}),a||s.each(t,function(e){e.context==n&&("before"==e.separator&&r.push({text:"|"}),e.prependToContext?r.unshift(e):r.push(e),"after"==e.separator&&r.push({text:"|"}))});for(var c=0;c<r.length;c++)"|"!=r[c].text||0!==c&&c!=r.length-1||r.splice(c,1);if(o.menu=r,!o.menu.length)return null}return o}(e.menuItems,e.settings,l))&&n.push(l)}return n}}}),o("tinymce.themes.modern.ui.Resize",["tinymce.core.dom.DOMUtils"],function(e){function c(e){return{width:e.clientWidth,height:e.clientHeight}}function i(e,t,n){var o=e.settings,i=e.getContainer(),r=e.getContentAreaContainer().firstChild,a=c(i),l=c(r);null!==t&&(t=Math.max(o.min_width||100,t),t=Math.min(o.max_width||65535,t),s.setStyle(i,"width",t+(a.width-l.width)),s.setStyle(r,"width",t)),n=Math.max(o.min_height||100,n),n=Math.min(o.max_height||65535,n),s.setStyle(r,"height",n),e.fire("ResizeEditor")}var s=e.DOM;return{resizeTo:i,resizeBy:function(e,t,n){var o=e.getContentAreaContainer();i(e,o.clientWidth+t,o.clientHeight+n)}}}),o("tinymce.themes.modern.ui.Sidebar",["tinymce.core.util.Tools","tinymce.core.ui.Factory","tinymce.core.Env"],function(i,l,t){var c=function(e,t,n){var o,e=e.settings[n];e&&e((o=t.getEl("body"),{element:function(){return o}}))},s=function(n,o,e){i.each(e,function(e){var t=o.items().filter("#"+e.name)[0];t&&t.visible()&&e.name!==n&&(c(e,t,"onhide"),t.visible(!1))})},u=function(e){e.items().each(function(e){e.active(!1)})},d=function(e,t){return i.grep(e,function(e){return e.name===t})[0]};return{hasSidebar:function(e){return!(t.ie&&!(11<=t.ie)||!e.sidebars)&&0<e.sidebars.length},createSidebar:function(n){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:i.map(n.sidebars,function(e){var i,r,a,t=e.settings;return{type:"button",icon:t.icon,image:t.image,tooltip:t.tooltip,onclick:(i=n,r=e.name,a=n.sidebars,function(e){var e=e.control,t=e.parents().filter("panel")[0],n=t.find("#"+r)[0],o=d(a,r);s(r,t,a),u(e.parent()),n&&n.visible()?(c(o,n,"onhide"),n.hide(),e.active(!1)):(n?n.show():(n=l.create({type:"container",name:r,layout:"stack",classes:"sidebar-panel",html:""}),t.prepend(n),c(o,n,"onrender")),c(o,n,"onshow"),e.active(!0)),i.fire("ResizeEditor")})}})}]}}}}),o("tinymce.themes.modern.ui.SkinLoaded",[],function(){return{fireSkinLoaded:function(e){function t(){e._skinLoaded=!0,e.fire("SkinLoaded")}return function(){e.initialized?t():e.on("init",t)}}}}),o("tinymce.themes.modern.modes.Iframe",["tinymce.core.dom.DOMUtils","tinymce.core.ui.Factory","tinymce.core.util.Tools","tinymce.themes.modern.ui.A11y","tinymce.themes.modern.ui.Branding","tinymce.themes.modern.ui.ContextToolbars","tinymce.themes.modern.ui.Menubar","tinymce.themes.modern.ui.Resize","tinymce.themes.modern.ui.Sidebar","tinymce.themes.modern.ui.SkinLoaded","tinymce.themes.modern.ui.Toolbar"],function(e,c,t,s,u,d,m,f,y,h,b){var g=e.DOM,p=function(e){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:e,html:""}};return{render:function(t,e,n){var o,i,r,a,l=t.settings;return n.skinUiCss&&g.styleSheetLoader.load(n.skinUiCss,h.fireSkinLoaded(t)),o=e.panel=c.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[!1===l.menubar?null:{type:"menubar",border:"0 0 1 0",items:m.createMenuButtons(t)},b.createToolbars(t,l.toolbar_items_size),y.hasSidebar(t)?(e=t,{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[p("0"),y.createSidebar(e)]}):p("1 0 0 0")]}),!1!==l.resize&&(i={type:"resizehandle",direction:l.resize,onResizeStart:function(){var e=t.getContentAreaContainer().firstChild;r={width:e.clientWidth,height:e.clientHeight}},onResize:function(e){"both"===l.resize?f.resizeTo(t,r.width+e.deltaX,r.height+e.deltaY):f.resizeTo(t,null,r.height+e.deltaY)}}),!1!==l.statusbar&&o.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:t},i]}),t.fire("BeforeRenderUI"),t.on("SwitchMode",(a=o,function(e){a.find("*").disabled("readonly"===e.mode)})),o.renderBefore(n.targetNode).reflow(),l.readonly&&t.setMode("readonly"),n.width&&g.setStyle(o.getEl(),"width",n.width),t.on("remove",function(){o.remove(),o=null}),s.addKeys(t,o),d.addContextualToolbars(t),u.setup(t),{iframeContainer:o.find("#iframe")[0].getEl(),editorContainer:o.getEl()}}}}),o("tinymce.core.ui.FloatPanel",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.ui.FloatPanel")}),o("tinymce.themes.modern.modes.Inline",["tinymce.core.util.Tools","tinymce.core.ui.Factory","tinymce.core.dom.DOMUtils","tinymce.core.ui.FloatPanel","tinymce.themes.modern.ui.Toolbar","tinymce.themes.modern.ui.Menubar","tinymce.themes.modern.ui.ContextToolbars","tinymce.themes.modern.ui.A11y","tinymce.themes.modern.ui.SkinLoaded"],function(e,d,m,f,y,h,b,g,p){return{render:function(r,t,e){function n(){a&&(a.show(),u(),s.addClass(r.getBody(),"mce-edit-focus"))}function o(){a&&(a.hide(),f.hideAll(),s.removeClass(r.getBody(),"mce-edit-focus"))}function i(){var e;a?a.visible()||n():(a=t.panel=d.create({type:l?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!l,border:1,items:[!1===c.menubar?null:{type:"menubar",border:"0 0 1 0",items:h.createMenuButtons(r)},y.createToolbars(r,c.toolbar_items_size)]}),r.fire("BeforeRenderUI"),a.renderTo(l||document.body).reflow(),g.addKeys(r,a),n(),b.addContextualToolbars(r),r.on("nodeChange",u),r.on("activate",n),r.on("deactivate",o),r.nodeChanged(),(e=jQuery("#wysiwyg-toolbar")).find(".tiny-mce-color-picker").wpColorPicker(s4.admin.helper.colorPicker()),e.find(".wp-picker-holder").append('<div class="save-color"></div>'),e.find(".iris-palette-container").html(s4.admin.helper.customColorsPalette()),e.find(".iris-square-value").removeAttr("href"))}var a,l,c=r.settings,s=m.DOM,u=(c.fixed_toolbar_container&&(l=s.select(c.fixed_toolbar_container)[0]),function(){var e,t,n,o,i;a&&a.moveRel&&a.visible()&&!a._fixed&&(n=r.selection.getScrollContainer(),e=r.getBody(),i=o=0,n&&(t=s.getPos(e),n=s.getPos(n),o=Math.max(0,n.x-t.x),i=Math.max(0,n.y-t.y)),a.fixed(!1).moveRel(e,r.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(o,i))});return c.content_editable=!0,r.on("focus",function(){e.skinUiCss?s.styleSheetLoader.load(e.skinUiCss,i,i):i()}),r.on("blur hide",o),r.on("remove",function(){a&&(a.remove(),a=null)}),e.skinUiCss&&s.styleSheetLoader.load(e.skinUiCss,p.fireSkinLoaded(r)),{}}}}),o("tinymce.core.ui.Throbber",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.ui.Throbber")}),o("tinymce.themes.modern.ui.ProgressState",["tinymce.core.ui.Throbber"],function(o){return{setup:function(e,t){var n;e.on("ProgressState",function(e){n=n||new o(t.panel.getEl("body")),e.state?n.show(e.time):n.hide()})}}}),o("tinymce.themes.modern.Theme",["global!window","tinymce.core.AddOnManager","tinymce.core.EditorManager","tinymce.core.Env","tinymce.core.ui.Api","tinymce.themes.modern.modes.Iframe","tinymce.themes.modern.modes.Inline","tinymce.themes.modern.ui.ProgressState","tinymce.themes.modern.ui.Resize"],function(e,t,l,n,o,c,s,u,i){t=t.ThemeManager;o.appendTo(e.tinymce||{});return t.add("modern",function(a){return{renderUI:function(e){return n=this,e=e,i=(t=a).settings,(r=!1!==i.skin&&(i.skin||"lightgray"))&&(o=(o=i.skin_url)?t.documentBaseURI.toAbsolute(o):l.baseURL+"/skins/"+r),u.setup(t,n),(i.inline?s:c).render(t,n,e);var t,n,o,i,r},resizeTo:function(e,t){return i.resizeTo(a,e,t)},resizeBy:function(e,t){return i.resizeBy(a,e,t)}}}),function(){}}),l("tinymce.themes.modern.Theme")()}();
!function(t){"undefined"!=typeof exports?module.exports=t():window.LightRouter=t(window)}(function(s){function t(t){this.pathRoot="",this.routes=[],this.type="path",this.path=null,this.hash=null,(this.context=this).handler=s;var e,h="([\\w-]+)";if(this.namedParam={match:new RegExp("{("+h+")}","g"),replace:h},(t=t||{}).type&&this.setType(t.type),t.path&&this.setPath(t.path),t.pathRoot&&this.setPathRoot(t.pathRoot),t.hash&&this.setHash(t.hash),t.context&&this.setContext(t.context),t.handler&&this.setHandler(t.handler),t.routes)for(e in t.routes)this.add(e,t.routes[e])}function e(t,e,h){this.path=t,this.callback=e,this.router=h,this.values=[]}return t.prototype={Route:e,add:function(t,e){return this.routes.push(new this.Route(t,e,this)),this},empty:function(){return this.routes=[],this},setType:function(t){return this.type=t,this},setPathRoot:function(t){return this.pathRoot=t,this},setPath:function(t){return this.path=t,this},setHash:function(t){return this.hash=t,this},setContext:function(t){return this.context=t,this},setHandler:function(t){return this.handler=t,this},getUrl:function(t){var e,h;return"path"==(t=t||this.type)?(e=new RegExp("^"+this.pathRoot+"/?"),h=(h=this.path||s.location.pathname.substring(1)).replace(e,"")):"hash"==t&&(h=this.hash||s.location.hash.substring(1)),decodeURI(h)},match:function(t,e){t=new this.Route(t,e,this);if(t.test(this.getUrl()))return t.run()},run:function(){var t,e,h=this.getUrl();for(e in this.routes)if((t=this.routes[e]).test(h))return t.run(),t}},e.prototype={regex:function(){var t=this.path;return"string"==typeof t?new RegExp("^"+t.replace(/\//g,"\\/").replace(this.router.namedParam.match,this.router.namedParam.replace)+"$"):t},params:function(){var t,e={},h=this.values,s=h,r=0,i=this.path;for(t in"string"==typeof i&&(r=1,s=i.match(this.router.namedParam.match)),s)e[r?s[t].replace(this.router.namedParam.match,"$1"):t]=h[t];return e},test:function(t){return!!(t=t.match(this.regex()))&&(this.values=t.slice(1),!0)},run:function(){return"string"==typeof this.callback?this.router.handler[this.callback](this.params()):this.callback.apply(this.router.context,[this.params()])}},t});
!function(e,i){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("jquery")):e.jQueryBridget=i(e,e.jQuery)}(window,function(t,e){"use strict";var i=Array.prototype.slice,n=t.console,d=void 0===n?function(){}:function(t){n.error(t)};function s(l,h,c){(c=c||e||t.jQuery)&&(h.prototype.option||(h.prototype.option=function(t){c.isPlainObject(t)&&(this.options=c.extend(!0,this.options,t))}),c.fn[l]=function(t){var e,n,s,o,r,a;return"string"==typeof t?(e=i.call(arguments,1),s=e,r="$()."+l+'("'+(n=t)+'")',(e=this).each(function(t,e){var i,e=c.data(e,l);e?(i=e[n])&&"_"!=n.charAt(0)?(i=i.apply(e,s),o=void 0===o?i:o):d(r+" is not a valid method"):d(l+" not initialized. Cannot call methods, i.e. "+r)}),void 0!==o?o:e):(a=t,this.each(function(t,e){var i=c.data(e,l);i?(i.option(a),i._init()):(i=new h(e,a),c.data(e,l,i))}),this)},o(c))}function o(t){t&&!t.bridget&&(t.bridget=s)}return o(e||t.jQuery),s}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){var i;if(t&&e)return-1==(i=(i=this._events=this._events||{})[t]=i[t]||[]).indexOf(e)&&i.push(e),this},e.once=function(t,e){var i;if(t&&e)return this.on(t,e),((i=this._onceEvents=this._onceEvents||{})[t]=i[t]||{})[e]=!0,this},e.off=function(t,e){t=this._events&&this._events[t];if(t&&t.length)return-1!=(e=t.indexOf(e))&&t.splice(e,1),this},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],s=0;s<i.length;s++){var o=i[s];n&&n[o]&&(this.off(t,o),delete n[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",e):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function m(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var e="undefined"==typeof console?function(){}:function(t){console.error(t)},v=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],y=v.length;function b(t){t=getComputedStyle(t);return t||e("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),t}var E,S=!1;function x(t){if(S||(S=!0,(c=document.createElement("div")).style.width="200px",c.style.padding="1px 2px 3px 4px",c.style.borderStyle="solid",c.style.borderWidth="1px 2px 3px 4px",c.style.boxSizing="border-box",(h=document.body||document.documentElement).appendChild(c),o=b(c),E=200==Math.round(m(o.width)),x.isBoxSizeOuter=E,h.removeChild(c)),(t="string"==typeof t?document.querySelector(t):t)&&"object"==typeof t&&t.nodeType){var e=b(t);if("none"==e.display){for(var i={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},n=0;n<y;n++)i[v[n]]=0;return i}for(var s={},o=(s.width=t.offsetWidth,s.height=t.offsetHeight,s.isBorderBox="border-box"==e.boxSizing),r=0;r<y;r++){var a=v[r],l=e[a],l=parseFloat(l);s[a]=isNaN(l)?0:l}var h=s.paddingLeft+s.paddingRight,c=s.paddingTop+s.paddingBottom,t=s.marginLeft+s.marginRight,d=s.marginTop+s.marginBottom,u=s.borderLeftWidth+s.borderRightWidth,p=s.borderTopWidth+s.borderBottomWidth,f=o&&E,g=m(e.width),g=(!1!==g&&(s.width=g+(f?0:h+u)),m(e.height));return!1!==g&&(s.height=g+(f?0:c+p)),s.innerWidth=s.width-(h+u),s.innerHeight=s.height-(c+p),s.outerWidth=s.width+t,s.outerHeight=s.height+d,s}}return x}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var i=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i]+"MatchesSelector";if(t[n])return n}}();return function(t,e){return t[i](e)}}),function(e,i){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("desandro-matches-selector")):e.fizzyUIUtils=i(e,e.matchesSelector)}(window,function(i,o){var l={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},e=Array.prototype.slice,h=(l.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?e.call(t):[t]},l.removeFrom=function(t,e){e=t.indexOf(e);-1!=e&&t.splice(e,1)},l.getParent=function(t,e){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,o(t,e))return t},l.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},l.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.filterFindElements=function(t,n){t=l.makeArray(t);var s=[];return t.forEach(function(t){if(t instanceof HTMLElement)if(n){o(t,n)&&s.push(t);for(var e=t.querySelectorAll(n),i=0;i<e.length;i++)s.push(e[i])}else s.push(t)}),s},l.debounceMethod=function(t,e,n){n=n||100;var s=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o],e=(clearTimeout(t),arguments),i=this;this[o]=setTimeout(function(){s.apply(i,e),delete i[o]},n)}},l.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},l.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()},i.console);return l.htmlInit=function(r,a){l.docReady(function(){var t=l.toDashed(a),n="data-"+t,e=document.querySelectorAll("["+n+"]"),t=document.querySelectorAll(".js-"+t),e=l.makeArray(e).concat(l.makeArray(t)),s=n+"-options",o=i.jQuery;e.forEach(function(e){var t,i=e.getAttribute(n)||e.getAttribute(s);try{t=i&&JSON.parse(i)}catch(t){return void(h&&h.error("Error parsing "+n+" on "+e.className+": "+t))}i=new r(e,t);o&&o.data(e,a,i)})})},l}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],function(t){return e(0,t)}):"object"==typeof module&&module.exports?module.exports=e(0,require("get-size")):(t.Flickity=t.Flickity||{},t.Flickity.Cell=e(0,t.getSize))}(window,function(t,e){function i(t,e){this.element=t,this.parent=e,this.create()}var n=i.prototype;return n.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-selected","false"),this.x=0,this.shift=0},n.destroy=function(){this.element.style.position="";var t=this.parent.originSide;this.element.removeAttribute("aria-selected"),this.element.style[t]=""},n.getSize=function(){this.size=e(this.element)},n.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},n.updateTarget=n.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},n.renderPosition=function(t){var e=this.parent.originSide;this.element.style[e]=this.parent.getPositionValue(t)},n.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},n.remove=function(){this.element.parentNode.removeChild(this.element)},i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/slide",e):"object"==typeof module&&module.exports?module.exports=e():(t.Flickity=t.Flickity||{},t.Flickity.Slide=e())}(window,function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){var e;this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length&&(this.x=t.x,e=this.isOriginLeft?"marginLeft":"marginRight",this.firstMargin=t.size[e])},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),e=e?e.size[t]:0,t=this.outerWidth-(this.firstMargin+e);this.target=this.x+this.firstMargin+t*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.changeSelected(!0)},e.unselect=function(){this.changeSelected(!1)},e.changeSelected=function(e){var i=e?"add":"remove";this.cells.forEach(function(t){t.element.classList[i]("is-selected"),t.element.setAttribute("aria-selected",e.toString())})},e.getCellElements=function(){return this.cells.map(function(t){return t.element})},t}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/animate",["fizzy-ui-utils/utils"],function(t){return e(0,t)}):"object"==typeof module&&module.exports?module.exports=e(0,require("fizzy-ui-utils")):(t.Flickity=t.Flickity||{},t.Flickity.animatePrototype=e(0,t.fizzyUIUtils))}(window,function(t,i){var e={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var t,e=this.x;this.integratePhysics(),this.positionSlider(),this.settle(e),this.isAnimating&&(t=this,requestAnimationFrame(function(){t.animate()}))},positionSlider:function(){var t,e=this.x,e=(this.options.wrapAround&&1<this.cells.length&&(e=i.modulo(e,this.slideableWidth),e-=this.slideableWidth,this.shiftWrapCells(e)),e+=this.cursorPosition,e=this.options.rightToLeft?-e:e,this.getPositionValue(e)),e=(this.slider.style.transform=this.isAnimating?"translate3d("+e+",0,0)":"translateX("+e+")",this.slides[0]);e&&(t=(e=-this.x-e.target)/this.slidesWidth,this.dispatchEvent("scroll",null,[t,e]))},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},settle:function(t){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*t)||this.restingFrames++,2<this.restingFrames&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(t){var e=this.cursorPosition+t,e=(this._shiftCells(this.beforeShiftCells,e,-1),this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition));this._shiftCells(this.afterShiftCells,e,1)},_shiftCells:function(t,e,i){for(var n=0;n<t.length;n++){var s=t[n];s.wrapShift(0<e?i:0),e-=s.size.outerWidth}},_unshiftCells:function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(t){this.velocity+=t},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){var t;this.isDraggable&&this.isPointerDown&&(t=this.dragX-this.x-this.velocity,this.applyForce(t))},applySelectedAttraction:function(){var t;this.isDraggable&&this.isPointerDown||this.isFreeScrolling||!this.slides.length||(t=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction,this.applyForce(t))}};return e}),function(r,a){var t;"function"==typeof define&&define.amd?define("flickity/js/flickity",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],function(t,e,i,n,s,o){return a(r,t,e,i,n,s,o)}):"object"==typeof module&&module.exports?module.exports=a(r,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./slide"),require("./animate")):(t=r.Flickity,r.Flickity=a(r,r.EvEmitter,r.getSize,r.fizzyUIUtils,t.Cell,t.Slide,t.animatePrototype))}(window,function(n,t,e,r,i,a,s){var o=n.jQuery,l=n.getComputedStyle,h=n.console;function c(t,e){for(t=r.makeArray(t);t.length;)e.appendChild(t.shift())}var d=0,u={};function p(t,e){var i,n=r.getQueryElement(t);if(n){if(this.element=n,this.element.flickityGUID)return(i=u[this.element.flickityGUID]).option(e),i;o&&(this.$element=o(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(e),this._create()}else h&&h.error("Bad element for Flickity: "+(n||t))}p.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},p.createMethods=[];var f=p.prototype,g=(r.extend(f,t.prototype),f._create=function(){var t,e=this.guid=++d;for(t in this.element.flickityGUID=e,(u[e]=this).selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&n.addEventListener("resize",this),this.options.on){var i=this.options.on[t];this.on(t,i)}p.createMethods.forEach(function(t){this[t]()},this),this.options.watchCSS?this.watchCSS():this.activate()},f.option=function(t){r.extend(this.options,t)},f.activate=function(){var t;this.isActive||(this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize(),c(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),t=this.options.initialIndex,t=this.isInitActivated?this.selectedIndex:void 0!==t&&this.cells[t]?t:0,this.select(t,!1,!0),this.isInitActivated=!0,this.dispatchEvent("ready"))},f._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},f._filterFindCellElements=function(t){return r.filterFindElements(t,this.options.cellSelector)},f.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},f._makeCells=function(t){return this._filterFindCellElements(t).map(function(t){return new i(t,this)},this)},f.getLastCell=function(){return this.cells[this.cells.length-1]},f.getLastSlide=function(){return this.slides[this.slides.length-1]},f.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},f._positionCells=function(t){this.maxCellHeight=(t=t||0)&&this.maxCellHeight||0;for(var e,i=0,n=(0<t&&(i=(e=this.cells[t-1]).x+e.size.outerWidth),this.cells.length),s=t;s<n;s++){var o=this.cells[s];o.setPosition(i),i+=o.size.outerWidth,this.maxCellHeight=Math.max(o.size.outerHeight,this.maxCellHeight)}this.slideableWidth=i,this.updateSlides(),this._containSlides(),this.slidesWidth=n?this.getLastSlide().target-this.slides[0].target:0},f._sizeCells=function(t){t.forEach(function(t){t.getSize()})},f.updateSlides=function(){var n,s,o;this.slides=[],this.cells.length&&(n=new a(this),this.slides.push(n),s="left"==this.originSide?"marginRight":"marginLeft",o=this._getCanCellFit(),this.cells.forEach(function(t,e){var i;n.cells.length&&(i=n.outerWidth-n.firstMargin+(t.size.outerWidth-t.size[s]),o.call(this,e,i)||(n.updateTarget(),n=new a(this),this.slides.push(n))),n.addCell(t)},this),n.updateTarget(),this.updateSelectedSlide())},f._getCanCellFit=function(){var e,i,t=this.options.groupCells;return t?"number"==typeof t?(e=parseInt(t,10),function(t){return t%e!=0}):(t="string"==typeof t&&t.match(/^(\d+)%$/),i=t?parseInt(t[1],10)/100:1,function(t,e){return e<=(this.size.innerWidth+1)*i}):function(){return!1}},f._init=f.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},f.getSize=function(){this.size=e(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign},{center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}});return f.setCellAlign=function(){var t=g[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},f.setGallerySize=function(){var t;this.options.setGallerySize&&(t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight,this.viewport.style.height=t+"px")},f._getWrapShiftCells=function(){var t,e;this.options.wrapAround&&(this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells),t=this.cursorPosition,e=this.cells.length-1,this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1))},f._getGapCells=function(t,e,i){for(var n=[];0<t;){var s=this.cells[e];if(!s)break;n.push(s),e+=i,t-=s.size.outerWidth}return n},f._containSlides=function(){var t,e,i,n,s,o;this.options.contain&&!this.options.wrapAround&&this.cells.length&&(t=(e=this.options.rightToLeft)?"marginRight":"marginLeft",e=e?"marginLeft":"marginRight",i=this.slideableWidth-this.getLastCell().size[e],n=i<this.size.innerWidth,s=this.cursorPosition+this.cells[0].size[t],o=i-this.size.innerWidth*(1-this.cellAlign),this.slides.forEach(function(t){n?t.target=i*this.cellAlign:(t.target=Math.max(t.target,s),t.target=Math.min(t.target,o))},this))},f.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;this.emitEvent(t,n),o&&this.$element&&(n=t+=this.options.namespaceJQueryEvents?".flickity":"",e&&((e=o.Event(e)).type=t,n=e),this.$element.trigger(n,i))},f.select=function(t,e,i){this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=r.modulo(t,this.slides.length)),this.slides[t]&&(e=this.selectedIndex,this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[t]),t!=e&&this.dispatchEvent("change",null,[t]),this.dispatchEvent("cellSelect")))},f._wrapSelect=function(t){var e=this.slides.length;if(!(this.options.wrapAround&&1<e))return t;var i=r.modulo(t,e),n=Math.abs(i-this.selectedIndex),s=Math.abs(i+e-this.selectedIndex),i=Math.abs(i-e-this.selectedIndex);!this.isDragSelect&&s<n?t+=e:!this.isDragSelect&&i<n&&(t-=e),t<0?this.x-=this.slideableWidth:e<=t&&(this.x+=this.slideableWidth)},f.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},f.next=function(t,e){this.select(this.selectedIndex+1,t,e)},f.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),(this.selectedSlide=t).select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},f.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},f.selectCell=function(t,e,i){var t=this.queryCell(t);t&&(t=this.getCellSlideIndex(t),this.select(t,e,i))},f.getCellSlideIndex=function(t){for(var e=0;e<this.slides.length;e++)if(-1!=this.slides[e].cells.indexOf(t))return e},f.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}},f.getCells=function(t){t=r.makeArray(t);var e=[];return t.forEach(function(t){t=this.getCell(t);t&&e.push(t)},this),e},f.getCellElements=function(){return this.cells.map(function(t){return t.element})},f.getParentCell=function(t){var e=this.getCell(t);return e||(t=r.getParent(t,".flickity-slider > *"),this.getCell(t))},f.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(i<=1+2*t)return this.getCellElements();for(var n=[],s=e-t;s<=e+t;s++){var o=this.options.wrapAround?r.modulo(s,i):s,o=this.slides[o];o&&(n=n.concat(o.getCellElements()))}return n},f.queryCell=function(t){return"number"==typeof t?this.cells[t]:("string"==typeof t&&(t=this.element.querySelector(t)),this.getCell(t))},f.uiChange=function(){this.emitEvent("uiChange")},f.childUIPointerDown=function(t){this.emitEvent("childUIPointerDown",[t])},f.onresize=function(){this.watchCSS(),this.resize()},r.debounceMethod(p,"onresize",150),f.resize=function(){var t;this.isActive&&(this.getSize(),this.options.wrapAround&&(this.x=r.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize"),t=this.selectedElements&&this.selectedElements[0],this.selectCell(t,!1,!0))},f.watchCSS=function(){this.options.watchCSS&&(-1!=l(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},f.onkeydown=function(t){var e=document.activeElement&&document.activeElement!=this.element;this.options.accessibility&&!e&&(e=p.keyboardHandlers[t.keyCode])&&e.call(this)},p.keyboardHandlers={37:function(){var t=this.options.rightToLeft?"next":"previous";this.uiChange(),this[t]()},39:function(){var t=this.options.rightToLeft?"previous":"next";this.uiChange(),this[t]()}},f.focus=function(){var t=n.pageYOffset;this.element.focus({preventScroll:!0}),n.pageYOffset!=t&&n.scrollTo(n.pageXOffset,t)},f.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach(function(t){t.destroy()}),this.element.removeChild(this.viewport),c(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},f.destroy=function(){this.deactivate(),n.removeEventListener("resize",this),this.emitEvent("destroy"),o&&this.$element&&o.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete u[this.guid]},r.extend(f,s),p.data=function(t){t=(t=r.getQueryElement(t))&&t.flickityGUID;return t&&u[t]},r.htmlInit(p,"flickity"),o&&o.bridget&&o.bridget("flickity",p),p.setJQuery=function(t){o=t},p.Cell=i,p}),function(e,i){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("ev-emitter")):e.Unipointer=i(e,e.EvEmitter)}(window,function(n,t){function e(){}var t=e.prototype=Object.create(t.prototype),i=(t.bindStartEvent=function(t){this._bindStartEvent(t,!0)},t.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},t._bindStartEvent=function(t,e){var e=(e=void 0===e||e)?"addEventListener":"removeEventListener",i="mousedown";n.PointerEvent?i="pointerdown":"ontouchstart"in n&&(i="touchstart"),t[e](i,this)},t.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},t.getTouch=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.identifier==this.pointerIdentifier)return i}},t.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},t.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},t.onpointerdown=function(t){this._pointerDown(t,t)},t._pointerDown=function(t,e){t.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},t.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])},{mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]});return t._bindPostStartEvents=function(t){t&&((t=i[t.type]).forEach(function(t){n.addEventListener(t,this)},this),this._boundPointerEvents=t)},t._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(t){n.removeEventListener(t,this)},this),delete this._boundPointerEvents)},t.onmousemove=function(t){this._pointerMove(t,t)},t.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},t.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},t._pointerMove=function(t,e){this.pointerMove(t,e)},t.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},t.onmouseup=function(t){this._pointerUp(t,t)},t.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},t.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},t._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},t.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},t._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},t._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},t.pointerDone=function(){},t.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},t.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},t._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},t.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},e.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},e}),function(e,i){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("unipointer")):e.Unidragger=i(e,e.Unipointer)}(window,function(o,t){function e(){}var i=e.prototype=Object.create(t.prototype),n=(i.bindHandles=function(){this._bindHandles(!0)},i.unbindHandles=function(){this._bindHandles(!1)},i._bindHandles=function(t){for(var e=(t=void 0===t||t)?"addEventListener":"removeEventListener",i=t?this._touchActionValue:"",n=0;n<this.handles.length;n++){var s=this.handles[n];this._bindStartEvent(s,t),s[e]("click",this),o.PointerEvent&&(s.style.touchAction=i)}},i._touchActionValue="none",i.pointerDown=function(t,e){this.okayPointerDown(t)&&(this.pointerDownPointer=e,t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]))},{TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0}),s={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return i.okayPointerDown=function(t){var e=n[t.target.nodeName],t=s[t.target.type],e=!e||t;return e||this._pointerReset(),e},i.pointerDownBlur=function(){var t=document.activeElement;t&&t.blur&&t!=document.body&&t.blur()},i.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},i._dragPointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,e),i},i.hasDragStarted=function(t){return 3<Math.abs(t.x)||3<Math.abs(t.y)},i.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},i._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},i._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e)},i.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},i._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},i.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},i._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},i.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},i.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},i._staticClick=function(t,e){this.isIgnoringMouseUp&&"mouseup"==t.type||(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},i.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},e.getPointerPoint=t.getPointerPoint,e}),function(n,s){"function"==typeof define&&define.amd?define("flickity/js/drag",["./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],function(t,e,i){return s(n,t,e,i)}):"object"==typeof module&&module.exports?module.exports=s(n,require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):n.Flickity=s(n,n.Flickity,n.Unidragger,n.fizzyUIUtils)}(window,function(i,t,e,o){o.extend(t.defaults,{draggable:">1",dragThreshold:3}),t.createMethods.push("_createDrag");var n=t.prototype,s=(o.extend(n,e.prototype),n._touchActionValue="pan-y","createTouch"in document),r=!1,a=(n._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("childUIPointerDown",this._childUIPointerDownDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable),s&&!r&&(i.addEventListener("touchmove",function(){}),r=!0)},n.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},n.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},n.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=1<this.slides.length:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},n.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},n.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},n._uiChangeDrag=function(){delete this.isFreeScrolling},n._childUIPointerDownDrag=function(t){t.preventDefault(),this.pointerDownFocus(t)},n.pointerDown=function(t,e){this.isDraggable?this.okayPointerDown(t)&&(this._pointerDownPreventDefault(t),this.pointerDownFocus(t),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=l(),i.addEventListener("scroll",this),this._pointerDownDefault(t,e)):this._pointerDownDefault(t,e)},n._pointerDownDefault=function(t,e){this.pointerDownPointer=e,this._bindPostStartEvents(t),this.dispatchEvent("pointerDown",t,[e])},{INPUT:!0,TEXTAREA:!0,SELECT:!0});function l(){return{x:i.pageXOffset,y:i.pageYOffset}}return n.pointerDownFocus=function(t){a[t.target.nodeName]||this.focus()},n._pointerDownPreventDefault=function(t){var e="touchstart"==t.type,i="touch"==t.pointerType,n=a[t.target.nodeName];e||i||n||t.preventDefault()},n.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},n.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},n.pointerDone=function(){i.removeEventListener("scroll",this),delete this.pointerDownScroll},n.dragStart=function(t,e){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),i.removeEventListener("scroll",this),this.dispatchEvent("dragStart",t,[e]))},n.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},n.dragMove=function(t,e,i){var n,s;this.isDraggable&&(t.preventDefault(),this.previousDragX=this.dragX,n=this.options.rightToLeft?-1:1,this.options.wrapAround&&(i.x=i.x%this.slideableWidth),n=this.dragStartPosition+i.x*n,!this.options.wrapAround&&this.slides.length&&(n=(n=(s=Math.max(-this.slides[0].target,this.dragStartPosition))<n?.5*(n+s):n)<(s=Math.min(-this.getLastSlide().target,this.dragStartPosition))?.5*(n+s):n),this.dragX=n,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i]))},n.dragEnd=function(t,e){var i,n;this.isDraggable&&(this.options.freeScroll&&(this.isFreeScrolling=!0),i=this.dragEndRestingSelect(),this.options.freeScroll&&!this.options.wrapAround?(n=this.getRestingPosition(),this.isFreeScrolling=-n>this.slides[0].target&&-n<this.getLastSlide().target):this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect()),delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e]))},n.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),t=this._getClosestResting(t,e,-1);return(i.distance<t.distance?i:t).index},n._getClosestResting=function(t,e,i){for(var n=this.selectedIndex,s=1/0,o=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};o(e,s)&&(s=e,null!==(e=this.getSlideDistance(-t,n+=i)));)e=Math.abs(e);return{distance:s,index:n-i}},n.getSlideDistance=function(t,e){var i=this.slides.length,n=this.options.wrapAround&&1<i,s=n?o.modulo(e,i):e,s=this.slides[s];return s?(n=n?this.slideableWidth*Math.floor(e/i):0,t-(s.target+n)):null},n.dragEndBoostSelect=function(){var t,e;return void 0===this.previousDragX||!this.dragMoveTime||100<new Date-this.dragMoveTime?0:(t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX,0<t&&0<e?1:t<0&&e<0?-1:0)},n.staticClick=function(t,e){var i=this.getParentCell(t.target),n=i&&i.element,i=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,n,i])},n.onscroll=function(){var t=l(),e=this.pointerDownScroll.x-t.x,t=this.pointerDownScroll.y-t.y;(3<Math.abs(e)||3<Math.abs(t))&&this._pointerDone()},t}),function(e,i){"function"==typeof define&&define.amd?define("tap-listener/tap-listener",["unipointer/unipointer"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("unipointer")):e.TapListener=i(e,e.Unipointer)}(window,function(a,l){function t(t){this.bindTap(t)}var e=t.prototype=Object.create(l.prototype);return e.bindTap=function(t){t&&(this.unbindTap(),this.tapElement=t,this._bindStartEvent(t,!0))},e.unbindTap=function(){this.tapElement&&(this._bindStartEvent(this.tapElement,!0),delete this.tapElement)},e.pointerUp=function(t,e){var i,n,s,o,r;this.isIgnoringMouseUp&&"mouseup"==t.type||(i=l.getPointerPoint(e),n=this.tapElement.getBoundingClientRect(),s=a.pageXOffset,o=a.pageYOffset,i.x>=n.left+s&&i.x<=n.right+s&&i.y>=n.top+o&&i.y<=n.bottom+o&&this.emitEvent("tap",[t,e]),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,r=this,setTimeout(function(){delete r.isIgnoringMouseUp},400)))},e.destroy=function(){this.pointerDone(),this.unbindTap()},t}),function(t,n){"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(t,e,i){return n(0,t,e,i)}):"object"==typeof module&&module.exports?module.exports=n(0,require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):n(0,t.Flickity,t.TapListener,t.fizzyUIUtils)}(window,function(t,e,i,n){"use strict";var s="http://www.w3.org/2000/svg";function o(t,e){this.direction=t,this.parent=e,this._create()}(o.prototype=Object.create(i.prototype))._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1,t=(this.isLeft=this.direction==t,this.element=document.createElement("button")),e=(t.className="flickity-button flickity-prev-next-button",t.className+=this.isPrevious?" previous":" next",t.setAttribute("type","button"),this.disable(),t.setAttribute("aria-label",this.isPrevious?"Previous":"Next"),this.createSVG());t.appendChild(e),this.on("tap",this.onTap),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.bindTap(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},o.prototype.deactivate=function(){this.parent.element.removeChild(this.element),i.prototype.destroy.call(this),this.element.removeEventListener("click",this)},o.prototype.createSVG=function(){var t=document.createElementNS(s,"svg"),e=(t.setAttribute("class","flickity-button-icon"),t.setAttribute("viewBox","0 0 100 100"),document.createElementNS(s,"path")),i="string"!=typeof(i=this.parent.options.arrowShape)?"M "+i.x0+",50 L "+i.x1+","+(i.y1+50)+" L "+i.x2+","+(i.y2+50)+" L "+i.x3+",50  L "+i.x2+","+(50-i.y2)+" L "+i.x1+","+(50-i.y1)+" Z":i;return e.setAttribute("d",i),e.setAttribute("class","arrow"),this.isLeft||e.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(e),t},o.prototype.onTap=function(){var t;this.isEnabled&&(this.parent.uiChange(),t=this.isPrevious?"previous":"next",this.parent[t]())},o.prototype.handleEvent=n.handleEvent,o.prototype.onclick=function(t){var e=document.activeElement;e&&e==this.element&&this.onTap(t,t)},o.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},o.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},o.prototype.update=function(){var t=this.parent.slides;this.parent.options.wrapAround&&1<t.length?this.enable():(t=t.length?t.length-1:0,t=this.isPrevious?0:t,this[this.parent.selectedIndex==t?"disable":"enable"]())},o.prototype.destroy=function(){this.deactivate()},n.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");n=e.prototype;return n._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new o(-1,this),this.nextButton=new o(1,this),this.on("activate",this.activatePrevNextButtons))},n.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},n.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=o,e}),function(t,n){"function"==typeof define&&define.amd?define("flickity/js/page-dots",["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(t,e,i){return n(0,t,e,i)}):"object"==typeof module&&module.exports?module.exports=n(0,require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):n(0,t.Flickity,t.TapListener,t.fizzyUIUtils)}(window,function(t,e,i,n){function s(t){this.parent=t,this._create()}(s.prototype=new i)._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.on("tap",this.onTap),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},s.prototype.activate=function(){this.setDots(),this.bindTap(this.holder),this.parent.element.appendChild(this.holder)},s.prototype.deactivate=function(){this.parent.element.removeChild(this.holder),i.prototype.destroy.call(this)},s.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;0<t?this.addDots(t):t<0&&this.removeDots(-t)},s.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[],n=this.dots.length,s=n+t,o=n;o<s;o++){var r=document.createElement("li");r.className="dot",r.setAttribute("aria-label","Page dot "+(o+1)),e.appendChild(r),i.push(r)}this.holder.appendChild(e),this.dots=this.dots.concat(i)},s.prototype.removeDots=function(t){this.dots.splice(this.dots.length-t,t).forEach(function(t){this.holder.removeChild(t)},this)},s.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},s.prototype.onTap=function(t){var t=t.target;"LI"==t.nodeName&&(this.parent.uiChange(),t=this.dots.indexOf(t),this.parent.select(t))},s.prototype.destroy=function(){this.deactivate()},e.PageDots=s,n.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");n=e.prototype;return n._createPageDots=function(){this.options.pageDots&&(this.pageDots=new s(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},n.activatePageDots=function(){this.pageDots.activate()},n.updateSelectedPageDots=function(){this.pageDots.updateSelected()},n.updatePageDots=function(){this.pageDots.setDots()},n.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=s,e}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/player",["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickity"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("fizzy-ui-utils"),require("./flickity")):e(t.EvEmitter,t.fizzyUIUtils,t.Flickity)}(window,function(t,e,i){function n(t){this.parent=t,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}(n.prototype=Object.create(t.prototype)).play=function(){"playing"!=this.state&&(document.hidden?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()))},n.prototype.tick=function(){var t,e;"playing"==this.state&&(t="number"==typeof(t=this.parent.options.autoPlay)?t:3e3,(e=this).clear(),this.timeout=setTimeout(function(){e.parent.next(!0),e.tick()},t))},n.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},n.prototype.clear=function(){clearTimeout(this.timeout)},n.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},n.prototype.unpause=function(){"paused"==this.state&&this.play()},n.prototype.visibilityChange=function(){this[document.hidden?"pause":"unpause"]()},n.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},e.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");t=i.prototype;return t._createPlayer=function(){this.player=new n(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},t.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},t.playPlayer=function(){this.player.play()},t.stopPlayer=function(){this.player.stop()},t.pausePlayer=function(){this.player.pause()},t.unpausePlayer=function(){this.player.unpause()},t.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},t.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},t.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=n,i}),function(t,i){"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],function(t,e){return i(0,t,e)}):"object"==typeof module&&module.exports?module.exports=i(0,require("./flickity"),require("fizzy-ui-utils")):i(0,t.Flickity,t.fizzyUIUtils)}(window,function(t,e,n){var i=e.prototype;return i.insert=function(t,e){var i,n,s,o,r,t=this._makeCells(t);t&&t.length&&(i=this.cells.length,e=void 0===e?i:e,r=t,n=document.createDocumentFragment(),r.forEach(function(t){n.appendChild(t.element)}),r=n,(s=e==i)?this.slider.appendChild(r):(o=this.cells[e].element,this.slider.insertBefore(r,o)),0===e?this.cells=t.concat(this.cells):s?this.cells=this.cells.concat(t):(r=this.cells.splice(e,i-e),this.cells=this.cells.concat(t).concat(r)),this._sizeCells(t),this.cellChange(e,!0))},i.append=function(t){this.insert(t,this.cells.length)},i.prepend=function(t){this.insert(t,0)},i.remove=function(t){var i,t=this.getCells(t);t&&t.length&&(i=this.cells.length-1,t.forEach(function(t){t.remove();var e=this.cells.indexOf(t);i=Math.min(e,i),n.removeFrom(this.cells,t)},this),this.cellChange(i,!0))},i.cellSizeChange=function(t){var t=this.getCell(t);t&&(t.getSize(),t=this.cells.indexOf(t),this.cellChange(t))},i.cellChange=function(t,e){var i=this.selectedElement,i=(this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize(),this.getCell(i));i&&(this.selectedIndex=this.getCellSlideIndex(i)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[t]),this.select(this.selectedIndex),e&&this.positionSliderAtSelected()},e}),function(t,i){"function"==typeof define&&define.amd?define("flickity/js/lazyload",["./flickity","fizzy-ui-utils/utils"],function(t,e){return i(0,t,e)}):"object"==typeof module&&module.exports?module.exports=i(0,require("./flickity"),require("fizzy-ui-utils")):i(0,t.Flickity,t.fizzyUIUtils)}(window,function(t,e,s){"use strict";e.createMethods.push("_createLazyload");var i=e.prototype;function n(t,e){this.img=t,this.flickity=e,this.load()}return i._createLazyload=function(){this.on("select",this.lazyLoad)},i.lazyLoad=function(){var e,t=this.options.lazyLoad;t&&(t=this.getAdjacentCellElements("number"==typeof t?t:0),e=[],t.forEach(function(t){t=function(t){if("IMG"==t.nodeName){var e=t.getAttribute("data-flickity-lazyload"),i=t.getAttribute("data-flickity-lazyload-src"),n=t.getAttribute("data-flickity-lazyload-srcset");if(e||i||n)return[t]}e=t.querySelectorAll("img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]");return s.makeArray(e)}(t);e=e.concat(t)}),e.forEach(function(t){new n(t,this)},this))},n.prototype.handleEvent=s.handleEvent,n.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var t=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),e=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=t,e&&this.img.setAttribute("srcset",e),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},n.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},n.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},n.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),i=i&&i.element;this.flickity.cellSizeChange(i),this.img.classList.add(e),this.flickity.dispatchEvent("lazyLoad",t,i)},e.LazyLoader=n,e}),function(t){"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],t):"object"==typeof module&&module.exports&&(module.exports=t(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}((window,function(t){return t})),function(t,e){"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["flickity/js/index","fizzy-ui-utils/utils"],e):"object"==typeof module&&module.exports?module.exports=e(require("flickity"),require("fizzy-ui-utils")):t.Flickity=e(t.Flickity,t.fizzyUIUtils)}(window,function(i,n){i.createMethods.push("_createAsNavFor");var t=i.prototype;return t._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var t,e=this.options.asNavFor;e&&(t=this,setTimeout(function(){t.setNavCompanion(e)}))},t.setNavCompanion=function(t){t=n.getQueryElement(t);var e,t=i.data(t);t&&t!=this&&(this.navCompanion=t,(e=this).onNavCompanionSelect=function(){e.navCompanionSelect()},t.on("select",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect(!0))},t.navCompanionSelect=function(t){var e,i,n;this.navCompanion&&(e=this.navCompanion.selectedCells[0],e=this.navCompanion.cells.indexOf(e),i=e+this.navCompanion.selectedCells.length-1,n=Math.floor((n=this.navCompanion.cellAlign,(i-e)*n+e)),this.selectCell(n,!1,t),this.removeNavSelectedElements(),n>=this.cells.length||(t=this.cells.slice(e,1+i),this.navSelectedElements=t.map(function(t){return t.element}),this.changeNavSelectedClass("add")))},t.changeNavSelectedClass=function(e){this.navSelectedElements.forEach(function(t){t.classList[e]("is-nav-selected")})},t.activateAsNavFor=function(){this.navCompanionSelect(!0)},t.removeNavSelectedElements=function(){this.navSelectedElements&&(this.changeNavSelectedClass("remove"),delete this.navSelectedElements)},t.onNavStaticClick=function(t,e,i,n){"number"==typeof n&&this.navCompanion.selectCell(n)},t.deactivateAsNavFor=function(){this.removeNavSelectedElements()},t.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("select",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},i}),function(e,i){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("ev-emitter")):e.imagesLoaded=i(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(e,t){var o=e.jQuery,r=e.console;function a(t,e){for(var i in e)t[i]=e[i];return t}var l=Array.prototype.slice;function h(t,e,i){if(!(this instanceof h))return new h(t,e,i);var n,s=t;(s="string"==typeof t?document.querySelectorAll(t):s)?(this.elements=(n=s,Array.isArray(n)?n:"object"==typeof n&&"number"==typeof n.length?l.call(n):[n]),this.options=a({},this.options),"function"==typeof e?i=e:a(this.options,e),i&&this.on("always",i),this.getImages(),o&&(this.jqDeferred=new o.Deferred),setTimeout(this.check.bind(this))):r.error("Bad element for imagesLoaded "+(s||t))}(h.prototype=Object.create(t.prototype)).options={},h.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},h.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&c[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var s=i[n];this.addImage(s)}if("string"==typeof this.options.background)for(var o=t.querySelectorAll(this.options.background),n=0;n<o.length;n++){var r=o[n];this.addElementBackgroundImages(r)}}};var c={1:!0,9:!0,11:!0};function i(t){this.img=t}function n(t,e){this.url=t,this.element=e,this.img=new Image}return h.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var s=n&&n[2];s&&this.addBackground(s,t),n=i.exec(e.backgroundImage)}},h.prototype.addImage=function(t){t=new i(t);this.images.push(t)},h.prototype.addBackground=function(t,e){t=new n(t,e);this.images.push(t)},h.prototype.check=function(){var n=this;function e(t,e,i){setTimeout(function(){n.progress(t,e,i)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(t){t.once("progress",e),t.check()}):this.complete()},h.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&r&&r.log("progress: "+i,t,e)},h.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(t=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[t](this))},(i.prototype=Object.create(t.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},i.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},i.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},i.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(n.prototype=Object.create(i.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},n.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},n.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},(h.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((o=t).fn.imagesLoaded=function(t,e){return new h(this,t,e).jqDeferred.promise(o(this))})})(),h}),function(t,i){"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],function(t,e){return i(0,t,e)}):"object"==typeof module&&module.exports?module.exports=i(0,require("flickity"),require("imagesloaded")):t.Flickity=i(0,t.Flickity,t.imagesLoaded)}(window,function(t,e,n){"use strict";e.createMethods.push("_createImagesLoaded");var i=e.prototype;return i._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},i.imagesLoaded=function(){var i;this.options.imagesLoaded&&n((i=this).slider).on("progress",function(t,e){e=i.getParentCell(e.img),i.cellSizeChange(e&&e.element),i.options.freeScroll||i.positionSliderAtSelected()})},e});
jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(n,t,e,u,a){return jQuery.easing[jQuery.easing.def](n,t,e,u,a)},easeInQuad:function(n,t,e,u,a){return u*(t/=a)*t+e},easeOutQuad:function(n,t,e,u,a){return-u*(t/=a)*(t-2)+e},easeInOutQuad:function(n,t,e,u,a){return(t/=a/2)<1?u/2*t*t+e:-u/2*(--t*(t-2)-1)+e},easeInCubic:function(n,t,e,u,a){return u*(t/=a)*t*t+e},easeOutCubic:function(n,t,e,u,a){return u*((t=t/a-1)*t*t+1)+e},easeInOutCubic:function(n,t,e,u,a){return(t/=a/2)<1?u/2*t*t*t+e:u/2*((t-=2)*t*t+2)+e},easeInQuart:function(n,t,e,u,a){return u*(t/=a)*t*t*t+e},easeOutQuart:function(n,t,e,u,a){return-u*((t=t/a-1)*t*t*t-1)+e},easeInOutQuart:function(n,t,e,u,a){return(t/=a/2)<1?u/2*t*t*t*t+e:-u/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(n,t,e,u,a){return u*(t/=a)*t*t*t*t+e},easeOutQuint:function(n,t,e,u,a){return u*((t=t/a-1)*t*t*t*t+1)+e},easeInOutQuint:function(n,t,e,u,a){return(t/=a/2)<1?u/2*t*t*t*t*t+e:u/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(n,t,e,u,a){return-u*Math.cos(t/a*(Math.PI/2))+u+e},easeOutSine:function(n,t,e,u,a){return u*Math.sin(t/a*(Math.PI/2))+e},easeInOutSine:function(n,t,e,u,a){return-u/2*(Math.cos(Math.PI*t/a)-1)+e},easeInExpo:function(n,t,e,u,a){return 0==t?e:u*Math.pow(2,10*(t/a-1))+e},easeOutExpo:function(n,t,e,u,a){return t==a?e+u:u*(1-Math.pow(2,-10*t/a))+e},easeInOutExpo:function(n,t,e,u,a){return 0==t?e:t==a?e+u:(t/=a/2)<1?u/2*Math.pow(2,10*(t-1))+e:u/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(n,t,e,u,a){return-u*(Math.sqrt(1-(t/=a)*t)-1)+e},easeOutCirc:function(n,t,e,u,a){return u*Math.sqrt(1-(t=t/a-1)*t)+e},easeInOutCirc:function(n,t,e,u,a){return(t/=a/2)<1?-u/2*(Math.sqrt(1-t*t)-1)+e:u/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(n,t,e,u,a){var r=1.70158,i=0,s=u;return 0==t?e:1==(t/=a)?e+u:(i=i||.3*a,r=s<Math.abs(u)?(s=u,i/4):i/(2*Math.PI)*Math.asin(u/s),-(s*Math.pow(2,10*--t)*Math.sin((t*a-r)*(2*Math.PI)/i))+e)},easeOutElastic:function(n,t,e,u,a){var r=1.70158,i=0,s=u;return 0==t?e:1==(t/=a)?e+u:(i=i||.3*a,r=s<Math.abs(u)?(s=u,i/4):i/(2*Math.PI)*Math.asin(u/s),s*Math.pow(2,-10*t)*Math.sin((t*a-r)*(2*Math.PI)/i)+u+e)},easeInOutElastic:function(n,t,e,u,a){var r=1.70158,i=0,s=u;return 0==t?e:2==(t/=a/2)?e+u:(i=i||a*(.3*1.5),r=s<Math.abs(u)?(s=u,i/4):i/(2*Math.PI)*Math.asin(u/s),t<1?s*Math.pow(2,10*--t)*Math.sin((t*a-r)*(2*Math.PI)/i)*-.5+e:s*Math.pow(2,-10*--t)*Math.sin((t*a-r)*(2*Math.PI)/i)*.5+u+e)},easeInBack:function(n,t,e,u,a,r){return u*(t/=a)*t*(((r=null==r?1.70158:r)+1)*t-r)+e},easeOutBack:function(n,t,e,u,a,r){return u*((t=t/a-1)*t*(((r=null==r?1.70158:r)+1)*t+r)+1)+e},easeInOutBack:function(n,t,e,u,a,r){return null==r&&(r=1.70158),(t/=a/2)<1?u/2*(t*t*((1+(r*=1.525))*t-r))+e:u/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e},easeInBounce:function(n,t,e,u,a){return u-jQuery.easing.easeOutBounce(n,a-t,0,u,a)+e},easeOutBounce:function(n,t,e,u,a){return(t/=a)<1/2.75?u*(7.5625*t*t)+e:t<2/2.75?u*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?u*(7.5625*(t-=2.25/2.75)*t+.9375)+e:u*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(n,t,e,u,a){return t<a/2?.5*jQuery.easing.easeInBounce(n,2*t,0,u,a)+e:.5*jQuery.easing.easeOutBounce(n,2*t-a,0,u,a)+.5*u+e}});
!function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}(this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){var i;if(t&&e)return-1==(i=(i=this._events=this._events||{})[t]=i[t]||[]).indexOf(e)&&i.push(e),this},e.once=function(t,e){var i;if(t&&e)return this.on(t,e),((i=this._onceEvents=this._onceEvents||{})[t]=i[t]||[])[e]=!0,this},e.off=function(t,e){t=this._events&&this._events[t];if(t&&t.length)return-1!=(e=t.indexOf(e))&&t.splice(e,1),this},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){for(var n=0,o=i[n],s=(e=e||[],this._onceEvents&&this._onceEvents[t]);o;){var r=s&&s[o];r&&(this.off(t,o),delete s[o]),o.apply(this,e),o=i[n+=r?0:1]}return this}},t}),function(e,i){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("ev-emitter")):e.imagesLoaded=i(e,e.EvEmitter)}(window,function(e,t){var n=e.jQuery,o=e.console;function s(t,e){for(var i in e)t[i]=e[i];return t}function r(t,e,i){if(!(this instanceof r))return new r(t,e,i);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=function(t){var e=[];if(Array.isArray(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}(t),this.options=s({},this.options),"function"==typeof e?i=e:s(this.options,e),i&&this.on("always",i),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(function(){this.check()}.bind(this))}(r.prototype=Object.create(t.prototype)).options={},r.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},r.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&h[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background)for(var s=t.querySelectorAll(this.options.background),n=0;n<s.length;n++){var r=s[n];this.addElementBackgroundImages(r)}}};var h={1:!0,9:!0,11:!0};function i(t){this.img=t}function a(t,e){this.url=t,this.element=e,this.img=new Image}return r.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}},r.prototype.addImage=function(t){t=new i(t);this.images.push(t)},r.prototype.addBackground=function(t,e){t=new a(t,e);this.images.push(t)},r.prototype.check=function(){var n=this;function e(t,e,i){setTimeout(function(){n.progress(t,e,i)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(t){t.once("progress",e),t.check()}):this.complete()},r.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&o&&o.log("progress: "+i,t,e)},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(t=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[t](this))},(i.prototype=Object.create(t.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},i.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},i.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},i.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(a.prototype=Object.create(i.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},a.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},(r.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((n=t).fn.imagesLoaded=function(t,e){return new r(this,t,e).jqDeferred.promise(n(this))})})(),r});
!function(e,i){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("jquery")):e.jQueryBridget=i(e,e.jQuery)}(window,function(t,e){"use strict";var i=Array.prototype.slice,n=t.console,l=void 0===n?function(){}:function(t){n.error(t)};function o(h,u,d){(d=d||e||t.jQuery)&&(u.prototype.option||(u.prototype.option=function(t){d.isPlainObject(t)&&(this.options=d.extend(!0,this.options,t))}),d.fn[h]=function(t){var e,n,o,s,r,a;return"string"==typeof t?(e=i.call(arguments,1),o=e,r="$()."+h+'("'+(n=t)+'")',(e=this).each(function(t,e){var i,e=d.data(e,h);e?(i=e[n])&&"_"!=n.charAt(0)?(i=i.apply(e,o),s=void 0===s?i:s):l(r+" is not a valid method"):l(h+" not initialized. Cannot call methods, i.e. "+r)}),void 0!==s?s:e):(a=t,this.each(function(t,e){var i=d.data(e,h);i?(i.option(a),i._init()):(i=new u(e,a),d.data(e,h,i))}),this)},s(d))}function s(t){t&&!t.bridget&&(t.bridget=o)}return s(e||t.jQuery),o}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){var i;if(t&&e)return-1==(i=(i=this._events=this._events||{})[t]=i[t]||[]).indexOf(e)&&i.push(e),this},e.once=function(t,e){var i;if(t&&e)return this.on(t,e),((i=this._onceEvents=this._onceEvents||{})[t]=i[t]||{})[e]=!0,this},e.off=function(t,e){t=this._events&&this._events[t];if(t&&t.length)return-1!=(e=t.indexOf(e))&&t.splice(e,1),this},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],o=0;o<i.length;o++){var s=i[o];n&&n[s]&&(this.off(t,s),delete n[s]),s.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",e):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function g(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var e="undefined"==typeof console?function(){}:function(t){console.error(t)},y=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],v=y.length;function _(t){t=getComputedStyle(t);return t||e("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),t}var z,E=!1;function b(t){if(E||(E=!0,(d=document.createElement("div")).style.width="200px",d.style.padding="1px 2px 3px 4px",d.style.borderStyle="solid",d.style.borderWidth="1px 2px 3px 4px",d.style.boxSizing="border-box",(u=document.body||document.documentElement).appendChild(d),s=_(d),z=200==Math.round(g(s.width)),b.isBoxSizeOuter=z,u.removeChild(d)),(t="string"==typeof t?document.querySelector(t):t)&&"object"==typeof t&&t.nodeType){var e=_(t);if("none"==e.display){for(var i={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},n=0;n<v;n++)i[y[n]]=0;return i}for(var o={},s=(o.width=t.offsetWidth,o.height=t.offsetHeight,o.isBorderBox="border-box"==e.boxSizing),r=0;r<v;r++){var a=y[r],h=e[a],h=parseFloat(h);o[a]=isNaN(h)?0:h}var u=o.paddingLeft+o.paddingRight,d=o.paddingTop+o.paddingBottom,t=o.marginLeft+o.marginRight,l=o.marginTop+o.marginBottom,c=o.borderLeftWidth+o.borderRightWidth,f=o.borderTopWidth+o.borderBottomWidth,m=s&&z,p=g(e.width),p=(!1!==p&&(o.width=p+(m?0:u+c)),g(e.height));return!1!==p&&(o.height=p+(m?0:d+f)),o.innerWidth=o.width-(u+c),o.innerHeight=o.height-(d+f),o.outerWidth=o.width+t,o.outerHeight=o.height+l,o}}return b}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var i=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i]+"MatchesSelector";if(t[n])return n}}();return function(t,e){return t[i](e)}}),function(e,i){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("desandro-matches-selector")):e.fizzyUIUtils=i(e,e.matchesSelector)}(window,function(i,s){var h={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},e=Array.prototype.slice,u=(h.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?e.call(t):[t]},h.removeFrom=function(t,e){e=t.indexOf(e);-1!=e&&t.splice(e,1)},h.getParent=function(t,e){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,s(t,e))return t},h.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},h.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},h.filterFindElements=function(t,n){t=h.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement)if(n){s(t,n)&&o.push(t);for(var e=t.querySelectorAll(n),i=0;i<e.length;i++)o.push(e[i])}else o.push(t)}),o},h.debounceMethod=function(t,e,n){n=n||100;var o=t.prototype[e],s=e+"Timeout";t.prototype[e]=function(){var t=this[s],e=(clearTimeout(t),arguments),i=this;this[s]=setTimeout(function(){o.apply(i,e),delete i[s]},n)}},h.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},h.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()},i.console);return h.htmlInit=function(r,a){h.docReady(function(){var t=h.toDashed(a),n="data-"+t,e=document.querySelectorAll("["+n+"]"),t=document.querySelectorAll(".js-"+t),e=h.makeArray(e).concat(h.makeArray(t)),o=n+"-options",s=i.jQuery;e.forEach(function(e){var t,i=e.getAttribute(n)||e.getAttribute(o);try{t=i&&JSON.parse(i)}catch(t){return void(u&&u.error("Error parsing "+n+" on "+e.className+": "+t))}i=new r(e,t);s&&s.data(e,a,i)})})},h}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";var i=document.documentElement.style,n="string"==typeof i.transition?"transition":"WebkitTransition",i="string"==typeof i.transform?"transform":"WebkitTransform",o={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[n],s={transform:i,transition:n,transitionDuration:n+"Duration",transitionProperty:n+"Property",transitionDelay:n+"Delay"};function r(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}t=r.prototype=Object.create(t.prototype);t.constructor=r,t._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},t.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},t.getSize=function(){this.size=e(this.element)},t.css=function(t){var e,i=this.element.style;for(e in t)i[s[e]||e]=t[e]},t.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=t[e?"left":"right"],t=t[i?"top":"bottom"],o=parseFloat(n),s=parseFloat(t),r=this.layout.size;-1!=n.indexOf("%")&&(o=o/100*r.width),-1!=t.indexOf("%")&&(s=s/100*r.height),o=isNaN(o)?0:o,s=isNaN(s)?0:s,o-=e?r.paddingLeft:r.paddingRight,s-=i?r.paddingTop:r.paddingBottom,this.position.x=o,this.position.y=s},t.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),o=i?"right":"left",s=this.position.x+t[i?"paddingLeft":"paddingRight"],i=(e[i?"left":"right"]=this.getXValue(s),e[o]="",n?"paddingTop":"paddingBottom"),s=n?"bottom":"top",o=this.position.y+t[i];e[n?"top":"bottom"]=this.getYValue(o),e[s]="",this.css(e),this.emitEvent("layout",[this])},t.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},t.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},t._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=t==this.position.x&&e==this.position.y;this.setPosition(t,e),o&&!this.isTransitioning?this.layoutPosition():((o={}).transform=this.getTranslate(t-i,e-n),this.transition({to:o,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0}))},t.getTranslate=function(t,e){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(e=this.layout._getOption("originTop")?e:-e)+"px, 0)"},t.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},t.moveTo=t._transitionTo,t.setPosition=function(t,e){this.position.x=parseFloat(t),this.position.y=parseFloat(e)},t._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},t.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e,i=this._transn;for(e in t.onTransitionEnd)i.onEnd[e]=t.onTransitionEnd[e];for(e in t.to)i.ingProperties[e]=!0,t.isCleaning&&(i.clean[e]=!0);t.from&&(this.css(t.from),this.element.offsetHeight,0),this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var a="opacity,"+i.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()}),h=(t.enableTransition=function(){var t;this.isTransitioning||(t="number"==typeof(t=this.layout.options.transitionDuration)?t+"ms":t,this.css({transitionProperty:a,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(o,this,!1))},t.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},t.onotransitionend=function(t){this.ontransitionend(t)},{"-webkit-transform":"transform"}),u=(t.ontransitionend=function(t){var e,i;t.target===this.element&&(e=this._transn,i=h[t.propertyName]||t.propertyName,delete e.ingProperties[i],function(t){for(var e in t)return;return 1}(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd&&(e.onEnd[i].call(this),delete e.onEnd[i]),this.emitEvent("transitionEnd",[this]))},t.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(o,this,!1),this.isTransitioning=!1},t._removeStyles=function(t){var e,i={};for(e in t)i[e]="";this.css(i)},{transitionProperty:"",transitionDuration:"",transitionDelay:""});return t.removeTransitionStyles=function(){this.css(u)},t.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},t.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},t.remove=function(){n&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()},t.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},t.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},t.getHideRevealTransitionEndProperty=function(t){var e,t=this.layout.options[t];if(t.opacity)return"opacity";for(e in t)return e},t.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},t.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},t.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},r}),function(o,s){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(t,e,i,n){return s(o,t,e,i,n)}):"object"==typeof module&&module.exports?module.exports=s(o,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):o.Outlayer=s(o,o.EvEmitter,o.getSize,o.fizzyUIUtils,o.Outlayer.Item)}(window,function(t,e,o,n,s){"use strict";function i(){}var r=t.console,a=t.jQuery,h=0,u={};function d(t,e){var i=n.getQueryElement(t);i?(this.element=i,a&&(this.$element=a(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e),e=++h,this.element.outlayerGUID=e,(u[e]=this)._create(),this._getOption("initLayout")&&this.layout()):r&&r.error("Bad element for "+this.constructor.namespace+": "+(i||t))}d.namespace="outlayer",d.Item=s,d.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var l=d.prototype;function c(t){function e(){t.apply(this,arguments)}return(e.prototype=Object.create(t.prototype)).constructor=e}n.extend(l,e.prototype),l.option=function(t){n.extend(this.options,t)},l._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},d.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},l._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},l.reloadItems=function(){this.items=this._itemize(this.element.children)},l._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0;o<e.length;o++){var s=new i(e[o],this);n.push(s)}return n},l._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},l.getItemElements=function(){return this.items.map(function(t){return t.element})},l.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),t=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},l._init=l.layout,l._resetLayout=function(){this.getSize()},l.getSize=function(){this.size=o(this.element)},l._getMeasurement=function(t,e){var i,n=this.options[t];n?("string"==typeof n?i=this.element.querySelector(n):n instanceof HTMLElement&&(i=n),this[t]=i?o(i)[e]:n):this[t]=0},l.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},l._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},l._layoutItems=function(t,i){var n;this._emitCompleteOnItems("layout",t),t&&t.length&&(n=[],t.forEach(function(t){var e=this._getItemLayoutPosition(t);e.item=t,e.isInstant=i||t.isLayoutInstant,n.push(e)},this),this._processLayoutQueue(n))},l._getItemLayoutPosition=function(){return{x:0,y:0}},l._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},l.updateStagger=function(){var t=this.options.stagger;if(null!=t)return this.stagger=function(t){if("number"==typeof t)return t;var t=t.match(/(^\d*\.?\d*)(\w*)/),e=t&&t[1],t=t&&t[2];if(!e.length)return 0;e=parseFloat(e);t=f[t]||1;return e*t}(t),this.stagger;this.stagger=0},l._positionItem=function(t,e,i,n,o){n?t.goTo(e,i):(t.stagger(o*this.stagger),t.moveTo(e,i))},l._postLayout=function(){this.resizeContainer()},l.resizeContainer=function(){var t;!this._getOption("resizeContainer")||(t=this._getContainerSize())&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))},l._getContainerSize=i,l._setContainerMeasure=function(t,e){var i;void 0!==t&&((i=this.size).isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px")},l._emitCompleteOnItems=function(e,t){var i=this;function n(){i.dispatchEvent(e+"Complete",null,[t])}var o,s=t.length;function r(){++o==s&&n()}t&&s?(o=0,t.forEach(function(t){t.once(e,r)})):n()},l.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;this.emitEvent(t,n),a&&(this.$element=this.$element||a(this.element),e?((n=a.Event(e)).type=t,this.$element.trigger(n,i)):this.$element.trigger(t,i))},l.ignore=function(t){t=this.getItem(t);t&&(t.isIgnored=!0)},l.unignore=function(t){t=this.getItem(t);t&&delete t.isIgnored},l.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},l.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},l._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)},l._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},l._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},l._manageStamp=i,l._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,t=o(t);return{left:e.left-i.left-t.marginLeft,top:e.top-i.top-t.marginTop,right:i.right-e.right-t.marginRight,bottom:i.bottom-e.bottom-t.marginBottom}},l.handleEvent=n.handleEvent,l.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},l.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},l.onresize=function(){this.resize()},n.debounceMethod(d,"onresize",100),l.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},l.needsResizeLayout=function(){var t=o(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},l.addItems=function(t){t=this._itemize(t);return t.length&&(this.items=this.items.concat(t)),t},l.appended=function(t){t=this.addItems(t);t.length&&(this.layoutItems(t,!0),this.reveal(t))},l.prepended=function(t){var e,t=this._itemize(t);t.length&&(e=this.items.slice(0),this.items=t.concat(e),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(e))},l.reveal=function(t){var i;this._emitCompleteOnItems("reveal",t),t&&t.length&&(i=this.updateStagger(),t.forEach(function(t,e){t.stagger(e*i),t.reveal()}))},l.hide=function(t){var i;this._emitCompleteOnItems("hide",t),t&&t.length&&(i=this.updateStagger(),t.forEach(function(t,e){t.stagger(e*i),t.hide()}))},l.revealItemElements=function(t){t=this.getItems(t);this.reveal(t)},l.hideItemElements=function(t){t=this.getItems(t);this.hide(t)},l.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},l.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){t=this.getItem(t);t&&e.push(t)},this),e},l.remove=function(t){t=this.getItems(t);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},l.destroy=function(){var t=this.element.style,t=(t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize(),this.element.outlayerGUID);delete u[t],delete this.element.outlayerGUID,a&&a.removeData(this.element,this.constructor.namespace)},d.data=function(t){t=(t=n.getQueryElement(t))&&t.outlayerGUID;return t&&u[t]},d.create=function(t,e){var i=c(d);return i.defaults=n.extend({},d.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},d.compatOptions),i.namespace=t,i.data=d.data,i.Item=c(s),n.htmlInit(i,t),a&&a.bridget&&a.bridget(t,i),i};var f={ms:1,s:1e3};return d.Item=s,d}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,a){var t=t.create("masonry"),e=(t.compatOptions.fitWidth="isFitWidth",t.prototype);return e._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},e.measureColumns=function(){this.getContainerWidth(),this.columnWidth||(t=(t=this.items[0])&&t.element,this.columnWidth=t&&a(t).outerWidth||this.containerWidth);var t=this.columnWidth+=this.gutter,e=this.containerWidth+this.gutter,i=e/t,e=t-e%t,i=Math[e&&e<1?"round":"floor"](i);this.cols=Math.max(i,1)},e.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,t=a(t);this.containerWidth=t&&t.innerWidth},e._getItemLayoutPosition=function(t){t.getSize();for(var e=t.size.outerWidth%this.columnWidth,e=Math[e&&e<1?"round":"ceil"](t.size.outerWidth/this.columnWidth),e=Math.min(e,this.cols),i=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](e,t),n={x:this.columnWidth*i.col,y:i.y},o=i.y+t.size.outerHeight,s=e+i.col,r=i.col;r<s;r++)this.colYs[r]=o;return n},e._getTopColPosition=function(t){var t=this._getTopColGroup(t),e=Math.min.apply(Math,t);return{col:t.indexOf(e),y:e}},e._getTopColGroup=function(t){if(t<2)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;n<i;n++)e[n]=this._getColGroupY(n,t);return e},e._getColGroupY=function(t,e){return e<2?this.colYs[t]:(t=this.colYs.slice(t,t+e),Math.max.apply(Math,t))},e._getHorizontalColPosition=function(t,e){var i=this.horizontalColIndex%this.cols,i=1<t&&i+t>this.cols?0:i,e=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=e?i+t:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,t)}},e._manageStamp=function(t){var e=a(t),t=this._getElementOffset(t),i=this._getOption("originLeft")?t.left:t.right,n=i+e.outerWidth,i=Math.floor(i/this.columnWidth),i=Math.max(0,i),o=Math.floor(n/this.columnWidth);o-=n%this.columnWidth?0:1;for(var o=Math.min(this.cols-1,o),s=(this._getOption("originTop")?t.top:t.bottom)+e.outerHeight,r=i;r<=o;r++)this.colYs[r]=Math.max(s,this.colYs[r])},e._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},e._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},e.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},t});
!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,function(p){p.transit={version:"0.9.12",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var r=document.createElement("div"),d={};function t(t){if(t in r.style)return t;for(var e=["Moz","Webkit","O","ms"],n=t.charAt(0).toUpperCase()+t.substr(1),i=0;i<e.length;++i){var s=e[i]+n;if(s in r.style)return s}}var e,n=-1<navigator.userAgent.toLowerCase().indexOf("chrome"),h=(d.transition=t("transition"),d.transitionDelay=t("transitionDelay"),d.transform=t("transform"),d.transformOrigin=t("transformOrigin"),d.filter=t("Filter"),d.transform3d=(r.style[d.transform]="",r.style[d.transform]="rotateY(90deg)",""!==r.style[d.transform]),d.transitionEnd={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"}[d.transition]||null);for(e in d)d.hasOwnProperty(e)&&void 0===p.support[e]&&(p.support[e]=d[e]);function i(t){return"string"==typeof t&&this.parse(t),this}function b(t,e,n){!0===e?t.queue(n):e?t.queue(e,n):t.each(function(){n.call(this)})}function g(t,e,n,i){s=[],p.each(t,function(t){t=p.camelCase(t),t=o(t=p.transit.propertyMap[t]||p.cssProps[t]||t),d[t]&&(t=o(d[t])),-1===p.inArray(t,s)&&s.push(t)});var s,t=s,r=(p.cssEase[n]&&(n=p.cssEase[n]),m(e)+" "+n),a=(0<parseInt(i,10)&&(r+=" "+m(i)),[]);return p.each(t,function(t,e){a.push(e+" "+r)}),a.join(", ")}function s(i,t){t||(p.cssNumber[i]=!0),p.transit.propertyMap[i]=d.transform,p.cssHooks[i]={get:function(t){return p(t).css("transit:transform").get(i)},set:function(t,e){var n=p(t).css("transit:transform");n.setFromString(i,e),p(t).css({"transit:transform":n})}}}function o(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function a(t,e){return"string"!=typeof t||t.match(/^[\-0-9\.]+$/)?""+t+e:t}function m(t){return a(t="string"!=typeof t||t.match(/^[\-0-9\.]+/)?t:p.fx.speeds[t]||p.fx.speeds._default,"ms")}return r=null,p.cssEase={_default:"ease",in:"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},p.cssHooks["transit:transform"]={get:function(t){return p(t).data("transform")||new i},set:function(t,e){e instanceof i||(e=new i(e)),"WebkitTransform"!==d.transform||n?t.style[d.transform]=e.toString():t.style[d.transform]=e.toString(!0),p(t).data("transform",e)}},p.cssHooks.transform={set:p.cssHooks["transit:transform"].set},p.cssHooks.filter={get:function(t){return t.style[d.filter]},set:function(t,e){t.style[d.filter]=e}},p.fn.jquery<"1.8"&&(p.cssHooks.transformOrigin={get:function(t){return t.style[d.transformOrigin]},set:function(t,e){t.style[d.transformOrigin]=e}},p.cssHooks.transition={get:function(t){return t.style[d.transition]},set:function(t,e){t.style[d.transition]=e}}),s("scale"),s("scaleX"),s("scaleY"),s("translate"),s("rotate"),s("rotateX"),s("rotateY"),s("rotate3d"),s("perspective"),s("skewX"),s("skewY"),s("x",!0),s("y",!0),i.prototype={setFromString:function(t,e){e="string"==typeof e?e.split(","):e.constructor===Array?e:[e];e.unshift(t),i.prototype.set.apply(this,e)},set:function(t){var e=Array.prototype.slice.apply(arguments,[1]);this.setter[t]?this.setter[t].apply(this,e):this[t]=e.join(",")},get:function(t){return this.getter[t]?this.getter[t].apply(this):this[t]||0},setter:{rotate:function(t){this.rotate=a(t,"deg")},rotateX:function(t){this.rotateX=a(t,"deg")},rotateY:function(t){this.rotateY=a(t,"deg")},scale:function(t,e){this.scale=t+","+(e=void 0===e?t:e)},skewX:function(t){this.skewX=a(t,"deg")},skewY:function(t){this.skewY=a(t,"deg")},perspective:function(t){this.perspective=a(t,"px")},x:function(t){this.set("translate",t,null)},y:function(t){this.set("translate",null,t)},translate:function(t,e){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!=t&&(this._translateX=a(t,"px")),null!=e&&(this._translateY=a(e,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var t=(this.scale||"1,1").split(",");return t[0]&&(t[0]=parseFloat(t[0])),t[1]&&(t[1]=parseFloat(t[1])),t[0]===t[1]?t[0]:t},rotate3d:function(){for(var t=(this.rotate3d||"0,0,0,0deg").split(","),e=0;e<=3;++e)t[e]&&(t[e]=parseFloat(t[e]));return t[3]&&(t[3]=a(t[3],"deg")),t}},parse:function(t){var i=this;t.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(t,e,n){i.setFromString(e,n)})},toString:function(t){var e,n=[];for(e in this)this.hasOwnProperty(e)&&(d.transform3d||"rotateX"!==e&&"rotateY"!==e&&"perspective"!==e&&"transformOrigin"!==e)&&"_"!==e[0]&&(t&&"scale"===e?n.push(e+"3d("+this[e]+",1)"):t&&"translate"===e?n.push(e+"3d("+this[e]+",0)"):n.push(e+"("+this[e]+")"));return n.join(" ")}},p.fn.transition=p.fn.transit=function(t,e,n,i){var s,r,a=this,o=0,u=!0,c=p.extend(!0,{},t),f=("function"==typeof e&&(i=e,e=void 0),"object"==typeof e&&(n=e.easing,o=e.delay||0,u=void 0===e.queue||e.queue,i=e.complete,e=e.duration),"function"==typeof n&&(i=n,n=void 0),void 0!==c.easing&&(n=c.easing,delete c.easing),void 0!==c.duration&&(e=c.duration,delete c.duration),void 0!==c.complete&&(i=c.complete,delete c.complete),void 0!==c.queue&&(u=c.queue,delete c.queue),void 0!==c.delay&&(o=c.delay,delete c.delay),void 0===e&&(e=p.fx.speeds._default),void 0===n&&(n=p.cssEase._default),e=m(e),g(c,e,n,o)),l=p.transit.enabled&&d.transition?parseInt(e,10)+parseInt(o,10):0;return 0===l?(b(a,u,function(t){a.css(c),i&&i.apply(a),t&&t()}),a):(s={},r=function(t){function e(){n&&a.unbind(h,e),0<l&&a.each(function(){this.style[d.transition]=s[this]||null}),"function"==typeof i&&i.apply(a),"function"==typeof t&&t()}var n=!1;0<l&&h&&p.transit.useTransitionEnd?(n=!0,a.bind(h,e)):window.setTimeout(e,l),a.each(function(){0<l&&(this.style[d.transition]=f),p(this).css(c)})},b(a,u,function(t){this.offsetWidth=this.offsetWidth,r(t)}),this)},p.transit.getTransitionValue=g,p});
!function(w,C,S){"use strict";!function o(a,r,s){function l(n,e){if(!r[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(i)return i(n,!0);e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}t=r[n]={exports:{}};a[n][0].call(t.exports,function(e){var t=a[n][1][e];return l(t||e)},t,t.exports,o,a,r,s)}return r[n].exports}for(var i="function"==typeof require&&require,e=0;e<s.length;e++)l(s[e]);return l}({1:[function(e,t,n){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var c,d,a,f,p=e("./modules/handle-dom"),m=e("./modules/utils"),y=e("./modules/handle-swal-dom"),v=e("./modules/handle-click"),b=o(e("./modules/handle-key")),h=o(e("./modules/default-params")),g=o(e("./modules/set-params"));n.default=a=f=function(){var t=arguments[0];function e(e){return(t[e]===S?h.default:t)[e]}if((0,p.addClass)(C.body,"stop-scrolling"),(0,y.resetInput)(),t===S)return(0,m.logStr)("SweetAlert expects at least 1 attribute!"),!1;var n=(0,m.extend)({},h.default);switch(typeof t){case"string":n.title=t,n.text=arguments[1]||"",n.type=arguments[2]||"";break;case"object":if(t.title===S)return(0,m.logStr)('Missing "title" argument!'),!1;for(var o in n.title=t.title,h.default)n[o]=e(o);n.confirmButtonText=n.showCancelButton?"Confirm":h.default.confirmButtonText,n.confirmButtonText=e("confirmButtonText"),n.doneFunction=arguments[1]||null;break;default:return(0,m.logStr)('Unexpected type of argument! Expected "string" or "object", got '+typeof t),!1}(0,g.default)(n),(0,y.fixVerticalPosition)(),(0,y.openModal)(arguments[1]);for(var a=(0,y.getModal)(),r=a.querySelectorAll("button"),s=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],l=function(e){return(0,v.handleButton)(e,n,a)},i=0;i<r.length;i++)for(var u=0;u<s.length;u++)r[i][s[u]]=l;(0,y.getOverlay)().onclick=l,c=w.onkeydown;w.onkeydown=function(e){return(0,b.default)(e,n,a)},w.onfocus=function(){setTimeout(function(){d!==S&&(d.focus(),d=S)},0)},f.enableButtons()},a.setDefaults=f.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");(0,m.extend)(h.default,e)},a.close=f.close=function(){var t=(0,y.getModal)(),e=((0,p.fadeOut)((0,y.getOverlay)(),5),(0,p.fadeOut)(t,5),(0,p.removeClass)(t,"showSweetAlert"),(0,p.addClass)(t,"hideSweetAlert"),(0,p.removeClass)(t,"visible"),t.querySelector(".sa-icon.sa-success")),e=((0,p.removeClass)(e,"animate"),(0,p.removeClass)(e.querySelector(".sa-tip"),"animateSuccessTip"),(0,p.removeClass)(e.querySelector(".sa-long"),"animateSuccessLong"),t.querySelector(".sa-icon.sa-error")),e=((0,p.removeClass)(e,"animateErrorIcon"),(0,p.removeClass)(e.querySelector(".sa-x-mark"),"animateXMark"),t.querySelector(".sa-icon.sa-warning"));return(0,p.removeClass)(e,"pulseWarning"),(0,p.removeClass)(e.querySelector(".sa-body"),"pulseWarningIns"),(0,p.removeClass)(e.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var e=t.getAttribute("data-custom-class");(0,p.removeClass)(t,e)},300),(0,p.removeClass)(C.body,"stop-scrolling"),w.onkeydown=c,w.previousActiveElement&&w.previousActiveElement.focus(),d=S,clearTimeout(t.timeout),!0},a.showInputError=f.showInputError=function(e){var t=(0,y.getModal)(),n=t.querySelector(".sa-input-error"),n=((0,p.addClass)(n,"show"),t.querySelector(".sa-error-container"));(0,p.addClass)(n,"show"),n.querySelector("p").innerHTML=e,setTimeout(function(){a.enableButtons()},1),t.querySelector("input").focus()},a.resetInputError=f.resetInputError=function(e){if(e&&13===e.keyCode)return!1;var e=(0,y.getModal)(),t=e.querySelector(".sa-input-error"),t=((0,p.removeClass)(t,"show"),e.querySelector(".sa-error-container"));(0,p.removeClass)(t,"show")},a.disableButtons=f.disableButtons=function(e){var t=(0,y.getModal)(),n=t.querySelector("button.confirm"),t=t.querySelector("button.cancel");n.disabled=!0,t.disabled=!0},a.enableButtons=f.enableButtons=function(e){var t=(0,y.getModal)(),n=t.querySelector("button.confirm"),t=t.querySelector("button.cancel");n.disabled=!1,t.disabled=!1},void 0!==w?w.sweetAlert=w.swal=a:(0,m.logStr)("SweetAlert is a frontend module!"),t.exports=n.default},{"./modules/default-params":2,"./modules/handle-click":3,"./modules/handle-dom":4,"./modules/handle-key":5,"./modules/handle-swal-dom":6,"./modules/set-params":8,"./modules/utils":9}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});n.default={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#8CD4F5",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1},t.exports=n.default},{}],3:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});function m(e,t){var n=!0;(0,b.hasClass)(e,"show-input")&&(n=(n=e.querySelector("input").value)||""),t.doneFunction(n),t.closeOnConfirm&&sweetAlert.close(),t.showLoaderOnConfirm&&sweetAlert.disableButtons()}function y(e,t){var n=String(t.doneFunction).replace(/\s/g,"");"function("===n.substring(0,9)&&")"!==n.substring(9,10)&&t.doneFunction(!1),t.closeOnCancel&&sweetAlert.close()}var v=e("./utils"),b=(e("./handle-swal-dom"),e("./handle-dom"));n.default={handleButton:function(e,t,n){var o,a,r,e=e||w.event,s=e.target||e.srcElement,l=-1!==s.className.indexOf("confirm"),i=-1!==s.className.indexOf("sweet-overlay"),u=(0,b.hasClass)(n,"visible"),c=t.doneFunction&&"true"===n.getAttribute("data-has-done-function");function d(e){l&&t.confirmButtonColor&&(s.style.backgroundColor=e)}switch(l&&t.confirmButtonColor&&(o=t.confirmButtonColor,a=(0,v.colorLuminance)(o,-.04),r=(0,v.colorLuminance)(o,-.14)),e.type){case"mouseover":d(a);break;case"mouseout":d(o);break;case"mousedown":d(r);break;case"mouseup":d(a);break;case"focus":var f=n.querySelector("button.confirm"),p=n.querySelector("button.cancel");l?p.style.boxShadow="none":f.style.boxShadow="none";break;case"click":p=n===s,f=(0,b.isDescendant)(n,s);(p||f||!u||t.allowOutsideClick)&&(l&&c&&u?m(n,t):c&&u||i?y(0,t):(0,b.isDescendant)(n,s)&&"BUTTON"===s.tagName&&sweetAlert.close())}},handleConfirm:m,handleCancel:y},t.exports=n.default},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],4:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});function o(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")}function a(e){e.style.opacity="",e.style.display="block"}function r(e){e.style.opacity="",e.style.display="none"}n.hasClass=o,n.addClass=function(e,t){o(e,t)||(e.className+=" "+t)},n.removeClass=function(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(o(e,t)){for(;0<=n.indexOf(" "+t+" ");)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}},n.escapeHtml=function(e){var t=C.createElement("div");return t.appendChild(C.createTextNode(e)),t.innerHTML},n._show=a,n.show=function(e){if(e&&!e.length)return a(e);for(var t=0;t<e.length;++t)a(e[t])},n._hide=r,n.hide=function(e){if(e&&!e.length)return r(e);for(var t=0;t<e.length;++t)r(e[t])},n.isDescendant=function(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1},n.getTopMargin=function(e){e.style.left="-9999px",e.style.display="block";var t=e.clientHeight,n="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(e).getPropertyValue("padding-top"),10):parseInt(e.currentStyle.padding);return e.style.left="",e.style.display="none","-"+parseInt((t+n)/2)+"px"},n.fadeIn=function(t,n){var o;+t.style.opacity<1&&(n=n||16,t.style.opacity=0,t.style.display="block",o=+new Date,function e(){t.style.opacity=+t.style.opacity+(new Date-o)/100,o=+new Date,+t.style.opacity<1&&setTimeout(e,n)}()),t.style.display="block"},n.fadeOut=function(t,n){n=n||16,t.style.opacity=1;var o=+new Date;(function e(){t.style.opacity=+t.style.opacity-(new Date-o)/100,o=+new Date,0<+t.style.opacity?setTimeout(e,n):t.style.display="none"})()},n.fireClick=function(e){var t;"function"==typeof MouseEvent?(t=new MouseEvent("click",{view:w,bubbles:!1,cancelable:!0}),e.dispatchEvent(t)):C.createEvent?((t=C.createEvent("MouseEvents")).initEvent("click",!1,!1),e.dispatchEvent(t)):C.createEventObject?e.fireEvent("onclick"):"function"==typeof e.onclick&&e.onclick()},n.stopEventPropagation=function(e){"function"==typeof e.stopPropagation?(e.stopPropagation(),e.preventDefault()):w.event&&w.event.hasOwnProperty("cancelBubble")&&(w.event.cancelBubble=!0)}},{}],5:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var c=e("./handle-dom"),d=e("./handle-swal-dom");n.default=function(e,t,n){var e=e||w.event,o=e.keyCode||e.which,a=n.querySelector("button.confirm"),r=n.querySelector("button.cancel"),s=n.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(o)){for(var l=e.target||e.srcElement,i=-1,u=0;u<s.length;u++)if(l===s[u]){i=u;break}9===o?(l=-1===i?a:i===s.length-1?s[0]:s[i+1],(0,c.stopEventPropagation)(e),l.focus(),t.confirmButtonColor&&(0,d.setFocusStyle)(l,t.confirmButtonColor)):13===o?"INPUT"===l.tagName&&(l=a).focus():27===o&&!0===t.allowEscapeKey&&(0,c.fireClick)(l=r,e)}},t.exports=n.default},{"./handle-dom":4,"./handle-swal-dom":6}],6:[function(e,t,n){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});function a(){var e=C.createElement("div");for(e.innerHTML=d.default;e.firstChild;)C.body.appendChild(e.firstChild)}function r(){var e=f();if(e)return e.querySelector("input")}function s(){return C.querySelector(".sweet-overlay")}function l(e){if(e&&13===e.keyCode)return!1;var t=(e=f()).querySelector(".sa-input-error"),t=((0,u.removeClass)(t,"show"),e.querySelector(".sa-error-container"));(0,u.removeClass)(t,"show")}var i=e("./utils"),u=e("./handle-dom"),c=o(e("./default-params")),d=o(e("./injected-html")),f=function e(){var t=C.querySelector(".sweet-alert");return t||(a(),t=e()),t};n.sweetAlertInitialize=a,n.getModal=f,n.getOverlay=s,n.getInput=r,n.setFocusStyle=function(e,t){t=(0,i.hexToRgb)(t);e.style.boxShadow="0 0 2px rgba("+t+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},n.openModal=function(e){var t=f();(0,u.fadeIn)(s(),10),(0,u.show)(t),(0,u.addClass)(t,"showSweetAlert"),(0,u.removeClass)(t,"hideSweetAlert"),w.previousActiveElement=C.activeElement;t.querySelector("button.confirm").focus(),setTimeout(function(){(0,u.addClass)(t,"visible")},500);var n,o=t.getAttribute("data-timer");"null"!==o&&""!==o&&(n=e,t.timeout=setTimeout(function(){(n?"true"===t.getAttribute("data-has-done-function"):null)?n(null):sweetAlert.close()},o))},n.resetInput=function(){var e=f(),t=r();(0,u.removeClass)(e,"show-input"),t.value=c.default.inputValue,t.setAttribute("type",c.default.inputType),t.setAttribute("placeholder",c.default.inputPlaceholder),l()},n.resetInputError=l,n.fixVerticalPosition=function(){f().style.marginTop=(0,u.getTopMargin)(f())}},{"./default-params":2,"./handle-dom":4,"./injected-html":7,"./utils":9}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});n.default='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>',t.exports=n.default},{}],8:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var u=e("./utils"),c=e("./handle-swal-dom"),d=e("./handle-dom"),f=["error","warning","info","success","input","prompt"];n.default=function(a){var e,t,r=(0,c.getModal)(),n=r.querySelector("h2"),o=r.querySelector("p"),s=r.querySelector("button.cancel"),l=r.querySelector("button.confirm");if(n.innerHTML=a.html?a.title:(0,d.escapeHtml)(a.title).split("\n").join("<br>"),o.innerHTML=a.html?a.text:(0,d.escapeHtml)(a.text||"").split("\n").join("<br>"),a.text&&(0,d.show)(o),a.customClass?((0,d.addClass)(r,a.customClass),r.setAttribute("data-custom-class",a.customClass)):(n=r.getAttribute("data-custom-class"),(0,d.removeClass)(r,n),r.setAttribute("data-custom-class","")),(0,d.hide)(r.querySelectorAll(".sa-icon")),a.type&&!(0,u.isIE8)()){var o=function(){for(var e=!1,t=0;t<f.length;t++)if(a.type===f[t]){e=!0;break}if(!e)return logStr("Unknown alert type: "+a.type),{v:!1};var n=S,o=(-1!==["success","error","warning","info"].indexOf(a.type)&&(n=r.querySelector(".sa-icon.sa-"+a.type),(0,d.show)(n)),(0,c.getInput)());switch(a.type){case"success":(0,d.addClass)(n,"animate"),(0,d.addClass)(n.querySelector(".sa-tip"),"animateSuccessTip"),(0,d.addClass)(n.querySelector(".sa-long"),"animateSuccessLong");break;case"error":(0,d.addClass)(n,"animateErrorIcon"),(0,d.addClass)(n.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":(0,d.addClass)(n,"pulseWarning"),(0,d.addClass)(n.querySelector(".sa-body"),"pulseWarningIns"),(0,d.addClass)(n.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":o.setAttribute("type",a.inputType),o.value=a.inputValue,o.setAttribute("placeholder",a.inputPlaceholder),(0,d.addClass)(r,"show-input"),setTimeout(function(){o.focus(),o.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof o)return o.v}a.imageUrl&&((n=r.querySelector(".sa-icon.sa-custom")).style.backgroundImage="url("+a.imageUrl+")",(0,d.show)(n),e=o=80,a.imageSize&&(i=(t=a.imageSize.toString().split("x"))[0],t=t[1],i&&t?(o=i,e=t):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+a.imageSize)),n.setAttribute("style",n.getAttribute("style")+"width:"+o+"px; height:"+e+"px")),r.setAttribute("data-has-cancel-button",a.showCancelButton),a.showCancelButton?s.style.display="inline-block":(0,d.hide)(s),r.setAttribute("data-has-confirm-button",a.showConfirmButton),a.showConfirmButton?l.style.display="inline-block":(0,d.hide)(l),a.cancelButtonText&&(s.innerHTML=(0,d.escapeHtml)(a.cancelButtonText)),a.confirmButtonText&&(l.innerHTML=(0,d.escapeHtml)(a.confirmButtonText)),a.confirmButtonColor&&(l.style.backgroundColor=a.confirmButtonColor,l.style.borderLeftColor=a.confirmLoadingButtonColor,l.style.borderRightColor=a.confirmLoadingButtonColor,(0,c.setFocusStyle)(l,a.confirmButtonColor)),r.setAttribute("data-allow-outside-click",a.allowOutsideClick);var i=!!a.doneFunction;r.setAttribute("data-has-done-function",i),a.animation?"string"==typeof a.animation?r.setAttribute("data-animation",a.animation):r.setAttribute("data-animation","pop"):r.setAttribute("data-animation","none"),r.setAttribute("data-timer",a.timer)},t.exports=n.default},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],9:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});n.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},n.hexToRgb=function(e){e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return e?parseInt(e[1],16)+", "+parseInt(e[2],16)+", "+parseInt(e[3],16):null},n.isIE8=function(){return w.attachEvent&&!w.addEventListener},n.logStr=function(e){void 0!==w&&w.console&&w.console.log("SweetAlert: "+e)},n.colorLuminance=function(e,t){(e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;for(var n,o="#",a=0;a<3;a++)n=parseInt(e.substr(2*a,2),16),o+=("00"+(n=Math.round(Math.min(Math.max(0,n+n*t),255)).toString(16))).substr(n.length);return o}},{}]},{},[1]),"function"==typeof define&&define.amd?define(function(){return sweetAlert}):"undefined"!=typeof module&&module.exports&&(module.exports=sweetAlert)}(window,document);
!function(){var l,n,i;function s(t,e){if(t.classList)return e.forEach(function(e){t.classList.add(e)});t.className+=" "+e.join(" ")}function e(t,e){if(t.classList)return e.forEach(function(e){t.classList.remove(e)});t.className=t.className.replace(new RegExp("(^|\\b)"+e.join("|")+"(\\b|$)","gi")," ")}function r(){var e=navigator.userAgent.toLowerCase();return-1!==e.indexOf("msie")||-1!==e.indexOf("trident")||-1!==e.indexOf(" edge/")}function t(t){var e,i;this.element=null,this.autoshow=!1,this.createElements=!0,this.forceGemini=!1,this.onResize=null,Object.keys(t||{}).forEach(function(e){this[e]=t[e]},this),(i=document.createElement("div")).style.position="absolute",i.style.top="-9999px",i.style.width="100px",i.style.height="100px",i.style.overflow="scroll",i.style.msOverflowStyle="scrollbar",document.body.appendChild(i),e=i.offsetWidth-i.clientWidth,document.body.removeChild(i),n=0===(l=e)&&!1===this.forceGemini,this._cache={events:{}},this._created=!1,this._cursorDown=!1,this._prevPageX=0,this._prevPageY=0,this._document=null,this._viewElement=this.element,this._scrollbarVerticalElement=null,this._thumbVerticalElement=null,this._scrollbarHorizontalElement=null,this._scrollbarHorizontalElement=null}i={element:"gm-scrollbar-container",verticalScrollbar:"gm-scrollbar -vertical",horizontalScrollbar:"gm-scrollbar -horizontal",thumb:"thumb",view:"gm-scroll-view",autoshow:"gm-autoshow",disable:"gm-scrollbar-disable-selection",prevented:"gm-prevented",resizeTrigger:"gm-resize-trigger"},t.prototype.create=function(){if(n){if(s(this.element,[i.prevented]),this.onResize){if(!0===this.createElements){for(this._viewElement=document.createElement("div");0<this.element.childNodes.length;)this._viewElement.appendChild(this.element.childNodes[0]);this.element.appendChild(this._viewElement)}else this._viewElement=this.element.querySelector("."+i.view);s(this.element,[i.element]),s(this._viewElement,[i.view]),this._createResizeTrigger()}return this}if(!0===this._created)return console.warn("calling on a already-created object"),this;if(this.autoshow&&s(this.element,[i.autoshow]),this._document=document,!0===this.createElements){for(this._viewElement=document.createElement("div"),this._scrollbarVerticalElement=document.createElement("div"),this._thumbVerticalElement=document.createElement("div"),this._scrollbarHorizontalElement=document.createElement("div"),this._thumbHorizontalElement=document.createElement("div");0<this.element.childNodes.length;)this._viewElement.appendChild(this.element.childNodes[0]);this._scrollbarVerticalElement.appendChild(this._thumbVerticalElement),this._scrollbarHorizontalElement.appendChild(this._thumbHorizontalElement),this.element.appendChild(this._scrollbarVerticalElement),this.element.appendChild(this._scrollbarHorizontalElement),this.element.appendChild(this._viewElement)}else this._viewElement=this.element.querySelector("."+i.view),this._scrollbarVerticalElement=this.element.querySelector("."+i.verticalScrollbar.split(" ").join(".")),this._thumbVerticalElement=this._scrollbarVerticalElement.querySelector("."+i.thumb),this._scrollbarHorizontalElement=this.element.querySelector("."+i.horizontalScrollbar.split(" ").join(".")),this._thumbHorizontalElement=this._scrollbarHorizontalElement.querySelector("."+i.thumb);return s(this.element,[i.element]),s(this._viewElement,[i.view]),s(this._scrollbarVerticalElement,i.verticalScrollbar.split(/\s/)),s(this._scrollbarHorizontalElement,i.horizontalScrollbar.split(/\s/)),s(this._thumbVerticalElement,[i.thumb]),s(this._thumbHorizontalElement,[i.thumb]),this._scrollbarVerticalElement.style.display="",this._scrollbarHorizontalElement.style.display="",this._createResizeTrigger(),this._created=!0,this._bindEvents().update()},t.prototype._createResizeTrigger=function(){var e=document.createElement("object"),t=(s(e,[i.resizeTrigger]),e.type="text/html",this._resizeHandler.bind(this));e.onload=function(){e.contentDocument.defaultView.addEventListener("resize",t)},r()||(e.data="about:blank"),this.element.appendChild(e),r()&&(e.data="about:blank"),this._resizeTriggerElement=e},t.prototype.update=function(){var e,t;return n||(!1===this._created?console.warn("calling on a not-yet-created object"):(this._viewElement.style.width="",this._viewElement.style.height="",this._viewElement.style.width=(this.element.offsetWidth+l).toString()+"px",this._viewElement.style.height=(this.element.offsetHeight+l).toString()+"px",e=100*this._viewElement.clientHeight/this._viewElement.scrollHeight,t=100*this._viewElement.clientWidth/this._viewElement.scrollWidth,this._thumbVerticalElement.style.height=e<100?e+"%":"",this._thumbHorizontalElement.style.width=t<100?t+"%":"",this._scrollHandler())),this},t.prototype.destroy=function(){if(this._resizeTriggerElement&&(this.element.removeChild(this._resizeTriggerElement),this._resizeTriggerElement=null),n)return this;if(!1===this._created)return console.warn("calling on a not-yet-created object"),this;if(this._unbinEvents(),e(this.element,[i.element,i.autoshow]),!0===this.createElements){for(this.element.removeChild(this._scrollbarVerticalElement),this.element.removeChild(this._scrollbarHorizontalElement);0<this._viewElement.childNodes.length;)this.element.appendChild(this._viewElement.childNodes[0]);this.element.removeChild(this._viewElement)}else this._viewElement.style.width="",this._viewElement.style.height="",this._scrollbarVerticalElement.style.display="none",this._scrollbarHorizontalElement.style.display="none";return this._created=!1,this._document=null},t.prototype.getViewElement=function(){return this._viewElement},t.prototype._bindEvents=function(){return this._cache.events.scrollHandler=this._scrollHandler.bind(this),this._cache.events.clickVerticalTrackHandler=this._clickVerticalTrackHandler.bind(this),this._cache.events.clickHorizontalTrackHandler=this._clickHorizontalTrackHandler.bind(this),this._cache.events.clickVerticalThumbHandler=this._clickVerticalThumbHandler.bind(this),this._cache.events.clickHorizontalThumbHandler=this._clickHorizontalThumbHandler.bind(this),this._cache.events.mouseUpDocumentHandler=this._mouseUpDocumentHandler.bind(this),this._cache.events.mouseMoveDocumentHandler=this._mouseMoveDocumentHandler.bind(this),this._viewElement.addEventListener("scroll",this._cache.events.scrollHandler),this._scrollbarVerticalElement.addEventListener("mousedown",this._cache.events.clickVerticalTrackHandler),this._scrollbarHorizontalElement.addEventListener("mousedown",this._cache.events.clickHorizontalTrackHandler),this._thumbVerticalElement.addEventListener("mousedown",this._cache.events.clickVerticalThumbHandler),this._thumbHorizontalElement.addEventListener("mousedown",this._cache.events.clickHorizontalThumbHandler),this._document.addEventListener("mouseup",this._cache.events.mouseUpDocumentHandler),this},t.prototype._unbinEvents=function(){return this._viewElement.removeEventListener("scroll",this._cache.events.scrollHandler),this._scrollbarVerticalElement.removeEventListener("mousedown",this._cache.events.clickVerticalTrackHandler),this._scrollbarHorizontalElement.removeEventListener("mousedown",this._cache.events.clickHorizontalTrackHandler),this._thumbVerticalElement.removeEventListener("mousedown",this._cache.events.clickVerticalThumbHandler),this._thumbHorizontalElement.removeEventListener("mousedown",this._cache.events.clickHorizontalThumbHandler),this._document.removeEventListener("mouseup",this._cache.events.mouseUpDocumentHandler),this._document.removeEventListener("mousemove",this._cache.events.mouseMoveDocumentHandler),this},t.prototype._scrollHandler=function(){var e=this._viewElement,t=100*e.scrollTop/e.clientHeight,e=100*e.scrollLeft/e.clientWidth;this._thumbVerticalElement.style.msTransform="translateY("+t+"%)",this._thumbVerticalElement.style.webkitTransform="translateY("+t+"%)",this._thumbVerticalElement.style.transform="translateY("+t+"%)",this._thumbHorizontalElement.style.msTransform="translateX("+e+"%)",this._thumbHorizontalElement.style.webkitTransform="translateX("+e+"%)",this._thumbHorizontalElement.style.transform="translateX("+e+"%)"},t.prototype._resizeHandler=function(){this.update(),this.onResize&&this.onResize()},t.prototype._clickVerticalTrackHandler=function(e){e=100*(Math.abs(e.target.getBoundingClientRect().top-e.clientY)-this._thumbVerticalElement.offsetHeight/2)/this._scrollbarVerticalElement.offsetHeight;this._viewElement.scrollTop=e*this._viewElement.scrollHeight/100},t.prototype._clickHorizontalTrackHandler=function(e){e=100*(Math.abs(e.target.getBoundingClientRect().left-e.clientX)-this._thumbHorizontalElement.offsetWidth/2)/this._scrollbarHorizontalElement.offsetWidth;this._viewElement.scrollLeft=e*this._viewElement.scrollWidth/100},t.prototype._clickVerticalThumbHandler=function(e){this._startDrag(e),this._prevPageY=e.currentTarget.offsetHeight-(e.clientY-e.currentTarget.getBoundingClientRect().top)},t.prototype._clickHorizontalThumbHandler=function(e){this._startDrag(e),this._prevPageX=e.currentTarget.offsetWidth-(e.clientX-e.currentTarget.getBoundingClientRect().left)},t.prototype._startDrag=function(e){e.stopImmediatePropagation(),this._cursorDown=!0,s(document.body,[i.disable]),this._document.addEventListener("mousemove",this._cache.events.mouseMoveDocumentHandler),this._document.onselectstart=function(){return!1}},t.prototype._mouseUpDocumentHandler=function(){this._cursorDown=!1,this._prevPageX=this._prevPageY=0,e(document.body,[i.disable]),this._document.removeEventListener("mousemove",this._cache.events.mouseMoveDocumentHandler),this._document.onselectstart=null},t.prototype._mouseMoveDocumentHandler=function(e){var t;!1!==this._cursorDown&&(this._prevPageY?(t=100*(-1*(this._scrollbarVerticalElement.getBoundingClientRect().top-e.clientY)-(this._thumbVerticalElement.offsetHeight-this._prevPageY))/this._scrollbarVerticalElement.offsetHeight,this._viewElement.scrollTop=t*this._viewElement.scrollHeight/100):this._prevPageX&&(t=100*(-1*(this._scrollbarHorizontalElement.getBoundingClientRect().left-e.clientX)-(this._thumbHorizontalElement.offsetWidth-this._prevPageX))/this._scrollbarHorizontalElement.offsetWidth,this._viewElement.scrollLeft=t*this._viewElement.scrollWidth/100))},"object"==typeof exports?module.exports=t:window.GeminiScrollbar=t}();
!function(r){function s(r,e){if(!r)return e;var a,u={};for(a in e)u[a]=(k(r,a)?r:e)[a];return u}function g(r,e){var a="";return 55296<=r&&r<=57343||1114111<r?(e&&B("character reference outside the permissible Unicode range"),""):k(A,r)?(e&&B("disallowed character reference"),A[r]):(e&&C(w,r)&&B("disallowed character reference"),65535<r&&(a+=E((r-=65536)>>>10&1023|55296),r=56320|1023&r),a+E(r))}function l(r){return"&#x"+r.toString(16).toUpperCase()+";"}function i(r){return"&#"+r+";"}function n(r,e){function a(r){return c(r.charCodeAt(0))}(e=s(e,n.options)).strict&&D.test(r)&&B("forbidden code point");var u=e.encodeEverything,t=e.useNamedReferences,o=e.allowUnsafeSymbols,c=e.decimal?i:l;return u?(r=r.replace(d,function(r){return t&&k(b,r)?"&"+b[r]+";":a(r)}),t&&(r=r.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),t&&(r=r.replace(f,function(r){return"&"+b[r]+";"}))):t?r=(r=(r=o?r:r.replace(h,function(r){return"&"+b[r]+";"})).replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;")).replace(f,function(r){return"&"+b[r]+";"}):o||(r=r.replace(h,a)),r.replace(p,function(r){var e=r.charCodeAt(0),r=r.charCodeAt(1);return c(1024*(e-55296)+r-56320+65536)}).replace(m,a)}function e(r,p){var d=(p=s(p,e.options)).strict;return d&&c.test(r)&&B("malformed character reference"),r.replace(v,function(r,e,a,u,t,o,c,s){var l,i,n;return e?(e=e,i=a,d&&!i&&B("character reference was not terminated by a semicolon"),l=parseInt(e,10),g(l,d)):u?(a=u,i=t,d&&!i&&B("character reference was not terminated by a semicolon"),l=parseInt(a,16),g(l,d)):o?k(y,n=o)?y[n]:(d&&B("named character reference was not terminated by a semicolon"),r):(n=c,(e=s)&&p.isAttributeValue?(d&&"="==e&&B("`&` did not start a character reference"),r):(d&&B("named character reference was not terminated by a semicolon"),q[n]+(e||"")))})}var a="object"==typeof exports&&exports,u="object"==typeof module&&module&&module.exports==a&&module,t="object"==typeof global&&global,p=(t.global!==t&&t.window!==t||(r=t),/[\uD800-\uDBFF][\uDC00-\uDFFF]/g),d=/[\x01-\x7F]/g,m=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,f=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,b={"":"shy","":"zwnj","":"zwj","":"lrm","":"ic","":"it","":"af","":"rlm","":"ZeroWidthSpace","":"NoBreak","":"DownBreve","":"tdot","":"DotDot","\t":"Tab","\n":"NewLine","":"puncsp","":"MediumSpace","":"thinsp","":"hairsp","":"emsp13","":"ensp","":"emsp14","":"emsp","":"numsp","":"nbsp","":"ThickSpace","":"oline",_:"lowbar","":"dash","":"ndash","":"mdash","":"horbar",",":"comma",";":"semi","":"bsemi",":":"colon","":"Colone","!":"excl","":"iexcl","?":"quest","":"iquest",".":"period","":"nldr","":"mldr","":"middot","'":"apos","":"lsquo","":"rsquo","":"sbquo","":"lsaquo","":"rsaquo",'"':"quot","":"ldquo","":"rdquo","":"bdquo","":"laquo","":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","":"lceil","":"rceil","":"lfloor","":"rfloor","":"lopar","":"ropar","":"lbrke","":"rbrke","":"lbrkslu","":"rbrksld","":"lbrksld","":"rbrkslu","":"langd","":"rangd","":"lparlt","":"rpargt","":"gtlPar","":"ltrPar","":"lobrk","":"robrk","":"lang","":"rang","":"Lang","":"Rang","":"loang","":"roang","":"lbbrk","":"rbbrk","":"Vert","":"sect","":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","":"permil","":"pertenk","":"dagger","":"Dagger","":"bull","":"hybull","":"prime","":"Prime","":"tprime","":"qprime","":"bprime","":"caret","`":"grave","":"acute","":"tilde","^":"Hat","":"macr","":"breve","":"dot","":"die","":"ring","":"dblac","":"cedil","":"ogon","":"circ","":"caron","":"deg","":"copy","":"reg","":"copysr","":"wp","":"rx","":"mho","":"iiota","":"larr","":"nlarr","":"rarr","":"nrarr","":"uarr","":"darr","":"harr","":"nharr","":"varr","":"nwarr","":"nearr","":"searr","":"swarr","":"rarrw","":"nrarrw","":"Larr","":"Uarr","":"Rarr","":"Darr","":"larrtl","":"rarrtl","":"mapstoleft","":"mapstoup","":"map","":"mapstodown","":"larrhk","":"rarrhk","":"larrlp","":"rarrlp","":"harrw","":"lsh","":"rsh","":"ldsh","":"rdsh","":"crarr","":"cularr","":"curarr","":"olarr","":"orarr","":"lharu","":"lhard","":"uharr","":"uharl","":"rharu","":"rhard","":"dharr","":"dharl","":"rlarr","":"udarr","":"lrarr","":"llarr","":"uuarr","":"rrarr","":"ddarr","":"lrhar","":"rlhar","":"lArr","":"nlArr","":"uArr","":"rArr","":"nrArr","":"dArr","":"iff","":"nhArr","":"vArr","":"nwArr","":"neArr","":"seArr","":"swArr","":"lAarr","":"rAarr","":"zigrarr","":"larrb","":"rarrb","":"duarr","":"loarr","":"roarr","":"hoarr","":"forall","":"comp","":"part","":"npart","":"exist","":"nexist","":"empty","":"Del","":"in","":"notin","":"ni","":"notni","":"bepsi","":"prod","":"coprod","":"sum","+":"plus","":"pm","":"div","":"times","<":"lt","":"nlt","<":"nvlt","=":"equals","":"ne","=":"bne","":"Equal",">":"gt","":"ngt",">":"nvgt","":"not","|":"vert","":"brvbar","":"minus","":"mp","":"plusdo","":"frasl","":"setmn","":"lowast","":"compfn","":"Sqrt","":"prop","":"infin","":"angrt","":"ang","":"nang","":"angmsd","":"angsph","":"mid","":"nmid","":"par","":"npar","":"and","":"or","":"cap","":"caps","":"cup","":"cups","":"int","":"Int","":"tint","":"qint","":"oint","":"Conint","":"Cconint","":"cwint","":"cwconint","":"awconint","":"there4","":"becaus","":"ratio","":"Colon","":"minusd","":"mDDot","":"homtht","":"sim","":"nsim","":"nvsim","":"bsim","":"race","":"ac","":"acE","":"acd","":"wr","":"esim","":"nesim","":"sime","":"nsime","":"cong","":"ncong","":"simne","":"ap","":"nap","":"ape","":"apid","":"napid","":"bcong","":"CupCap","":"NotCupCap","":"nvap","":"bump","":"nbump","":"bumpe","":"nbumpe","":"doteq","":"nedot","":"eDot","":"efDot","":"erDot","":"colone","":"ecolon","":"ecir","":"cire","":"wedgeq","":"veeeq","":"trie","":"equest","":"equiv","":"nequiv","":"bnequiv","":"le","":"nle","":"nvle","":"ge","":"nge","":"nvge","":"lE","":"nlE","":"gE","":"ngE","":"lvnE","":"lnE","":"gnE","":"gvnE","":"ll","":"nLtv","":"nLt","":"gg","":"nGtv","":"nGt","":"twixt","":"lsim","":"nlsim","":"gsim","":"ngsim","":"lg","":"ntlg","":"gl","":"ntgl","":"pr","":"npr","":"sc","":"nsc","":"prcue","":"nprcue","":"sccue","":"nsccue","":"prsim","":"scsim","":"NotSucceedsTilde","":"sub","":"nsub","":"vnsub","":"sup","":"nsup","":"vnsup","":"sube","":"nsube","":"supe","":"nsupe","":"vsubne","":"subne","":"vsupne","":"supne","":"cupdot","":"uplus","":"sqsub","":"NotSquareSubset","":"sqsup","":"NotSquareSuperset","":"sqsube","":"nsqsube","":"sqsupe","":"nsqsupe","":"sqcap","":"sqcaps","":"sqcup","":"sqcups","":"oplus","":"ominus","":"otimes","":"osol","":"odot","":"ocir","":"oast","":"odash","":"plusb","":"minusb","":"timesb","":"sdotb","":"vdash","":"nvdash","":"dashv","":"top","":"bot","":"models","":"vDash","":"nvDash","":"Vdash","":"nVdash","":"Vvdash","":"VDash","":"nVDash","":"prurel","":"vltri","":"nltri","":"vrtri","":"nrtri","":"ltrie","":"nltrie","":"nvltrie","":"rtrie","":"nrtrie","":"nvrtrie","":"origof","":"imof","":"mumap","":"hercon","":"intcal","":"veebar","":"barvee","":"angrtvb","":"lrtri","":"Wedge","":"Vee","":"xcap","":"xcup","":"diam","":"sdot","":"Star","":"divonx","":"bowtie","":"ltimes","":"rtimes","":"lthree","":"rthree","":"bsime","":"cuvee","":"cuwed","":"Sub","":"Sup","":"Cap","":"Cup","":"fork","":"epar","":"ltdot","":"gtdot","":"Ll","":"nLl","":"Gg","":"nGg","":"lesg","":"leg","":"gel","":"gesl","":"cuepr","":"cuesc","":"lnsim","":"gnsim","":"prnsim","":"scnsim","":"vellip","":"ctdot","":"utdot","":"dtdot","":"disin","":"isinsv","":"isins","":"isindot","":"notindot","":"notinvc","":"notinvb","":"isinE","":"notinE","":"nisd","":"xnis","":"nis","":"notnivc","":"notnivb","":"barwed","":"Barwed","":"drcrop","":"dlcrop","":"urcrop","":"ulcrop","":"bnot","":"profline","":"profsurf","":"telrec","":"target","":"ulcorn","":"urcorn","":"dlcorn","":"drcorn","":"frown","":"smile","":"cylcty","":"profalar","":"topbot","":"ovbar","":"solbar","":"angzarr","":"lmoust","":"rmoust","":"tbrk","":"bbrk","":"bbrktbrk","":"OverParenthesis","":"UnderParenthesis","":"OverBrace","":"UnderBrace","":"trpezium","":"elinters","":"blank","":"boxh","":"boxv","":"boxdr","":"boxdl","":"boxur","":"boxul","":"boxvr","":"boxvl","":"boxhd","":"boxhu","":"boxvh","":"boxH","":"boxV","":"boxdR","":"boxDr","":"boxDR","":"boxdL","":"boxDl","":"boxDL","":"boxuR","":"boxUr","":"boxUR","":"boxuL","":"boxUl","":"boxUL","":"boxvR","":"boxVr","":"boxVR","":"boxvL","":"boxVl","":"boxVL","":"boxHd","":"boxhD","":"boxHD","":"boxHu","":"boxhU","":"boxHU","":"boxvH","":"boxVh","":"boxVH","":"uhblk","":"lhblk","":"block","":"blk14","":"blk12","":"blk34","":"squ","":"squf","":"EmptyVerySmallSquare","":"rect","":"marker","":"fltns","":"xutri","":"utrif","":"utri","":"rtrif","":"rtri","":"xdtri","":"dtrif","":"dtri","":"ltrif","":"ltri","":"loz","":"cir","":"tridot","":"xcirc","":"ultri","":"urtri","":"lltri","":"EmptySmallSquare","":"FilledSmallSquare","":"starf","":"star","":"phone","":"female","":"male","":"spades","":"clubs","":"hearts","":"diams","":"sung","":"check","":"cross","":"malt","":"sext","":"VerticalSeparator","":"bsolhsub","":"suphsol","":"xlarr","":"xrarr","":"xharr","":"xlArr","":"xrArr","":"xhArr","":"xmap","":"dzigrarr","":"nvlArr","":"nvrArr","":"nvHarr","":"Map","":"lbarr","":"rbarr","":"lBarr","":"rBarr","":"RBarr","":"DDotrahd","":"UpArrowBar","":"DownArrowBar","":"Rarrtl","":"latail","":"ratail","":"lAtail","":"rAtail","":"larrfs","":"rarrfs","":"larrbfs","":"rarrbfs","":"nwarhk","":"nearhk","":"searhk","":"swarhk","":"nwnear","":"toea","":"tosa","":"swnwar","":"rarrc","":"nrarrc","":"cudarrr","":"ldca","":"rdca","":"cudarrl","":"larrpl","":"curarrm","":"cularrp","":"rarrpl","":"harrcir","":"Uarrocir","":"lurdshar","":"ldrushar","":"LeftRightVector","":"RightUpDownVector","":"DownLeftRightVector","":"LeftUpDownVector","":"LeftVectorBar","":"RightVectorBar","":"RightUpVectorBar","":"RightDownVectorBar","":"DownLeftVectorBar","":"DownRightVectorBar","":"LeftUpVectorBar","":"LeftDownVectorBar","":"LeftTeeVector","":"RightTeeVector","":"RightUpTeeVector","":"RightDownTeeVector","":"DownLeftTeeVector","":"DownRightTeeVector","":"LeftUpTeeVector","":"LeftDownTeeVector","":"lHar","":"uHar","":"rHar","":"dHar","":"luruhar","":"ldrdhar","":"ruluhar","":"rdldhar","":"lharul","":"llhard","":"rharul","":"lrhard","":"udhar","":"duhar","":"RoundImplies","":"erarr","":"simrarr","":"larrsim","":"rarrsim","":"rarrap","":"ltlarr","":"gtrarr","":"subrarr","":"suplarr","":"lfisht","":"rfisht","":"ufisht","":"dfisht","":"vzigzag","":"vangrt","":"angrtvbd","":"ange","":"range","":"dwangle","":"uwangle","":"angmsdaa","":"angmsdab","":"angmsdac","":"angmsdad","":"angmsdae","":"angmsdaf","":"angmsdag","":"angmsdah","":"bemptyv","":"demptyv","":"cemptyv","":"raemptyv","":"laemptyv","":"ohbar","":"omid","":"opar","":"operp","":"olcross","":"odsold","":"olcir","":"ofcir","":"olt","":"ogt","":"cirscir","":"cirE","":"solb","":"bsolb","":"boxbox","":"trisb","":"rtriltri","":"LeftTriangleBar","":"NotLeftTriangleBar","":"RightTriangleBar","":"NotRightTriangleBar","":"iinfin","":"infintie","":"nvinfin","":"eparsl","":"smeparsl","":"eqvparsl","":"lozf","":"RuleDelayed","":"dsol","":"xodot","":"xoplus","":"xotime","":"xuplus","":"xsqcup","":"fpartint","":"cirfnint","":"awint","":"rppolint","":"scpolint","":"npolint","":"pointint","":"quatint","":"intlarhk","":"pluscir","":"plusacir","":"simplus","":"plusdu","":"plussim","":"plustwo","":"mcomma","":"minusdu","":"loplus","":"roplus","":"Cross","":"timesd","":"timesbar","":"smashp","":"lotimes","":"rotimes","":"otimesas","":"Otimes","":"odiv","":"triplus","":"triminus","":"tritime","":"iprod","":"amalg","":"capdot","":"ncup","":"ncap","":"capand","":"cupor","":"cupcap","":"capcup","":"cupbrcap","":"capbrcup","":"cupcup","":"capcap","":"ccups","":"ccaps","":"ccupssm","":"And","":"Or","":"andand","":"oror","":"orslope","":"andslope","":"andv","":"orv","":"andd","":"ord","":"wedbar","":"sdote","":"simdot","":"congdot","":"ncongdot","":"easter","":"apacir","":"apE","":"napE","":"eplus","":"pluse","":"Esim","":"eDDot","":"equivDD","":"ltcir","":"gtcir","":"ltquest","":"gtquest","":"les","":"nles","":"ges","":"nges","":"lesdot","":"gesdot","":"lesdoto","":"gesdoto","":"lesdotor","":"gesdotol","":"lap","":"gap","":"lne","":"gne","":"lnap","":"gnap","":"lEg","":"gEl","":"lsime","":"gsime","":"lsimg","":"gsiml","":"lgE","":"glE","":"lesges","":"gesles","":"els","":"egs","":"elsdot","":"egsdot","":"el","":"eg","":"siml","":"simg","":"simlE","":"simgE","":"LessLess","":"NotNestedLessLess","":"GreaterGreater","":"NotNestedGreaterGreater","":"glj","":"gla","":"ltcc","":"gtcc","":"lescc","":"gescc","":"smt","":"lat","":"smte","":"smtes","":"late","":"lates","":"bumpE","":"pre","":"npre","":"sce","":"nsce","":"prE","":"scE","":"prnE","":"scnE","":"prap","":"scap","":"prnap","":"scnap","":"Pr","":"Sc","":"subdot","":"supdot","":"subplus","":"supplus","":"submult","":"supmult","":"subedot","":"supedot","":"subE","":"nsubE","":"supE","":"nsupE","":"subsim","":"supsim","":"vsubnE","":"subnE","":"vsupnE","":"supnE","":"csub","":"csup","":"csube","":"csupe","":"subsup","":"supsub","":"subsub","":"supsup","":"suphsub","":"supdsub","":"forkv","":"topfork","":"mlcp","":"Dashv","":"Vdashl","":"Barv","":"vBar","":"vBarv","":"Vbar","":"Not","":"bNot","":"rnmid","":"cirmid","":"midcir","":"topcir","":"nhpar","":"parsim","":"parsl","":"nparsl","":"flat","":"natur","":"sharp","":"curren","":"cent",$:"dollar","":"pound","":"yen","":"euro","":"sup1","":"half","":"frac13","":"frac14","":"frac15","":"frac16","":"frac18","":"sup2","":"frac23","":"frac25","":"sup3","":"frac34","":"frac35","":"frac38","":"frac45","":"frac56","":"frac58","":"frac78","":"ascr","":"aopf","":"afr","":"Aopf","":"Afr","":"Ascr","":"ordf","":"aacute","":"Aacute","":"agrave","":"Agrave","":"abreve","":"Abreve","":"acirc","":"Acirc","":"aring","":"angst","":"auml","":"Auml","":"atilde","":"Atilde","":"aogon","":"Aogon","":"amacr","":"Amacr","":"aelig","":"AElig","":"bscr","":"bopf","":"bfr","":"Bopf","":"Bscr","":"Bfr","":"cfr","":"cscr","":"copf","":"Cfr","":"Cscr","":"Copf","":"cacute","":"Cacute","":"ccirc","":"Ccirc","":"ccaron","":"Ccaron","":"cdot","":"Cdot","":"ccedil","":"Ccedil","":"incare","":"dfr","":"dd","":"dopf","":"dscr","":"Dscr","":"Dfr","":"DD","":"Dopf","":"dcaron","":"Dcaron","":"dstrok","":"Dstrok","":"eth","":"ETH","":"ee","":"escr","":"efr","":"eopf","":"Escr","":"Efr","":"Eopf","":"eacute","":"Eacute","":"egrave","":"Egrave","":"ecirc","":"Ecirc","":"ecaron","":"Ecaron","":"euml","":"Euml","":"edot","":"Edot","":"eogon","":"Eogon","":"emacr","":"Emacr","":"ffr","":"fopf","":"fscr","":"Ffr","":"Fopf","":"Fscr","":"fflig","":"ffilig","":"ffllig","":"filig",fj:"fjlig","":"fllig","":"fnof","":"gscr","":"gopf","":"gfr","":"Gscr","":"Gopf","":"Gfr","":"gacute","":"gbreve","":"Gbreve","":"gcirc","":"Gcirc","":"gdot","":"Gdot","":"Gcedil","":"hfr","":"planckh","":"hscr","":"hopf","":"Hscr","":"Hfr","":"Hopf","":"hcirc","":"Hcirc","":"hbar","":"hstrok","":"Hstrok","":"iopf","":"ifr","":"iscr","":"ii","":"Iopf","":"Iscr","":"Im","":"iacute","":"Iacute","":"igrave","":"Igrave","":"icirc","":"Icirc","":"iuml","":"Iuml","":"itilde","":"Itilde","":"Idot","":"iogon","":"Iogon","":"imacr","":"Imacr","":"ijlig","":"IJlig","":"imath","":"jscr","":"jopf","":"jfr","":"Jscr","":"Jfr","":"Jopf","":"jcirc","":"Jcirc","":"jmath","":"kopf","":"kscr","":"kfr","":"Kscr","":"Kopf","":"Kfr","":"kcedil","":"Kcedil","":"lfr","":"lscr","":"ell","":"lopf","":"Lscr","":"Lfr","":"Lopf","":"lacute","":"Lacute","":"lcaron","":"Lcaron","":"lcedil","":"Lcedil","":"lstrok","":"Lstrok","":"lmidot","":"Lmidot","":"mfr","":"mopf","":"mscr","":"Mfr","":"Mopf","":"Mscr","":"nfr","":"nopf","":"nscr","":"Nopf","":"Nscr","":"Nfr","":"nacute","":"Nacute","":"ncaron","":"Ncaron","":"ntilde","":"Ntilde","":"ncedil","":"Ncedil","":"numero","":"eng","":"ENG","":"oopf","":"ofr","":"oscr","":"Oscr","":"Ofr","":"Oopf","":"ordm","":"oacute","":"Oacute","":"ograve","":"Ograve","":"ocirc","":"Ocirc","":"ouml","":"Ouml","":"odblac","":"Odblac","":"otilde","":"Otilde","":"oslash","":"Oslash","":"omacr","":"Omacr","":"oelig","":"OElig","":"pfr","":"pscr","":"popf","":"Popf","":"Pfr","":"Pscr","":"qopf","":"qfr","":"qscr","":"Qscr","":"Qfr","":"Qopf","":"kgreen","":"rfr","":"ropf","":"rscr","":"Rscr","":"Re","":"Ropf","":"racute","":"Racute","":"rcaron","":"Rcaron","":"rcedil","":"Rcedil","":"sopf","":"sscr","":"sfr","":"Sopf","":"Sfr","":"Sscr","":"oS","":"sacute","":"Sacute","":"scirc","":"Scirc","":"scaron","":"Scaron","":"scedil","":"Scedil","":"szlig","":"tfr","":"tscr","":"topf","":"Tscr","":"Tfr","":"Topf","":"tcaron","":"Tcaron","":"tcedil","":"Tcedil","":"trade","":"tstrok","":"Tstrok","":"uscr","":"uopf","":"ufr","":"Uopf","":"Ufr","":"Uscr","":"uacute","":"Uacute","":"ugrave","":"Ugrave","":"ubreve","":"Ubreve","":"ucirc","":"Ucirc","":"uring","":"Uring","":"uuml","":"Uuml","":"udblac","":"Udblac","":"utilde","":"Utilde","":"uogon","":"Uogon","":"umacr","":"Umacr","":"vfr","":"vopf","":"vscr","":"Vfr","":"Vopf","":"Vscr","":"wopf","":"wscr","":"wfr","":"Wscr","":"Wopf","":"Wfr","":"wcirc","":"Wcirc","":"xfr","":"xscr","":"xopf","":"Xopf","":"Xfr","":"Xscr","":"yfr","":"yscr","":"yopf","":"Yscr","":"Yfr","":"Yopf","":"yacute","":"Yacute","":"ycirc","":"Ycirc","":"yuml","":"Yuml","":"zscr","":"zfr","":"zopf","":"Zfr","":"Zopf","":"Zscr","":"zacute","":"Zacute","":"zcaron","":"Zcaron","":"zdot","":"Zdot","":"imped","":"thorn","":"THORN","":"napos","":"alpha","":"Alpha","":"beta","":"Beta","":"gamma","":"Gamma","":"delta","":"Delta","":"epsi","":"epsiv","":"Epsilon","":"gammad","":"Gammad","":"zeta","":"Zeta","":"eta","":"Eta","":"theta","":"thetav","":"Theta","":"iota","":"Iota","":"kappa","":"kappav","":"Kappa","":"lambda","":"Lambda","":"mu","":"micro","":"Mu","":"nu","":"Nu","":"xi","":"Xi","":"omicron","":"Omicron","":"pi","":"piv","":"Pi","":"rho","":"rhov","":"Rho","":"sigma","":"Sigma","":"sigmaf","":"tau","":"Tau","":"upsi","":"Upsilon","":"Upsi","":"phi","":"phiv","":"Phi","":"chi","":"Chi","":"psi","":"Psi","":"omega","":"ohm","":"acy","":"Acy","":"bcy","":"Bcy","":"vcy","":"Vcy","":"gcy","":"Gcy","":"gjcy","":"GJcy","":"dcy","":"Dcy","":"djcy","":"DJcy","":"iecy","":"IEcy","":"iocy","":"IOcy","":"jukcy","":"Jukcy","":"zhcy","":"ZHcy","":"zcy","":"Zcy","":"dscy","":"DScy","":"icy","":"Icy","":"iukcy","":"Iukcy","":"yicy","":"YIcy","":"jcy","":"Jcy","":"jsercy","":"Jsercy","":"kcy","":"Kcy","":"kjcy","":"KJcy","":"lcy","":"Lcy","":"ljcy","":"LJcy","":"mcy","":"Mcy","":"ncy","":"Ncy","":"njcy","":"NJcy","":"ocy","":"Ocy","":"pcy","":"Pcy","":"rcy","":"Rcy","":"scy","":"Scy","":"tcy","":"Tcy","":"tshcy","":"TSHcy","":"ucy","":"Ucy","":"ubrcy","":"Ubrcy","":"fcy","":"Fcy","":"khcy","":"KHcy","":"tscy","":"TScy","":"chcy","":"CHcy","":"dzcy","":"DZcy","":"shcy","":"SHcy","":"shchcy","":"SHCHcy","":"hardcy","":"HARDcy","":"ycy","":"Ycy","":"softcy","":"SOFTcy","":"ecy","":"Ecy","":"yucy","":"YUcy","":"yacy","":"YAcy","":"aleph","":"beth","":"gimel","":"daleth"},h=/["&'<>`]/g,o={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},c=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,D=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,v=/&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)([=a-zA-Z0-9])?/g,y={aacute:"",Aacute:"",abreve:"",Abreve:"",ac:"",acd:"",acE:"",acirc:"",Acirc:"",acute:"",acy:"",Acy:"",aelig:"",AElig:"",af:"",afr:"",Afr:"",agrave:"",Agrave:"",alefsym:"",aleph:"",alpha:"",Alpha:"",amacr:"",Amacr:"",amalg:"",amp:"&",AMP:"&",and:"",And:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",aogon:"",Aogon:"",aopf:"",Aopf:"",ap:"",apacir:"",ape:"",apE:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",aring:"",Aring:"",ascr:"",Ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",atilde:"",Atilde:"",auml:"",Auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",bcy:"",Bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",beta:"",Beta:"",beth:"",between:"",bfr:"",Bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bnot:"",bNot:"",bopf:"",Bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxhD:"",boxHd:"",boxHD:"",boxhu:"",boxhU:"",boxHu:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpe:"",bumpE:"",bumpeq:"",Bumpeq:"",cacute:"",Cacute:"",cap:"",Cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",ccaron:"",Ccaron:"",ccedil:"",Ccedil:"",ccirc:"",Ccirc:"",Cconint:"",ccups:"",ccupssm:"",cdot:"",Cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",chcy:"",CHcy:"",check:"",checkmark:"",chi:"",Chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cire:"",cirE:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",colone:"",Colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",cscr:"",Cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cup:"",Cup:"",cupbrcap:"",cupcap:"",CupCap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",dArr:"",Darr:"",dash:"",dashv:"",Dashv:"",dbkarow:"",dblac:"",dcaron:"",Dcaron:"",dcy:"",Dcy:"",dd:"",DD:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",delta:"",Delta:"",demptyv:"",dfisht:"",dfr:"",Dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",djcy:"",DJcy:"",dlcorn:"",dlcrop:"",dollar:"$",dopf:"",Dopf:"",dot:"",Dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",downarrow:"",Downarrow:"",DownArrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",dscr:"",Dscr:"",dscy:"",DScy:"",dsol:"",dstrok:"",Dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",dzcy:"",DZcy:"",dzigrarr:"",eacute:"",Eacute:"",easter:"",ecaron:"",Ecaron:"",ecir:"",ecirc:"",Ecirc:"",ecolon:"",ecy:"",Ecy:"",eDDot:"",edot:"",eDot:"",Edot:"",ee:"",efDot:"",efr:"",Efr:"",eg:"",egrave:"",Egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",emacr:"",Emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",eng:"",ENG:"",ensp:"",eogon:"",Eogon:"",eopf:"",Eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",epsilon:"",Epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",esim:"",Esim:"",eta:"",Eta:"",eth:"",ETH:"",euml:"",Euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",fcy:"",Fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",ffr:"",Ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",fopf:"",Fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",gamma:"",Gamma:"",gammad:"",Gammad:"",gap:"",gbreve:"",Gbreve:"",Gcedil:"",gcirc:"",Gcirc:"",gcy:"",Gcy:"",gdot:"",Gdot:"",ge:"",gE:"",gel:"",gEl:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",gfr:"",Gfr:"",gg:"",Gg:"",ggg:"",gimel:"",gjcy:"",GJcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",gopf:"",Gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",gscr:"",Gscr:"",gsim:"",gsime:"",gsiml:"",gt:">",Gt:"",GT:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",hardcy:"",HARDcy:"",harr:"",hArr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",hcirc:"",Hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",hstrok:"",Hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",iacute:"",Iacute:"",ic:"",icirc:"",Icirc:"",icy:"",Icy:"",Idot:"",iecy:"",IEcy:"",iexcl:"",iff:"",ifr:"",Ifr:"",igrave:"",Igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",ijlig:"",IJlig:"",Im:"",imacr:"",Imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",int:"",Int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",iocy:"",IOcy:"",iogon:"",Iogon:"",iopf:"",Iopf:"",iota:"",Iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",itilde:"",Itilde:"",iukcy:"",Iukcy:"",iuml:"",Iuml:"",jcirc:"",Jcirc:"",jcy:"",Jcy:"",jfr:"",Jfr:"",jmath:"",jopf:"",Jopf:"",jscr:"",Jscr:"",jsercy:"",Jsercy:"",jukcy:"",Jukcy:"",kappa:"",Kappa:"",kappav:"",kcedil:"",Kcedil:"",kcy:"",Kcy:"",kfr:"",Kfr:"",kgreen:"",khcy:"",KHcy:"",kjcy:"",KJcy:"",kopf:"",Kopf:"",kscr:"",Kscr:"",lAarr:"",lacute:"",Lacute:"",laemptyv:"",lagran:"",lambda:"",Lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larr:"",lArr:"",Larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",latail:"",lAtail:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",lcaron:"",Lcaron:"",lcedil:"",Lcedil:"",lceil:"",lcub:"{",lcy:"",Lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",leftarrow:"",Leftarrow:"",LeftArrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",Leftrightarrow:"",LeftRightArrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",leg:"",lEg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",lfr:"",Lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",ljcy:"",LJcy:"",ll:"",Ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",lmidot:"",Lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",Longleftarrow:"",LongLeftArrow:"",longleftrightarrow:"",Longleftrightarrow:"",LongLeftRightArrow:"",longmapsto:"",longrightarrow:"",Longrightarrow:"",LongRightArrow:"",looparrowleft:"",looparrowright:"",lopar:"",lopf:"",Lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",lstrok:"",Lstrok:"",lt:"<",Lt:"",LT:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",map:"",Map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",mcy:"",Mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",mfr:"",Mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",mopf:"",Mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",mu:"",Mu:"",multimap:"",mumap:"",nabla:"",nacute:"",Nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",ncaron:"",Ncaron:"",ncedil:"",Ncedil:"",ncong:"",ncongdot:"",ncup:"",ncy:"",Ncy:"",ndash:"",ne:"",nearhk:"",nearr:"",neArr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",nfr:"",Nfr:"",nge:"",ngE:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",ngt:"",nGt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",njcy:"",NJcy:"",nlarr:"",nlArr:"",nldr:"",nle:"",nlE:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nlt:"",nLt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",not:"",Not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrarr:"",nrArr:"",nrarrc:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",nscr:"",Nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsube:"",nsubE:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupe:"",nsupE:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",ntilde:"",Ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",nu:"",Nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",oacute:"",Oacute:"",oast:"",ocir:"",ocirc:"",Ocirc:"",ocy:"",Ocy:"",odash:"",odblac:"",Odblac:"",odiv:"",odot:"",odsold:"",oelig:"",OElig:"",ofcir:"",ofr:"",Ofr:"",ogon:"",ograve:"",Ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",omacr:"",Omacr:"",omega:"",Omega:"",omicron:"",Omicron:"",omid:"",ominus:"",oopf:"",Oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",or:"",Or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",oscr:"",Oscr:"",oslash:"",Oslash:"",osol:"",otilde:"",Otilde:"",otimes:"",Otimes:"",otimesas:"",ouml:"",Ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",pcy:"",Pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",pfr:"",Pfr:"",phi:"",Phi:"",phiv:"",phmmat:"",phone:"",pi:"",Pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",pr:"",Pr:"",prap:"",prcue:"",pre:"",prE:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",pscr:"",Pscr:"",psi:"",Psi:"",puncsp:"",qfr:"",Qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",qscr:"",Qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",racute:"",Racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarr:"",rArr:"",Rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",rarrtl:"",Rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",rcaron:"",Rcaron:"",rcedil:"",Rcedil:"",rceil:"",rcub:"}",rcy:"",Rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",rho:"",Rho:"",rhov:"",RightAngleBracket:"",rightarrow:"",Rightarrow:"",RightArrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",sacute:"",Sacute:"",sbquo:"",sc:"",Sc:"",scap:"",scaron:"",Scaron:"",sccue:"",sce:"",scE:"",scedil:"",Scedil:"",scirc:"",Scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",scy:"",Scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",sfr:"",Sfr:"",sfrown:"",sharp:"",shchcy:"",SHCHcy:"",shcy:"",SHcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",sigma:"",Sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",softcy:"",SOFTcy:"",sol:"/",solb:"",solbar:"",sopf:"",Sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",sscr:"",Sscr:"",ssetmn:"",ssmile:"",sstarf:"",star:"",Star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",sube:"",subE:"",subedot:"",submult:"",subne:"",subnE:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup:"",Sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supe:"",supE:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supne:"",supnE:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",tau:"",Tau:"",tbrk:"",tcaron:"",Tcaron:"",tcedil:"",Tcedil:"",tcy:"",Tcy:"",tdot:"",telrec:"",tfr:"",Tfr:"",there4:"",therefore:"",Therefore:"",theta:"",Theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",thorn:"",THORN:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",topf:"",Topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",tscr:"",Tscr:"",tscy:"",TScy:"",tshcy:"",TSHcy:"",tstrok:"",Tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",uacute:"",Uacute:"",uarr:"",uArr:"",Uarr:"",Uarrocir:"",ubrcy:"",Ubrcy:"",ubreve:"",Ubreve:"",ucirc:"",Ucirc:"",ucy:"",Ucy:"",udarr:"",udblac:"",Udblac:"",udhar:"",ufisht:"",ufr:"",Ufr:"",ugrave:"",Ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",umacr:"",Umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",uogon:"",Uogon:"",uopf:"",Uopf:"",uparrow:"",Uparrow:"",UpArrow:"",UpArrowBar:"",UpArrowDownArrow:"",updownarrow:"",Updownarrow:"",UpDownArrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",upsilon:"",Upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",uring:"",Uring:"",urtri:"",uscr:"",Uscr:"",utdot:"",utilde:"",Utilde:"",utri:"",utrif:"",uuarr:"",uuml:"",Uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",vcy:"",Vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",vee:"",Vee:"",veebar:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",vfr:"",Vfr:"",vltri:"",vnsub:"",vnsup:"",vopf:"",Vopf:"",vprop:"",vrtri:"",vscr:"",Vscr:"",vsubne:"",vsubnE:"",vsupne:"",vsupnE:"",Vvdash:"",vzigzag:"",wcirc:"",Wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",wfr:"",Wfr:"",wopf:"",Wopf:"",wp:"",wr:"",wreath:"",wscr:"",Wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",xfr:"",Xfr:"",xharr:"",xhArr:"",xi:"",Xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",xopf:"",Xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",xscr:"",Xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",yacute:"",Yacute:"",yacy:"",YAcy:"",ycirc:"",Ycirc:"",ycy:"",Ycy:"",yen:"",yfr:"",Yfr:"",yicy:"",YIcy:"",yopf:"",Yopf:"",yscr:"",Yscr:"",yucy:"",YUcy:"",yuml:"",Yuml:"",zacute:"",Zacute:"",zcaron:"",Zcaron:"",zcy:"",Zcy:"",zdot:"",Zdot:"",zeetrf:"",ZeroWidthSpace:"",zeta:"",Zeta:"",zfr:"",Zfr:"",zhcy:"",ZHcy:"",zigrarr:"",zopf:"",Zopf:"",zscr:"",Zscr:"",zwj:"",zwnj:""},q={aacute:"",Aacute:"",acirc:"",Acirc:"",acute:"",aelig:"",AElig:"",agrave:"",Agrave:"",amp:"&",AMP:"&",aring:"",Aring:"",atilde:"",Atilde:"",auml:"",Auml:"",brvbar:"",ccedil:"",Ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",eacute:"",Eacute:"",ecirc:"",Ecirc:"",egrave:"",Egrave:"",eth:"",ETH:"",euml:"",Euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",iacute:"",Iacute:"",icirc:"",Icirc:"",iexcl:"",igrave:"",Igrave:"",iquest:"",iuml:"",Iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",ntilde:"",Ntilde:"",oacute:"",Oacute:"",ocirc:"",Ocirc:"",ograve:"",Ograve:"",ordf:"",ordm:"",oslash:"",Oslash:"",otilde:"",Otilde:"",ouml:"",Ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",thorn:"",THORN:"",times:"",uacute:"",Uacute:"",ucirc:"",Ucirc:"",ugrave:"",Ugrave:"",uml:"",uuml:"",Uuml:"",yacute:"",Yacute:"",yen:"",yuml:""},A={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},w=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],E=String.fromCharCode,x={}.hasOwnProperty,k=function(r,e){return x.call(r,e)},C=function(r,e){for(var a=-1,u=r.length;++a<u;)if(r[a]==e)return!0;return!1},B=function(r){throw Error("Parse error: "+r)},L=(e.options={isAttributeValue:!(n.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1}),strict:!1},{version:"1.1.0",encode:n,decode:e,escape:function(r){return r.replace(h,function(r){return o[r]})},unescape:e});if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return L});else if(a&&!a.nodeType)if(u)u.exports=L;else for(var F in L)k(L,F)&&(a[F]=L[F]);else r.he=L}(this);
!function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);this.CodeMirror=e()}}(function(){"use strict";function p(e,t){if(!(this instanceof p))return new p(e,t);this.options=t=t?S(t):{},S(Di,t,!1),Y(t);var r,i,n,o,l,a,s=t.value,c=("string"==typeof s&&(s=new M(s,t.mode,null,t.lineSeparator)),this.doc=s,new p.inputStyles[t.inputStyle](this)),e=this.display=new N(e,s,c),u=(z(e.wrapper.CodeMirror=this),W(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),t.autofocus&&!fi&&e.input.focus(),Q(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new In,keySeq:null,specialChars:null},this);G&&K<11&&setTimeout(function(){u.display.input.reset(!0)},20),n=(i=this).display,$(n.scroller,"mousedown",B(i,Kt)),$(n.scroller,"dblclick",G&&K<11?B(i,function(e){var t;j(i,e)||(!(t=Gt(i,e))||Ut(i,e)||jt(i.display,e)||(X(e),e=i.findWordAt(t),Ge(i.doc,e.anchor,e.head)))}):function(e){j(i,e)||X(e)}),vi||$(n.scroller,"contextmenu",function(e){or(i,e)}),l={end:0},$(n.scroller,"touchstart",function(e){var t;!function(e){if(1==e.touches.length)return(e=e.touches[0]).radiusX<=1&&e.radiusY<=1}(e)&&(clearTimeout(o),t=+new Date,n.activeTouch={start:t,moved:!1,prev:t-l.end<=300?l:null},1==e.touches.length&&(n.activeTouch.left=e.touches[0].pageX,n.activeTouch.top=e.touches[0].pageY))}),$(n.scroller,"touchmove",function(){n.activeTouch&&(n.activeTouch.moved=!0)}),$(n.scroller,"touchend",function(e){var t,r=n.activeTouch;r&&!jt(n,e)&&null!=r.left&&!r.moved&&new Date-r.start<300&&(t=i.coordsChar(n.activeTouch,"page"),r=!r.prev||h(r,r.prev)?new P(t,t):!r.prev.prev||h(r,r.prev.prev)?i.findWordAt(t):new P(q(t.line,0),E(i.doc,q(t.line+1,0))),i.setSelection(r.anchor,r.head),i.focus(),X(e)),d()}),$(n.scroller,"touchcancel",d),$(n.scroller,"scroll",function(){n.scroller.clientHeight&&(Xt(i,n.scroller.scrollTop),$t(i,n.scroller.scrollLeft,!0),A(i,"scroll",i))}),$(n.scroller,"mousewheel",function(e){Yt(i,e)}),$(n.scroller,"DOMMouseScroll",function(e){Yt(i,e)}),$(n.wrapper,"scroll",function(){n.wrapper.scrollTop=n.wrapper.scrollLeft=0}),n.dragFunctions={enter:function(e){j(i,e)||oo(e)},over:function(e){var t,r,n;j(i,e)||((r=Gt(t=i,r=e))&&(n=document.createDocumentFragment(),et(t,r,n),t.display.dragCursor||(t.display.dragCursor=T("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),v(t.display.dragCursor,n)),oo(e))},start:function(e){var t,r;t=i,e=e,G&&(!t.state.draggingText||+new Date-Ai<100)?oo(e):j(t,e)||jt(t.display,e)||(e.dataTransfer.setData("Text",t.getSelection()),!e.dataTransfer.setDragImage||ci)||((r=T("img",null,null,"position: fixed; left: 0; top: 0;")).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",m&&(r.width=r.height=1,t.display.wrapper.appendChild(r),r._top=r.offsetTop),e.dataTransfer.setDragImage(r,0,0),m&&r.parentNode.removeChild(r))},drop:B(i,qt),leave:function(){_t(i)}},c=n.input.getField(),$(c,"keyup",function(e){tr.call(i,e)}),$(c,"keydown",B(i,er)),$(c,"keypress",B(i,rr)),$(c,"focus",jn(nr,i)),$(c,"blur",jn(ir,i)),To||($(window,"resize",function(){null==r&&(r=setTimeout(function(){r=null,$n(Rt)},100))}),$(window,"blur",function(){$n(ir)}),To=!0);function d(){n.activeTouch&&(o=setTimeout(function(){n.activeTouch=null},1e3),(l=n.activeTouch).end=+new Date)}function h(e,t){var r;return null==t.left||400<(r=t.left-e.left)*r+(r=t.top-e.top)*r}for(a in Wt(this),this.curOp.forceUpdate=!0,pn(this,s),t.autofocus&&!fi||u.hasFocus()?setTimeout(jn(nr,this),20):ir(this),Hi)Hi.hasOwnProperty(a)&&Hi[a](this,t[a],Pi);re(this),t.finishInit&&t.finishInit(this);for(var f=0;f<Bi.length;++f)Bi[f](this);zt(this),V&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(e.lineDiv).textRendering&&(e.lineDiv.style.textRendering="auto")}function N(e,t,r){var n=this;this.input=r,n.scrollbarFiller=T("div",null,"CodeMirror-scrollbar-filler"),n.scrollbarFiller.setAttribute("cm-not-content","true"),n.gutterFiller=T("div",null,"CodeMirror-gutter-filler"),n.gutterFiller.setAttribute("cm-not-content","true"),n.lineDiv=T("div",null,"CodeMirror-code"),n.selectionDiv=T("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=T("div",null,"CodeMirror-cursors"),n.measure=T("div",null,"CodeMirror-measure"),n.lineMeasure=T("div",null,"CodeMirror-measure"),n.lineSpace=T("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=T("div",[T("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=T("div",[n.mover],"CodeMirror-sizer"),n.sizerWidth=null,n.heightForcer=T("div",null,null,"position: absolute; height: "+so+"px; width: 1px;"),n.gutters=T("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=T("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=T("div",[n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),G&&K<8&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),V||li&&fi||(n.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(n.wrapper):e(n.wrapper)),n.viewFrom=n.viewTo=t.first,n.reportedViewFrom=n.reportedViewTo=t.first,n.view=[],n.renderedView=null,n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.nativeBarWidth=n.barHeight=n.barWidth=0,n.scrollbarsClipped=!1,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.alignWidgets=!1,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null,n.activeTouch=null,r.init(n)}function i(e){e.doc.mode=p.getMode(e.options,e.doc.modeOption),o(e)}function o(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,rt(e,100),e.state.modeGen++,e.curOp&&y(e)}function O(n){var i=Nt(n.display),o=n.options.lineWrapping,l=o&&Math.max(5,n.display.scroller.clientWidth/Ot(n.display)-3);return function(e){if(qr(n.doc,e))return 0;var t=0;if(e.widgets)for(var r=0;r<e.widgets.length;r++)e.widgets[r].height&&(t+=e.widgets[r].height);return o?t+(Math.ceil(e.text.length/l)||1)*i:t+i}}function l(e){var t=e.doc,r=O(e);t.iter(function(e){var t=r(e);t!=e.height&&vn(e,t)})}function W(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),bt(e)}function a(e){z(e),y(e),setTimeout(function(){te(e)},20)}function z(e){var t=e.display.gutters,r=e.options.gutters;Un(t);for(var n=0;n<r.length;++n){var i=r[n],o=t.appendChild(T("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&((e.display.lineGutter=o).style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none",s(e)}function s(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function D(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=Rr(n);){n=(i=t.find(0,!0)).from.line;r+=i.from.ch-i.to.ch}for(n=e;t=jr(n);)var i=t.find(0,!0),r=(r-=n.text.length-i.from.ch)+((n=i.to.line).text.length-i.to.ch);return r}function H(e){var r=e.display,e=e.doc;r.maxLine=R(e,e.first),r.maxLineLength=D(r.maxLine),r.maxLineChanged=!0,e.iter(function(e){var t=D(e);t>r.maxLineLength&&(r.maxLineLength=t,r.maxLine=e)})}function Y(e){var t=k(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):-1<t&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function Z(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+lt(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+st(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}function c(e,t,r){this.cm=r;var n=this.vert=T("div",[T("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=T("div",[T("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(n),e(i),$(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),$(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedOverlay=!1,G&&K<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function u(){}function Q(r){r.display.scrollbars&&(r.display.scrollbars.clear(),r.display.scrollbars.addClass&&Lo(r.display.wrapper,r.display.scrollbars.addClass)),r.display.scrollbars=new p.scrollbarModel[r.options.scrollbarStyle](function(e){r.display.wrapper.insertBefore(e,r.display.scrollbarFiller),$(e,"mousedown",function(){r.state.focused&&setTimeout(function(){r.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,t){("horizontal"==t?$t:Xt)(r,e)},r),r.display.scrollbars.addClass&&Mo(r.display.wrapper,r.display.scrollbars.addClass)}function J(e,t){t=t||Z(e);var r=e.display.barWidth,n=e.display.barHeight;d(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&ue(e),d(e,Z(e)),r=e.display.barWidth,n=e.display.barHeight}function d(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}function ee(e,t,r){var n,i=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop,i=Math.floor(i-ot(e)),o=r&&null!=r.bottom?r.bottom:i+e.wrapper.clientHeight,i=yn(t,i),o=yn(t,o);return r&&r.ensure&&(n=r.ensure.from.line,r=r.ensure.to.line,n<i?o=yn(t,bn(R(t,i=n))+e.wrapper.clientHeight):Math.min(r,t.lastLine())>=o&&(i=yn(t,bn(R(t,r))-e.wrapper.clientHeight),o=r)),{from:i,to:Math.max(o,i+1)}}function te(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=ie(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",l=0;l<r.length;l++)if(!r[l].hidden){e.options.fixedGutter&&r[l].gutter&&(r[l].gutter.style.left=o);var a=r[l].alignable;if(a)for(var s=0;s<a.length;s++)a[s].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function re(e){var t,r,n,i;if(e.options.lineNumbers)return t=e.doc,t=ne(e.options,t.first+t.size-1),r=e.display,t.length!=r.lineNumChars?(n=(i=r.measure.appendChild(T("div",[T("div",t)],"CodeMirror-linenumber CodeMirror-gutter-elt"))).firstChild.offsetWidth,i=i.offsetWidth-n,r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(n,r.lineGutter.offsetWidth-i)+1,r.lineNumWidth=r.lineNumInnerWidth+i,r.lineNumChars=r.lineNumInnerWidth?t.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",s(e),1):void 0}function ne(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ie(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function oe(e,t,r){var n=e.display;this.viewport=t,this.visible=ee(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=ct(e),this.force=r,this.dims=he(e),this.events=[]}function le(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)It(e);else if(!(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==Bt(e))){re(e)&&(It(e),t.dims=he(e));var i=n.first+n.size,o=Math.max(t.visible.from-e.options.viewportMargin,n.first),l=Math.min(i,t.visible.to+e.options.viewportMargin),n=(r.viewFrom<o&&o-r.viewFrom<20&&(o=Math.max(n.first,r.viewFrom)),r.viewTo>l&&r.viewTo-l<20&&(l=Math.min(i,r.viewTo)),bi&&(o=Vr(e.doc,o),l=Ur(e.doc,l)),o!=r.viewFrom||l!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth),i=(i=o,o=l,0==(d=(l=e).display).view.length||i>=d.viewTo||o<=d.viewFrom?(d.view=Ht(l,i,o),d.viewFrom=i):(d.viewFrom>i?d.view=Ht(l,i,d.viewFrom).concat(d.view):d.viewFrom<i&&(d.view=d.view.slice(Et(l,i))),d.viewFrom=i,d.viewTo<o?d.view=d.view.concat(Ht(l,d.viewTo,o)):d.viewTo>o&&(d.view=d.view.slice(0,Et(l,o)))),d.viewTo=o,r.viewOffset=bn(R(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px",Bt(e));if(n||0!=i||t.force||r.renderedView!=r.view||!(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)){var l=qn(),a=(4<i&&(r.lineDiv.style.display="none"),e),s=r.updateLineNumbers,c=t.dims;function u(e){var t=e.nextSibling;return V&&U&&a.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),t}for(var d=a.display,h=a.options.lineNumbers,f=d.lineDiv,p=f.firstChild,g=d.view,m=d.viewFrom,v=0;v<g.length;v++){var y=g[v];if(!y.hidden)if(y.node&&y.node.parentNode==f){for(;p!=y.node;)p=u(p);var b=h&&null!=s&&s<=m&&y.lineNumber;y.changes&&(-1<k(y.changes,"gutter")&&(b=!1),fe(a,y,m,c)),b&&(Un(y.lineNumber),y.lineNumber.appendChild(document.createTextNode(ne(a.options,m)))),p=y.node.nextSibling}else{b=function(e,t,r,n){var i=ge(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),me(t),ve(e,t,r,n),ye(e,t,n),t.node}(a,y,m,c);f.insertBefore(b,p)}m+=y.size}for(;p;)p=u(p);return 4<i&&(r.lineDiv.style.display=""),r.renderedView=r.view,l&&qn()!=l&&l.offsetHeight&&l.focus(),Un(r.cursorDiv),Un(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,n&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,rt(e,400)),!(r.updateLineNumbers=null)}}return!1}function ae(e,t){for(var r=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=ct(e)||(r&&null!=r.top&&(r={top:Math.min(e.doc.height+lt(e.display)-ut(e),r.top)}),t.visible=ee(e.display,e.doc,r),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&le(e,t);n=!1){ue(e);var i=Z(e);Qe(e),ce(e,i),J(e,i)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function se(e,t){var r,t=new oe(e,t);le(e,t)&&(ue(e),ae(e,t),r=Z(e),Qe(e),ce(e,r),J(e,r),t.finish())}function ce(e,t){e.display.sizer.style.minHeight=t.docHeight+"px";var r=t.docHeight+e.display.barHeight;e.display.heightForcer.style.top=r+"px",e.display.gutters.style.height=Math.max(r+st(e),t.clientHeight)+"px"}function ue(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i=t.view[n];if(!i.hidden){G&&K<8?(o=(l=i.node.offsetTop+i.node.offsetHeight)-r,r=l):o=(l=i.node.getBoundingClientRect()).bottom-l.top;var o,l,a=i.line.height-o;if(o<2&&(o=Nt(t)),(.001<a||a<-.001)&&(vn(i.line,o),de(i.line),i.rest))for(var s=0;s<i.rest.length;s++)de(i.rest[s])}}}function de(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.offsetHeight}function he(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,l=0;o;o=o.nextSibling,++l)r[e.options.gutters[l]]=o.offsetLeft+o.clientLeft+i,n[e.options.gutters[l]]=o.clientWidth;return{fixedPos:ie(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function fe(e,t,r,n){for(var i,o=0;o<t.changes.length;o++){var l=t.changes[o];if("text"==l)a=e,i=void 0,i=(c=t).text.className,a=ge(a,c),c.text==c.node&&(c.node=a.pre),c.text.parentNode.replaceChild(a.pre,c.text),c.text=a.pre,a.bgClass!=c.bgClass||a.textClass!=c.textClass?(c.bgClass=a.bgClass,c.textClass=a.textClass,me(c)):i&&(c.text.className=i);else if("gutter"==l)ve(e,t,r,n);else if("class"==l)me(t);else if("widget"==l){a=void 0;s=void 0;c=void 0;d=void 0;u=void 0;var a=e;var s=t;var c=n;s.alignable&&(s.alignable=null);for(var u=s.node.firstChild;u;u=d){var d=u.nextSibling;"CodeMirror-linewidget"==u.className&&s.node.removeChild(u)}ye(a,s,c)}}t.changes=null}function pe(e){return e.node==e.text&&(e.node=T("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),G&&K<8&&(e.node.style.zIndex=2)),e.node}function ge(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):on(e,t)}function me(e){(r=(n=e).bgClass?n.bgClass+" "+(n.line.bgClass||""):n.line.bgClass)&&(r+=" CodeMirror-linebackground"),n.background?r?n.background.className=r:(n.background.parentNode.removeChild(n.background),n.background=null):r&&(t=pe(n),n.background=t.insertBefore(T("div",null,r),t.firstChild)),e.line.wrapClass?pe(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t,r,n=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=n||""}function ve(e,t,r,n){t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass&&(o=pe(t),t.gutterBackground=T("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),o.insertBefore(t.gutterBackground,t.text));var i=t.line.gutterMarkers;if(e.options.lineNumbers||i){var o=pe(t),l=t.gutter=T("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(l),o.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=" "+t.line.gutterClass),!e.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(t.lineNumber=l.appendChild(T("div",ne(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),i)for(var a=0;a<e.options.gutters.length;++a){var s=e.options.gutters[a],c=i.hasOwnProperty(s)&&i[s];c&&l.appendChild(T("div",[c],"CodeMirror-gutter-elt","left: "+n.gutterLeft[s]+"px; width: "+n.gutterWidth[s]+"px"))}}}function ye(e,t,r){if(be(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)be(e,t.rest[n],t,r,!1)}function be(e,t,r,n,i){if(t.widgets)for(var o=pe(r),l=0,a=t.widgets;l<a.length;++l){var s=a[l],c=T("div",[s.node],"CodeMirror-linewidget"),u=(s.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),h=f=h=d=u=void 0,s),d=c,h=r,f=n;u.noHScroll&&((h.alignable||(h.alignable=[])).push(d),h=f.wrapperWidth,d.style.left=f.fixedPos+"px",u.coverGutter||(h-=f.gutterTotalWidth,d.style.paddingLeft=f.gutterTotalWidth+"px"),d.style.width=h+"px"),u.coverGutter&&(d.style.zIndex=5,d.style.position="relative",u.noHScroll||(d.style.marginLeft=-f.gutterTotalWidth+"px")),e.display.input.setUneditable(c),i&&s.above?o.insertBefore(c,r.gutter||r.text):o.appendChild(c),w(s,"redraw")}}function we(e){return q(e.line,e.ch)}function xe(e,t){return _(e,t)<0?t:e}function ke(e,t){return _(e,t)<0?e:t}function Ce(e){e.state.focused||(e.display.input.focus(),nr(e))}function Se(e){return e.options.readOnly||e.doc.cantEdit}function Le(e,t,r,n,i){var o=e.doc,l=(e.display.shift=!1,n=n||o.sel,e.state.pasteIncoming||"paste"==i),a=o.splitLines(t),s=null;if(l&&1<n.ranges.length)if(L&&L.join("\n")==t){if(n.ranges.length%L.length==0)for(var s=[],c=0;c<L.length;c++)s.push(o.splitLines(L[c]))}else a.length==n.ranges.length&&(s=Fn(a,function(e){return[e]}));for(c=n.ranges.length-1;0<=c;c--){var u=n.ranges[c],d=u.from(),h=u.to(),f=(u.empty()&&(r&&0<r?d=q(d.line,d.ch-r):e.state.overwrite&&!l&&(h=q(h.line,Math.min(R(o,h.line).text.length,h.ch+x(a).length)))),e.curOp.updateInput),u={from:d,to:h,text:s?s[c%s.length]:a,origin:i||(l?"paste":e.state.cutIncoming?"cut":"+input")};ur(e.doc,u),w(e,"inputRead",e,u)}t&&!l&&Te(e,t),yr(e),e.curOp.updateInput=f,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Me(e,t){var r=e.clipboardData&&e.clipboardData.getData("text/plain");return r&&(e.preventDefault(),Se(t)||t.options.disableInput||h(t,function(){Le(t,r,0,null,"paste")}),1)}function Te(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;0<=n;n--){var i=r.ranges[n];if(!(100<i.head.ch||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),l=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(-1<t.indexOf(o.electricChars.charAt(a))){l=wr(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(R(e.doc,i.head.line).text.slice(0,i.head.ch))&&(l=wr(e,i.head.line,"smart"));l&&w(e,"electricInput",e,i.head.line)}}}function Ae(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,i={anchor:q(i,0),head:q(i+1,0)};r.push(i),t.push(e.getRange(i.anchor,i.head))}return{text:t,ranges:r}}function Ne(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function Oe(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new In,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function We(){var e=T("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=T("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return V?e.style.width="1000px":e.setAttribute("wrap","off"),hi&&(e.style.border="1px solid black"),Ne(e),t}function ze(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new In,this.gracePeriod=!1}function De(e,t){var r,n=ft(e,t.line);return!n||n.hidden?null:(e=dt(n,n=R(e.doc,t.line),t.line),r="left",(n=C(n))&&(r=ri(n,t.ch)%2?"right":"left"),(n=mt(e.map,t.ch,r)).offset="right"==n.collapse?n.end:n.start,n)}function He(e,t){return t&&(e.bad=!0),e}function Pe(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return He(e.clipPos(q(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n){var c=o;o=t;var l=r;function a(e,t,r){for(var n=-1;n<(p?p.length:0);n++)for(var i=n<0?f.map:p[n],o=0;o<i.length;o+=3){var l,a,s=i[o+2];if(s==e||s==t)return l=b(n<0?c.line:c.rest[n]),a=i[o]+r,(r<0||s!=e)&&(a=i[o+(r?1:0)]),q(l,a)}}var s=c.text.firstChild,u=!1;if(!o||!ko(s,o))return He(q(b(c.line),0),!0);if(o==s&&(u=!0,o=s.childNodes[l],l=0,!o))return d=c.rest?x(c.rest):c.line,He(q(b(d),d.text.length),u);var d=3==o.nodeType?o:null,h=o;for(d||1!=o.childNodes.length||3!=o.firstChild.nodeType||(d=o.firstChild,l=l&&d.nodeValue.length);h.parentNode!=s;)h=h.parentNode;var f=c.measure,p=f.maps,g=a(d,h,l);if(g)return He(g,u);for(var m=h.nextSibling,v=d?d.nodeValue.length-l:0;m;m=m.nextSibling){if(g=a(m,m.firstChild,0))return He(q(g.line,g.ch-v),u);v+=m.textContent.length}for(var y=h.previousSibling,v=l;y;y=y.previousSibling){if(g=a(y,y.firstChild,-1))return He(q(g.line,g.ch+v),u);v+=m.textContent.length}return}}}function Ie(o,e,t,l,a){for(var s="",c=!1,u=o.doc.lineSeparator();function e(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(null!=r)return""==r&&(r=t.textContent.replace(/\u200b/g,"")),s+=r;if(r=t.getAttribute("cm-marker"))return(r=o.findMarks(q(l,0),q(a+1,0),(i=+r,function(e){return e.id==i}))).length&&(r=r[0].find())&&(s+=gn(o.doc,r.from,r.to).join(u));if("false"!=t.getAttribute("contenteditable")){for(var n=0;n<t.childNodes.length;n++)e(t.childNodes[n]);/^(pre|div|p)$/i.test(t.nodeName)&&(c=!0)}}else 3==t.nodeType&&(r=t.nodeValue)&&(c&&(s+=u,c=!1),s+=r);var i}(e),e!=t;)e=e.nextSibling;return s}function Ee(e,t){this.ranges=e,this.primIndex=t}function P(e,t){this.anchor=e,this.head=t}function I(e,t){var r=e[t];e.sort(function(e,t){return _(e.from(),t.from())}),t=k(e,r);for(var n=1;n<e.length;n++){var i,o,l=e[n],a=e[n-1];0<=_(a.to(),l.from())&&(i=ke(a.from(),l.from()),o=xe(a.to(),l.to()),l=a.empty()?l.from()==l.head:a.from()==a.head,n<=t&&--t,e.splice(--n,2,new P(l?o:i,l?i:o)))}return new Ee(e,t)}function Fe(e,t){return new Ee([new P(e,t||e)],0)}function Be(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function E(e,t){var r;return t.line<e.first?q(e.first,0):(r=e.first+e.size-1,t.line>r?q(r,R(e,r).text.length):(e=R(e,(r=t).line).text.length,null==(t=r.ch)||e<t?q(r.line,e):t<0?q(r.line,0):r))}function Re(e,t){return t>=e.first&&t<e.first+e.size}function je(e,t,r,n){return e.cm&&e.cm.display.shift||e.extend?(e=t.anchor,n&&((t=_(r,e)<0)!=_(n,e)<0?(e=r,r=n):t!=_(r,n)<0&&(r=n)),new P(e,r)):new P(n||r,r)}function Ge(e,t,r,n){F(e,new Ee([je(e,e.sel.primary(),t,r)],0),n)}function Ke(e,t,r){for(var n=[],i=0;i<e.sel.ranges.length;i++)n[i]=je(e,e.sel.ranges[i],t[i],null);F(e,I(n,e.sel.primIndex),r)}function Ve(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,F(e,I(i,e.sel.primIndex),n)}function Ue(e,t,r,n){F(e,Fe(t,r),n)}function qe(e,t,r){var n=e.history.done,i=x(n);(i&&i.ranges?(n[n.length-1]=t,_e):F)(e,t,r)}function F(e,t,r){var n,i,o;_e(e,t,r),n=(t=e).sel,e=e.cm?e.cm.curOp.id:NaN,r=r,i=t.history,o=r&&r.origin,e==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(e,t,r,n){t=t.charAt(0);return"*"==t||"+"==t&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(t,o,x(i.done),n))?i.done[i.done.length-1]=n:Sn(n,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=e,r&&!1!==r.clearRedo&&kn(i.undone)}function _e(e,t,r){(g(e,"beforeSelectionChange")||e.cm&&g(e.cm,"beforeSelectionChange"))&&(n=e,o={ranges:(i=t).ranges,update:function(e){this.ranges=[];for(var t=0;t<e.length;t++)this.ranges[t]=new P(E(n,e[t].anchor),E(n,e[t].head))}},A(n,"beforeSelectionChange",n,o),n.cm&&A(n.cm,"beforeSelectionChange",n.cm,o),t=o.ranges!=i.ranges?I(o.ranges,o.ranges.length-1):i);var n,i,o=r&&r.bias||(_(t.primary().head,e.sel.primary().head)<0?-1:1);Xe(e,Ye(e,t,o,!0)),r&&!1===r.scroll||!e.cm||yr(e.cm)}function Xe(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Hn(e.cm)),w(e,"cursorActivity",e))}function $e(e){Xe(e,Ye(e,e.sel,null,!1))}function Ye(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var l=t.ranges[o],a=Ze(e,l.anchor,r,n),s=Ze(e,l.head,r,n);!i&&a==l.anchor&&s==l.head||((i=i||t.ranges.slice(0,o))[o]=new P(a,s))}return i?I(i,t.primIndex):t}function Ze(e,t,r,n){var i=!1,o=t,l=r||1;e.cantEdit=!1;e:for(;;){var a=R(e,o.line);if(a.markedSpans)for(var s=0;s<a.markedSpans.length;++s){var c=a.markedSpans[s],u=c.marker;if((null==c.from||(u.inclusiveLeft?c.from<=o.ch:c.from<o.ch))&&(null==c.to||(u.inclusiveRight?c.to>=o.ch:c.to>o.ch))){if(n&&(A(u,"beforeCursorEnter"),u.explicitlyCleared)){if(a.markedSpans){--s;continue}break}if(u.atomic){c=u.find(l<0?-1:1);if(0==_(c,o)&&(c.ch+=l,c.ch<0?c=c.line>e.first?E(e,q(c.line-1)):null:c.ch>a.text.length&&(c=c.line<e.first+e.size-1?q(c.line+1,0):null),!c)){if(i)return n?(e.cantEdit=!0,q(e.first,0)):Ze(e,t,r,!0);i=!0,c=t,l=-l}o=c;continue e}}}return o}}function Qe(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Je(e,t){for(var r,n,i=e.doc,o={},l=o.cursors=document.createDocumentFragment(),a=o.selection=document.createDocumentFragment(),s=0;s<i.sel.ranges.length;s++)!1===t&&s==i.sel.primIndex||(((n=(r=i.sel.ranges[s]).empty())||e.options.showCursorWhenSelecting)&&et(e,r.head,l),n||function(i,e,t){function f(e,t,r,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),l.appendChild(T("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==r?g-e:r)+"px; height: "+(n-t)+"px"))}function r(r,a,s){function c(e,t){return St(i,q(r,e),"div",n,t)}var u,d,n=R(o,r),h=n.text.length;return function(e,t,r,n){if(!e)return n(t,r,"ltr");for(var i=!1,o=0;o<e.length;++o){var l=e[o];(l.from<r&&l.to>t||t==r&&l.to==t)&&(n(Math.max(l.from,t),Math.min(l.to,r),1==l.level?"rtl":"ltr"),i=!0)}i||n(t,r,"ltr")}(C(n),a||0,null==s?h:s,function(e,t,r){var n,i,o,l=c(e,"left");e==t?n=i=(o=l).left:(o=c(t-1,"right"),"rtl"==r&&(r=l,l=o,o=r),n=l.left,i=o.right),null==a&&0==e&&(n=p),3<o.top-l.top&&(f(n,l.top,null,l.bottom),n=p,l.bottom<o.top&&f(n,l.bottom,null,o.top)),null==s&&t==h&&(i=g),(!u||l.top<u.top||l.top==u.top&&l.left<u.left)&&(u=l),(!d||o.bottom>d.bottom||o.bottom==d.bottom&&o.right>d.right)&&(d=o),f(n=n<p+1?p:n,o.top,i-n,o.bottom)}),{start:u,end:d}}var n=i.display,o=i.doc,l=document.createDocumentFragment(),a=at(i.display),p=a.left,g=Math.max(n.sizerWidth,ct(i)-n.sizer.offsetLeft)-a.right,n=e.from(),a=e.to();{var s;n.line==a.line?r(n.line,n.ch,a.ch):(e=R(o,n.line),s=R(o,a.line),s=Kr(e)==Kr(s),n=r(n.line,n.ch,s?e.text.length+1:null).end,e=r(a.line,s?0:null,a.ch).start,s&&(n.top<e.top-2?(f(n.right,n.top,null,n.bottom),f(p,e.top,e.left,e.bottom)):f(n.right,n.top,e.left-n.right,n.bottom)),n.bottom<e.top&&f(p,n.bottom,null,e.top))}t.appendChild(l)}(e,r,a));return o}function et(e,t,r){var t=Lt(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),n=r.appendChild(T("div","","CodeMirror-cursor"));n.style.left=t.left+"px",n.style.top=t.top+"px",n.style.height=Math.max(0,t.bottom-t.top)*e.options.cursorHeight+"px",t.other&&((n=r.appendChild(T("div","","CodeMirror-cursor CodeMirror-secondarycursor"))).style.display="",n.style.left=t.other.left+"px",n.style.top=t.other.top+"px",n.style.height=.85*(t.other.bottom-t.other.top)+"px")}function tt(e){var t,r;e.state.focused&&(t=e.display,clearInterval(t.blinker),r=!0,t.cursorDiv.style.visibility="",0<e.options.cursorBlinkRate?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden"))}function rt(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,jn(nt,e))}function nt(a){var s,c,u,d=a.doc;d.frontier<d.first&&(d.frontier=d.first),d.frontier>=a.display.viewTo||(s=+new Date+a.options.workTime,c=ji(d.mode,it(a,d.frontier)),u=[],d.iter(d.frontier,Math.min(d.first+d.size,a.display.viewTo+500),function(e){if(d.frontier>=a.display.viewFrom){var t=e.styles,r=e.text.length>a.options.maxHighlightLength,n=en(a,e,r?ji(d.mode,c):c,!0),i=(e.styles=n.styles,e.styleClasses),n=n.classes;n?e.styleClasses=n:i&&(e.styleClasses=null);for(var o=!t||t.length!=e.styles.length||i!=n&&(!i||!n||i.bgClass!=n.bgClass||i.textClass!=n.textClass),l=0;!o&&l<t.length;++l)o=t[l]!=e.styles[l];o&&u.push(d.frontier),e.stateAfter=r?c:ji(d.mode,c)}else e.text.length<=a.options.maxHighlightLength&&rn(a,e.text,c),e.stateAfter=d.frontier%5==0?ji(d.mode,c):null;return++d.frontier,+new Date>s?(rt(a,a.options.workDelay),!0):void 0}),u.length&&h(a,function(){for(var e=0;e<u.length;e++)Pt(a,u[e],"text")}))}function it(r,n,e){var i,o,l=r.doc,a=r.display;return!l.mode.startState||(i=function(e,t,r){for(var n,i,o=e.doc,l=r?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;l<a;--a){if(a<=o.first)return o.first;var s=R(o,a-1);if(s.stateAfter&&(!r||a<=o.frontier))return a;s=po(s.text,null,e.options.tabSize);(null==i||s<n)&&(i=a-1,n=s)}return i}(r,n,e),o=(o=i>l.first&&R(l,i-1).stateAfter)?ji(l.mode,o):Gi(l.mode),l.iter(i,n,function(e){rn(r,e.text,o);var t=i==n-1||i%5==0||i>=a.viewFrom&&i<a.viewTo;e.stateAfter=t?ji(l.mode,o):null,++i}),e&&(l.frontier=i),o)}function ot(e){return e.lineSpace.offsetTop}function lt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function at(e){var t;return e.cachedPaddingH||(t=v(e.measure,T("pre","x")),t=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,t={left:parseInt(t.paddingLeft),right:parseInt(t.paddingRight)},isNaN(t.left)||isNaN(t.right)||(e.cachedPaddingH=t),t)}function st(e){return so-e.display.nativeBarWidth}function ct(e){return e.display.scroller.clientWidth-st(e)-e.display.barWidth}function ut(e){return e.display.scroller.clientHeight-st(e)-e.display.barHeight}function dt(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(n=0;n<e.rest.length;n++)if(b(e.rest[n])>r)return{map:e.measure.maps[n],cache:e.measure.caches[n],before:!0}}function ht(e,t,r,n){return gt(e,pt(e,t),r,n)}function ft(e,t){return t>=e.display.viewFrom&&t<e.display.viewTo?e.display.view[Et(e,t)]:(e=e.display.externalMeasured)&&t>=e.lineN&&t<e.lineN+e.size?e:void 0}function pt(e,t){var r,n,i=b(t),o=ft(e,i),e=(o&&!o.text?o=null:o&&o.changes&&(fe(e,o,i,he(e)),e.curOp.forceUpdate=!0),o||(e=e,n=b(r=Kr(r=t)),(r=e.display.externalMeasured=new Dt(e.doc,r,n)).lineN=n,n=r.built=on(e,r),r.text=n.pre,v(e.display.lineMeasure,n.pre),o=r),dt(o,t,i));return{line:t,view:o,rect:null,map:e.map,cache:e.cache,before:e.before,hasHeights:!1}}function gt(e,t,r,n,i){var o,l=(r=t.before?-1:r)+(n||"");if(t.cache.hasOwnProperty(l))o=t.cache[l];else{if(t.rect||(t.rect=t.view.text.getBoundingClientRect()),!t.hasHeights){var a=e,s=t.view,c=t.rect,u=a.options.lineWrapping,a=u&&ct(a);if(!s.measure.heights||u&&s.measure.width!=a){var d=s.measure.heights=[];if(u){s.measure.width=a;for(var h=s.text.firstChild.getClientRects(),f=0;f<h.length-1;f++){var p=h[f],g=h[f+1];2<Math.abs(p.bottom-g.bottom)&&d.push((p.bottom+g.top)/2-c.top)}}d.push(c.bottom-c.top)}t.hasHeights=!0}(o=function(e,t,r,n){var i,o=mt(t.map,r,n),l=o.node,a=o.start,s=o.end,c=o.collapse;if(3==l.nodeType){for(var u,d=0;d<4;d++){for(;a&&Vn(t.line.text.charAt(o.coverStart+a));)--a;for(;o.coverStart+s<o.coverEnd&&Vn(t.line.text.charAt(o.coverStart+s));)++s;if((i=G&&K<9&&0==a&&s==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():G&&e.options.lineWrapping?(u=xo(l,a,s).getClientRects()).length?u["right"==n?u.length-1:0]:Li:xo(l,a,s).getBoundingClientRect()||Li).left||i.right||0==a)break;s=a,--a,c="right"}G&&K<11&&(i=function(e,t){var r;return window.screen&&null!=screen.logicalXDPI&&screen.logicalXDPI!=screen.deviceXDPI&&function(e){var t;return null!=zo?zo:(e=v(e,T("span","x")),t=e.getBoundingClientRect(),e=xo(e,0,1).getBoundingClientRect(),zo=1<Math.abs(t.left-e.left))}(e)?(e=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI,{left:t.left*e,right:t.right*e,top:t.top*r,bottom:t.bottom*r}):t}(e.display.measure,i))}else 0<a&&(c=n="right"),i=e.options.lineWrapping&&1<(u=l.getClientRects()).length?u["right"==n?u.length-1:0]:l.getBoundingClientRect();!(G&&K<9)||a||i&&(i.left||i.right)||(r=l.parentNode.getClientRects()[0],i=r?{left:r.left,right:r.left+Ot(e.display),top:r.top,bottom:r.bottom}:Li);for(var r=i.top-t.rect.top,h=i.bottom-t.rect.top,f=(r+h)/2,p=t.view.measure.heights,d=0;d<p.length-1&&!(f<p[d]);d++);var g=d?p[d-1]:0,m=p[d],g={left:("right"==c?i.right:i.left)-t.rect.left,right:("left"==c?i.left:i.right)-t.rect.left,top:g,bottom:m};return i.left||i.right||(g.bogus=!0),e.options.singleCursorHeightPerLine||(g.rtop=r,g.rbottom=h),g}(e,t,r,n)).bogus||(t.cache[l]=o)}return{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function mt(e,t,r){for(var n,i,o,l,a=0;a<e.length;a+=3){var s=e[a],c=e[a+1];if(t<s?(i=0,o=1,l="left"):t<c?o=(i=t-s)+1:(a==e.length-3||t==c&&e[a+3]>t)&&(i=(o=c-s)-1,c<=t&&(l="right")),null!=i){if(n=e[a+2],s==c&&r==(n.insertLeft?"left":"right")&&(l=r),"left"==r&&0==i)for(;a&&e[a-2]==e[a-3]&&e[a-1].insertLeft;)n=e[2+(a-=3)],l="left";if("right"==r&&i==c-s)for(;a<e.length-3&&e[a+3]==e[a+4]&&!e[a+5].insertLeft;)n=e[(a+=3)+2],l="right";break}}return{node:n,start:i,end:o,collapse:l,coverStart:s,coverEnd:c}}function vt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function yt(e){e.display.externalMeasure=null,Un(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)vt(e.display.view[t])}function bt(e){yt(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function wt(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function xt(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function kt(e,t,r,n){if(t.widgets)for(var i=0;i<t.widgets.length;++i){var o;t.widgets[i].above&&(o=Xr(t.widgets[i]),r.top+=o,r.bottom+=o)}var l;return"line"!=n&&(n=n||"local",l=bn(t),"local"==n?l+=ot(e.display):l-=e.display.viewOffset,"page"!=n&&"window"!=n||(l+=(e=e.display.lineSpace.getBoundingClientRect()).top+("window"==n?0:xt()),e=e.left+("window"==n?0:wt()),r.left+=e,r.right+=e),r.top+=l,r.bottom+=l),r}function Ct(e,t,r){var n;return"div"==r?t:(n=t.left,t=t.top,"page"==r?(n-=wt(),t-=xt()):"local"!=r&&r||(n+=(r=e.display.sizer.getBoundingClientRect()).left,t+=r.top),{left:n-(r=e.display.lineSpace.getBoundingClientRect()).left,top:t-r.top})}function St(e,t,r,n,i){return kt(e,n=n||R(e.doc,t.line),ht(e,n,t.ch,i),r)}function Lt(r,e,n,i,o,l){function a(e,t){e=gt(r,o,e,t?"right":"left",l);return t?e.left=e.right:e.right=e.left,kt(r,i,e,n)}function t(e,t){var r=c[t],n=r.level%2;return e==Yn(r)&&t&&r.level<c[t-1].level?(e=Zn(r=c[--t])-(r.level%2?0:1),n=!0):e==Zn(r)&&t<c.length-1&&r.level<c[t+1].level&&(e=Yn(r=c[++t])-r.level%2,n=!1),n&&e==r.to&&e>r.from?a(e-1):a(e,n)}i=i||R(r.doc,e.line),o=o||pt(r,i);var s,c=C(i),e=e.ch;return c?(s=t(e,ri(c,e)),null!=Ho&&(s.other=t(e,Ho)),s):a(e)}function Mt(e,t){var r=0,t=E(e.doc,t),t=(e.options.lineWrapping||(r=Ot(e.display)*t.ch),R(e.doc,t.line)),e=bn(t)+ot(e.display);return{left:r,right:r,top:e,bottom:e+t.height}}function Tt(e,t,r,n){e=q(e,t);return e.xRel=n,r&&(e.outside=!0),e}function At(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return Tt(n.first,0,!0,-1);var i=yn(n,r),o=n.first+n.size-1;if(o<i)return Tt(n.first+n.size-1,R(n,o).text.length,!0,1);t<0&&(t=0);for(var l=R(n,i);;){var a=function(t,r,n,e,i){function o(e){e=Lt(t,q(n,e),"line",r,c);return a=!0,l>e.bottom?e.left-s:l<e.top?e.left+s:(a=!1,e.left)}var l=i-bn(r),a=!1,s=2*t.display.wrapper.clientWidth,c=pt(t,r),u=C(r),d=r.text.length,h=Qn(r),f=Jn(r),p=o(h),g=a,m=o(f),v=a;if(m<e)return Tt(n,f,v,1);for(;;){if(u?f==h||f==ii(r,h,1):f-h<=1){for(var y=e<p||e-p<=m-e?h:f,b=e-(y==h?p:m);Vn(r.text.charAt(y));)++y;return Tt(n,y,y==h?g:v,b<-1?-1:1<b?1:0)}var w=Math.ceil(d/2),x=h+w;if(u){x=h;for(var k=0;k<w;++k)x=ii(r,x,1)}b=o(x);e<b?(f=x,m=b,(v=a)&&(m+=1e3),d=w):(h=x,p=b,g=a,d-=w)}}(e,l,i,t,r),s=jr(l),c=s&&s.find(0,!0);if(!s||!(a.ch>c.from.ch||a.ch==c.from.ch&&0<a.xRel))return a;i=b(l=c.to.line)}}function Nt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==xi){xi=T("pre");for(var t=0;t<49;++t)xi.appendChild(document.createTextNode("x")),xi.appendChild(T("br"));xi.appendChild(document.createTextNode("x"))}v(e.measure,xi);var r=xi.offsetHeight/50;return 3<r&&(e.cachedTextHeight=r),Un(e.measure),r||1}function Ot(e){var t,r;return null!=e.cachedCharWidth?e.cachedCharWidth:(r=T("span","xxxxxxxxxx"),t=T("pre",[r]),v(e.measure,t),2<(r=((t=r.getBoundingClientRect()).right-t.left)/10)&&(e.cachedCharWidth=r),r||10)}function Wt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ti},Mi?Mi.ops.push(e.curOp):e.curOp.ownsGroup=Mi={ops:[e.curOp],delayedCallbacks:[]}}function zt(e){var t=e.curOp.ownsGroup;if(t)try{var r=t,n=r.delayedCallbacks,i=0;do{for(;i<n.length;i++)n[i].call(null);for(var o=0;o<r.ops.length;o++){var l=r.ops[o];if(l.cursorActivityHandlers)for(;l.cursorActivityCalled<l.cursorActivityHandlers.length;)l.cursorActivityHandlers[l.cursorActivityCalled++].call(null,l.cm)}}while(i<n.length)}finally{Mi=null;for(var a=0;a<t.ops.length;a++)t.ops[a].cm.curOp=null;for(var s,c=t.ops,u=0;u<c.length;u++){d=void 0;h=void 0;f=void 0;var d=c[u];var h=d.cm,f=h.display;(function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=st(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=st(e)+"px",t.scrollbarsClipped=!0)})(h),d.updateMaxLine&&H(h),d.mustUpdate=d.viewChanged||d.forceUpdate||null!=d.scrollTop||d.scrollToPos&&(d.scrollToPos.from.line<f.viewFrom||d.scrollToPos.to.line>=f.viewTo)||f.maxLineChanged&&h.options.lineWrapping,d.update=d.mustUpdate&&new oe(h,d.mustUpdate&&{top:d.scrollTop,ensure:d.scrollToPos},d.forceUpdate)}for(u=0;u<c.length;u++){p=void 0;var p=c[u];p.updatedDisplay=p.mustUpdate&&le(p.cm,p.update)}for(u=0;u<c.length;u++){g=void 0;m=void 0;v=void 0;var g=c[u];var m=g.cm,v=m.display;g.updatedDisplay&&ue(m),g.barMeasure=Z(m),v.maxLineChanged&&!m.options.lineWrapping&&(g.adjustWidthTo=ht(m,v.maxLine,v.maxLine.text.length).left+3,m.display.sizerWidth=g.adjustWidthTo,g.barMeasure.scrollWidth=Math.max(v.scroller.clientWidth,v.sizer.offsetLeft+g.adjustWidthTo+st(m)+m.display.barWidth),g.maxScrollLeft=Math.max(0,v.sizer.offsetLeft+g.adjustWidthTo-ct(m))),(g.updatedDisplay||g.selectionChanged)&&(g.preparedSelection=v.input.prepareSelection())}for(u=0;u<c.length;u++){y=void 0;b=void 0;var y=c[u];var b=y.cm;null!=y.adjustWidthTo&&(b.display.sizer.style.minWidth=y.adjustWidthTo+"px",y.maxScrollLeft<b.doc.scrollLeft&&$t(b,Math.min(b.display.scroller.scrollLeft,y.maxScrollLeft),!0),b.display.maxLineChanged=!1),y.preparedSelection&&b.display.input.showSelection(y.preparedSelection),y.updatedDisplay&&ce(b,y.barMeasure),!y.updatedDisplay&&y.startHeight==b.doc.height||J(b,y.barMeasure),y.selectionChanged&&tt(b),b.state.focused&&y.updateInput&&b.display.input.reset(y.typing),y.focus&&y.focus==qn()&&Ce(y.cm)}for(u=0;u<c.length;u++){w=void 0;x=void 0;k=void 0;C=void 0;s=void 0;S=void 0;L=void 0;M=void 0;var w=c[u];var x=w.cm,k=x.display,C=x.doc;w.updatedDisplay&&ae(x,w.update),null==k.wheelStartX||null==w.scrollTop&&null==w.scrollLeft&&!w.scrollToPos||(k.wheelStartX=k.wheelStartY=null),null==w.scrollTop||k.scroller.scrollTop==w.scrollTop&&!w.forceScroll||(C.scrollTop=Math.max(0,Math.min(k.scroller.scrollHeight-k.scroller.clientHeight,w.scrollTop)),k.scrollbars.setScrollTop(C.scrollTop),k.scroller.scrollTop=C.scrollTop),null==w.scrollLeft||k.scroller.scrollLeft==w.scrollLeft&&!w.forceScroll||(C.scrollLeft=Math.max(0,Math.min(k.scroller.scrollWidth-ct(x),w.scrollLeft)),k.scrollbars.setScrollLeft(C.scrollLeft),k.scroller.scrollLeft=C.scrollLeft,te(x)),w.scrollToPos&&(s=function(e,t,r,n){null==n&&(n=0);for(var i=0;i<5;i++){var o=!1,l=Lt(e,t),a=r&&r!=t?Lt(e,r):l,a=mr(e,Math.min(l.left,a.left),Math.min(l.top,a.top)-n,Math.max(l.left,a.left),Math.max(l.bottom,a.bottom)+n),s=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=a.scrollTop&&(Xt(e,a.scrollTop),1<Math.abs(e.doc.scrollTop-s)&&(o=!0)),null!=a.scrollLeft&&($t(e,a.scrollLeft),1<Math.abs(e.doc.scrollLeft-c)&&(o=!0)),!o)break}return l}(x,E(C,w.scrollToPos.from),E(C,w.scrollToPos.to),w.scrollToPos.margin),w.scrollToPos.isCursor&&x.state.focused&&function(e,t){{var r,n,i;j(e,"scrollCursorIntoView")||(r=e.display,i=r.sizer.getBoundingClientRect(),n=null,t.top+i.top<0?n=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(n=!1),null==n||di||(i=T("div","",null,"position: absolute; top: "+(t.top-r.viewOffset-ot(e.display))+"px; height: "+(t.bottom-t.top+st(e)+r.barHeight)+"px; left: "+t.left+"px; width: 2px;"),e.display.lineSpace.appendChild(i),i.scrollIntoView(n),e.display.lineSpace.removeChild(i)))}}(x,s));var S=w.maybeHiddenMarkers,L=w.maybeUnhiddenMarkers;if(S)for(var M=0;M<S.length;++M)S[M].lines.length||A(S[M],"hide");if(L)for(M=0;M<L.length;++M)L[M].lines.length&&A(L[M],"unhide");k.wrapper.offsetHeight&&(C.scrollTop=x.display.scroller.scrollTop),w.changeObjs&&A(x,"changes",x,w.changeObjs),w.update&&w.update.finish()}}}function h(e,t){if(e.curOp)return t();Wt(e);try{return t()}finally{zt(e)}}function B(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Wt(e);try{return t.apply(e,arguments)}finally{zt(e)}}}function e(e){return function(){if(this.curOp)return e.apply(this,arguments);Wt(this);try{return e.apply(this,arguments)}finally{zt(this)}}}function t(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Wt(e);try{return t.apply(this,arguments)}finally{zt(e)}}}function Dt(e,t,r){this.line=t,this.rest=function(e){for(var t,r;t=jr(e);)e=t.find(1,!0).line,(r=r||[]).push(e);return r}(t),this.size=this.rest?b(x(this.rest))-r+1:1,this.node=this.text=null,this.hidden=qr(e,t)}function Ht(e,t,r){for(var n=[],i=t;i<r;i=l){var o=new Dt(e.doc,R(e.doc,i),i),l=i+o.size;n.push(o)}return n}function y(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size);var i,o=e.display,l=((n=n||0)&&r<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo?bi&&Vr(e.doc,t)<o.viewTo&&It(e):r<=o.viewFrom?bi&&Ur(e.doc,r+n)>o.viewFrom?It(e):(o.viewFrom+=n,o.viewTo+=n):t<=o.viewFrom&&r>=o.viewTo?It(e):t<=o.viewFrom?(l=Ft(e,r,r+n,1))?(o.view=o.view.slice(l.index),o.viewFrom=l.lineN,o.viewTo+=n):It(e):r>=o.viewTo?(l=Ft(e,t,t,-1))?(o.view=o.view.slice(0,l.index),o.viewTo=l.lineN):It(e):(l=Ft(e,t,t,-1),i=Ft(e,r,r+n,1),l&&i?(o.view=o.view.slice(0,l.index).concat(Ht(e,l.lineN,i.lineN)).concat(o.view.slice(i.index)),o.viewTo+=n):It(e)),o.externalMeasured);l&&(r<l.lineN?l.lineN+=n:t<l.lineN+l.size&&(o.externalMeasured=null))}function Pt(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),t<n.viewFrom||t>=n.viewTo||null!=(i=n.view[Et(e,t)]).node&&-1==k(n=i.changes||(i.changes=[]),r)&&n.push(r)}function It(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Et(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function Ft(e,t,r,n){var i,o=Et(e,t),l=e.display.view;if(bi&&r!=e.doc.first+e.doc.size){for(var a=0,s=e.display.viewFrom;a<o;a++)s+=l[a].size;if(s!=t){if(0<n){if(o==l.length-1)return null;i=s+l[o].size-t,o++}else i=s-t;t+=i,r+=i}for(;Vr(e.doc,r)!=r;){if(o==(n<0?0:l.length-1))return null;r+=n*l[o-(n<0?1:0)].size,o+=n}}return{index:o,lineN:r}}function Bt(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function Rt(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function jt(e,t){for(var r=Wn(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return 1}function Gt(e,t,r,n){var i=e.display;if(!r&&"true"==Wn(t).getAttribute("cm-not-content"))return null;var o,r=i.lineSpace.getBoundingClientRect();try{o=t.clientX-r.left,l=t.clientY-r.top}catch(t){return null}var l,i=At(e,o,l);return n&&1==i.xRel&&(r=R(e.doc,i.line).text).length==i.ch&&(l=po(r,r.length,e.options.tabSize)-r.length,i=q(i.line,Math.max(0,Math.round((o-at(e.display).left)/Ot(e.display))-l))),i}function Kt(e){var t,r,n,i,o,l=this,a=l.display;if(!(a.activeTouch&&a.input.supportsTouch()||j(l,e)))if(a.shift=e.shiftKey,jt(a,e))V||(a.scroller.draggable=!1,setTimeout(function(){a.scroller.draggable=!0},100));else if(!Ut(l,e)){var s,c=Gt(l,e);switch(window.focus(),zn(e)){case 1:if(l.state.selectingText)l.state.selectingText(e);else if(c){N=l,r=e,n=c,G?setTimeout(jn(Ce,N),0):N.curOp.focus=qn(),y=+new Date,Ci&&Ci.time>y-400&&0==_(Ci.pos,n)?i="triple":ki&&ki.time>y-400&&0==_(ki.pos,n)?(i="double",Ci={time:y,pos:n}):(i="single",ki={time:y,pos:n}),y=N.doc.sel,o=U?r.metaKey:r.ctrlKey;if(N.options.dragDrop&&Ao&&!Se(N)&&"single"==i&&-1<(x=y.contains(n))&&(_((x=y.ranges[x]).from(),n)<0||0<n.xRel)&&(0<_(x.to(),n)||n.xRel<0)){var u=N;var d=r;var h=n;var f=o;var p=u.display,g=+new Date,m=B(u,function(e){V&&(p.scroller.draggable=!1),u.state.draggingText=!1,lo(document,"mouseup",m),lo(p.scroller,"drop",m),Math.abs(d.clientX-e.clientX)+Math.abs(d.clientY-e.clientY)<10&&(X(e),!f&&+new Date-200<g&&Ge(u.doc,h),V||G&&9==K?setTimeout(function(){document.body.focus(),p.input.focus()},20):p.input.focus())});V&&(p.scroller.draggable=!0),u.state.draggingText=m,p.scroller.dragDrop&&p.scroller.dragDrop(),$(document,"mouseup",m),$(p.scroller,"drop",m)}else{var v=N;var y=r;var b=n;var w=i;var x=o;function k(e){var t=++z,r=Gt(v,e,!0,"rect"==w);if(r)if(0!=_(r,O)){v.curOp.focus=qn();var n=r;if(0!=_(O,n))if(O=n,"rect"==w){for(var i=[],o=v.options.tabSize,l=po(R(L,b.line).text,b.ch,o),a=po(R(L,n.line).text,n.ch,o),s=Math.min(l,a),c=Math.max(l,a),u=Math.min(b.line,n.line),d=Math.min(v.lastLine(),Math.max(b.line,n.line));u<=d;u++){var h=R(L,u).text,f=go(h,s,o);s==c?i.push(new P(q(u,f),q(u,f))):h.length>f&&i.push(new P(q(u,f),q(u,go(h,c,o))))}i.length||i.push(new P(b,b)),F(L,I(A.ranges.slice(0,T).concat(i),T),{origin:"*mouse",scroll:!1}),v.scrollIntoView(n)}else{var l=M,a=l.anchor,p=n;"single"!=w&&(n="double"==w?v.findWordAt(n):new P(q(n.line,0),E(L,q(n.line+1,0))),a=0<_(n.anchor,a)?(p=n.head,ke(l.from(),n.anchor)):(p=n.anchor,xe(l.to(),n.head))),(i=A.ranges.slice(0))[T]=new P(E(L,a),p),F(L,I(i,T),ho)}l=ee(S,L);(r.line>=l.to||r.line<l.from)&&setTimeout(B(v,function(){z==t&&k(e)}),150)}else{var g=e.clientY<W.top?-20:e.clientY>W.bottom?20:0;g&&setTimeout(B(v,function(){z==t&&(S.scroller.scrollTop+=g,k(e))}),50)}}function C(e){v.state.selectingText=!1,z=1/0,X(e),S.input.focus(),lo(document,"mousemove",D),lo(document,"mouseup",H),L.history.lastSelOrigin=null}var S=v.display,L=v.doc;X(y);var M,T,A=L.sel,N=A.ranges;x&&!y.shiftKey?(T=L.sel.contains(b),M=-1<T?N[T]:new P(b,b)):(M=L.sel.primary(),T=L.sel.primIndex),y.altKey?(w="rect",x||(M=new P(b,b)),b=Gt(v,y,!0,!0),T=-1):M="double"==w?(s=v.findWordAt(b),v.display.shift||L.extend?je(L,M,s.anchor,s.head):s):"triple"==w?(s=new P(q(b.line,0),E(L,q(b.line+1,0))),v.display.shift||L.extend?je(L,M,s.anchor,s.head):s):je(L,M,b);x?-1==T?(T=N.length,F(L,I(N.concat([M]),T),{scroll:!1,origin:"*mouse"})):1<N.length&&N[T].empty()&&"single"==w&&!y.shiftKey?(F(L,I(N.slice(0,T).concat(N.slice(T+1)),0),{scroll:!1,origin:"*mouse"}),A=L.sel):Ve(L,T,M,ho):(F(L,new Ee([M],T=0),ho),A=L.sel);var O=b,W=S.wrapper.getBoundingClientRect(),z=0,D=B(v,function(e){(zn(e)?k:C)(e)}),H=B(v,C);v.state.selectingText=H,$(document,"mousemove",D),$(document,"mouseup",H)}}else Wn(e)==a.scroller&&X(e);break;case 2:V&&(l.state.lastMiddleDown=+new Date),c&&Ge(l.doc,c),setTimeout(function(){a.input.focus()},20),X(e);break;case 3:vi?or(l,e):((t=l).state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,ir(t))},100))}}}function Vt(e,t,r,n,i){try{var o=t.clientX,l=t.clientY}catch(t){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&X(t);var a=e.display,n=a.lineDiv.getBoundingClientRect();if(l>n.bottom||!g(e,r))return On(t);l-=n.top-a.viewOffset;for(var s=0;s<e.options.gutters.length;++s){var c=a.gutters.childNodes[s];if(c&&c.getBoundingClientRect().right>=o)return i(e,r,e,yn(e.doc,l),e.options.gutters[s],t),On(t)}}function Ut(e,t){return Vt(e,t,"gutterClick",!0,w)}function qt(e){var n=this;if(_t(n),!j(n,e)&&!jt(n.display,e)){X(e),G&&(Ai=+new Date);var t,i=Gt(n,e,!0),r=e.dataTransfer.files;if(i&&!Se(n))if(r&&r.length&&window.FileReader&&window.File)for(var o=r.length,l=Array(o),a=0,s=0;s<o;++s)!function(e,t){var r=new FileReader;r.onload=B(n,function(){var e;l[t]=r.result,++a==o&&(e={from:i=E(n.doc,i),to:i,text:n.doc.splitLines(l.join(n.doc.lineSeparator())),origin:"paste"},ur(n.doc,e),qe(n.doc,Fe(i,zi(e))))}),r.readAsText(e)}(r[s],s);else if(n.state.draggingText&&-1<n.doc.sel.contains(i))n.state.draggingText(e),setTimeout(function(){n.display.input.focus()},20);else try{if(l=e.dataTransfer.getData("Text")){if(n.state.draggingText&&!(U?e.altKey:e.ctrlKey)&&(t=n.listSelections()),_e(n.doc,Fe(i,i)),t)for(s=0;s<t.length;++s)gr(n.doc,"",t[s].anchor,t[s].head,"drag");n.replaceSelection(l,"around","paste"),n.display.input.focus()}}catch(e){}}}function _t(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Xt(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,li||se(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),li&&se(e),rt(e,100))}function $t(e,t,r){(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,te(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Yt(e,t){var r,n,i,o=wi(t),l=o.x,o=o.y,a=e.display,s=a.scroller;if(l&&s.scrollWidth>s.clientWidth||o&&s.scrollHeight>s.clientHeight){if(o&&U&&V)e:for(var c=t.target,u=a.view;c!=s;c=c.parentNode)for(var d=0;d<u.length;d++)if(u[d].node==c){e.display.currentWheelTarget=c;break e}if(l&&!li&&!m&&null!=f)return o&&Xt(e,Math.max(0,Math.min(s.scrollTop+o*f,s.scrollHeight-s.clientHeight))),$t(e,Math.max(0,Math.min(s.scrollLeft+l*f,s.scrollWidth-s.clientWidth))),X(t),a.wheelStartX=null;o&&null!=f&&(r=o*f,i=(n=e.doc.scrollTop)+a.wrapper.clientHeight,r<0?n=Math.max(0,n+r-50):i=Math.min(e.doc.height,i+r+50),se(e,{top:n,bottom:i})),Ni<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=l,a.wheelDY=o,setTimeout(function(){var e,t;null!=a.wheelStartX&&(e=s.scrollLeft-a.wheelStartX,t=(t=s.scrollTop-a.wheelStartY)&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX,a.wheelStartX=a.wheelStartY=null,t&&(f=(f*Ni+t)/(Ni+1),++Ni))},200)):(a.wheelDX+=l,a.wheelDY+=o))}}function Zt(e,t,r){if("string"==typeof t&&!(t=Ki[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{Se(e)&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=co}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}function Qt(e,t,r,n){var i=e.state.keySeq;if(i){if(qi(t))return"handled";Oi.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}n=function(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=Ui(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&Ui(t,e.options.extraKeys,r,e)||Ui(t,e.options.keyMap,r,e)}(e,t,n);return"multi"==n&&(e.state.keySeq=t),"handled"==n&&w(e,"keyHandled",e,t,r),"handled"!=n&&"multi"!=n||(X(r),tt(e)),i&&!n&&/\'$/.test(t)?(X(r),!0):!!n}function Jt(t,e){var r=_i(e,!0);return!!r&&(e.shiftKey&&!t.state.keySeq?Qt(t,"Shift-"+r,e,function(e){return Zt(t,e,!0)})||Qt(t,r,e,function(e){return("string"==typeof e?/^go[A-Z]/.test(e):e.motion)?Zt(t,e):void 0}):Qt(t,r,e,function(e){return Zt(t,e)}))}function er(e){var t,r,n,i=this;function o(e){18!=e.keyCode&&e.altKey||(Lo(n,"CodeMirror-crosshair"),lo(document,"keyup",o),lo(document,"mouseover",o))}i.curOp.focus=qn(),j(i,e)||(G&&K<11&&27==e.keyCode&&(e.returnValue=!1),t=e.keyCode,i.display.shift=16==t||e.shiftKey,r=Jt(i,e),m&&(Wi=r?t:null,!r&&88==t&&!Wo&&(U?e.metaKey:e.ctrlKey)&&i.replaceSelection("",null,"cut")),18!=t||/\bCodeMirror-crosshair\b/.test(i.display.lineDiv.className)||(n=i.display.lineDiv,Mo(n,"CodeMirror-crosshair"),$(document,"keyup",o),$(document,"mouseover",o)))}function tr(e){16==e.keyCode&&(this.doc.sel.shift=!1),j(this,e)}function rr(e){var t,r,n,i=this;jt(i.display,e)||j(i,e)||e.ctrlKey&&!e.altKey||U&&e.metaKey||(r=e.keyCode,t=e.charCode,m&&r==Wi?(Wi=null,X(e)):m&&(!e.which||e.which<10)&&Jt(i,e)||(r=String.fromCharCode(null==t?r:t),Qt(n=i,"'"+r+"'",e,function(e){return Zt(n,e,!0)})||i.display.input.onKeyPress(e)))}function nr(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(A(e,"focus",e),e.state.focused=!0,Mo(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),V&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),tt(e))}function ir(e){e.state.delayingBlurEvent||(e.state.focused&&(A(e,"blur",e),e.state.focused=!1,Lo(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function or(e,t){var r,n;jt(e.display,t)||(n=t,g(r=e,"gutterContextMenu")&&Vt(r,n,"gutterContextMenu",!1,A))||e.display.input.onContextMenu(t)}function lr(e,t){var r,n;return _(e,t.from)<0?e:_(e,t.to)<=0?zi(t):(r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch,e.line==t.to.line&&(n+=zi(t).ch-t.to.ch),q(r,n))}function ar(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new P(lr(i.anchor,t),lr(i.head,t)))}return I(r,e.sel.primIndex)}function sr(e,t,r){return e.line==t.line?q(r.line,e.ch-t.ch+r.ch):q(r.line+(e.line-t.line),e.ch)}function cr(i,e,t){e={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return t&&(e.update=function(e,t,r,n){e&&(this.from=E(i,e)),t&&(this.to=E(i,t)),r&&(this.text=r),void 0!==n&&(this.origin=n)}),A(i,"beforeChange",i,e),i.cm&&A(i.cm,"beforeChange",i.cm,e),e.canceled?null:{from:e.from,to:e.to,text:e.text,origin:e.origin}}function ur(e,t,r){if(e.cm){if(!e.cm.curOp)return B(e.cm,ur)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(g(e,"beforeChange")||e.cm&&g(e.cm,"beforeChange"))||(t=cr(e,t,!0))){var n=yi&&!r&&function(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=k(n,r)||(n=n||[]).push(r)}}),!n)return null;for(var i=[{from:t,to:r}],o=0;o<n.length;++o)for(var l=n[o],a=l.find(0),s=0;s<i.length;++s){var c,u,d,h=i[s];_(h.to,a.from)<0||0<_(h.from,a.to)||(c=[s,1],u=_(h.from,a.from),d=_(h.to,a.to),(u<0||!l.inclusiveLeft&&!u)&&c.push({from:h.from,to:a.from}),(0<d||!l.inclusiveRight&&!d)&&c.push({from:a.to,to:h.to}),i.splice.apply(i,c),s+=c.length-1)}return i}(e,t.from,t.to);if(n)for(var i=n.length-1;0<=i;--i)dr(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text});else dr(e,t)}}function dr(e,r){var t,n;1==r.text.length&&""==r.text[0]&&0==_(r.from,r.to)||(t=ar(e,r),Cn(e,r,t,e.cm?e.cm.curOp.id:NaN),pr(e,r,t,Wr(e,r)),n=[],fn(e,function(e,t){t||-1!=k(n,e.history)||(Nn(e.history,r),n.push(e.history)),pr(e,r,null,Wr(e,r))}))}function hr(e,t,r){if(!e.cm||!e.cm.state.suppressEdits){for(var n,i=e.history,o=e.sel,l="undo"==t?i.done:i.undone,a="undo"==t?i.undone:i.done,s=0;s<l.length&&(n=l[s],r?!n.ranges||n.equals(e.sel):n.ranges);s++);if(s!=l.length){for(i.lastOrigin=i.lastSelOrigin=null;(n=l.pop()).ranges;){if(Sn(n,a),r&&!n.equals(e.sel))return F(e,n,{clearRedo:!1});o=n}var c=[];Sn(o,a),a.push({changes:c,generation:i.generation}),i.generation=n.generation||++i.maxGeneration;for(var u=g(e,"beforeChange")||e.cm&&g(e.cm,"beforeChange"),s=n.changes.length-1;0<=s;--s){var d=n.changes[s];if(d.origin=t,u&&!cr(e,d,!1))return l.length=0;c.push(xn(e,d));var h=s?ar(e,d):x(l),f=(pr(e,d,h,Dr(e,d)),!s&&e.cm&&e.cm.scrollIntoView({from:d.from,to:zi(d)}),[]);fn(e,function(e,t){t||-1!=k(f,e.history)||(Nn(e.history,d),f.push(e.history)),pr(e,d,null,Dr(e,d))})}}}}function fr(e,t){if(0!=t&&(e.first+=t,e.sel=new Ee(Fn(e.sel.ranges,function(e){return new P(q(e.anchor.line+t,e.anchor.ch),q(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){y(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)Pt(e.cm,n,"gutter")}}function pr(e,t,r,n){if(e.cm&&!e.cm.curOp)return B(e.cm,pr)(e,t,r,n);if(t.to.line<e.first)fr(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){t.from.line<e.first&&(fr(e,i=t.text.length-1-(e.first-t.from.line)),t={from:q(e.first,0),to:q(t.to.line+i,t.to.ch),text:[x(t.text)],origin:t.origin});var i=e.lastLine();if((t=t.to.line>i?{from:t.from,to:q(i,R(e,i).text.length),text:[t.text[0]],origin:t.origin}:t).removed=gn(e,t.from,t.to),r=r||ar(e,t),e.cm){i=e.cm;var o=t;var l=n;var a=i.doc,s=i.display,c=o.from,u=o.to,d=!1,h=c.line,l=(i.options.lineWrapping||(h=b(Kr(R(a,c.line))),a.iter(h,u.line+1,function(e){return e==s.maxLine?d=!0:void 0})),-1<a.sel.contains(o.from,o.to)&&Hn(i),un(a,o,l,O(i)),i.options.lineWrapping||(a.iter(h,c.line+o.text.length,function(e){var t=D(e);t>s.maxLineLength&&(s.maxLine=e,s.maxLineLength=t,s.maxLineChanged=!0,d=!1)}),d&&(i.curOp.updateMaxLine=!0)),a.frontier=Math.min(a.frontier,c.line),rt(i,400),o.text.length-(u.line-c.line)-1),h=(o.full?y(i):c.line!=u.line||1!=o.text.length||cn(i.doc,o)?y(i,c.line,u.line+1,l):Pt(i,c.line,"text"),g(i,"changes")),a=g(i,"change");(a||h)&&(l={from:c,to:u,text:o.text,removed:o.removed,origin:o.origin},a&&w(i,"change",i,l),h&&(i.curOp.changeObjs||(i.curOp.changeObjs=[])).push(l));i.display.selForContextMenu=null}else un(e,t,n);_e(e,r,uo)}}function gr(e,t,r,n,i){var o;_(n=n||r,r)<0&&(o=n,n=r,r=o),"string"==typeof t&&(t=e.splitLines(t)),ur(e,{from:r,to:n,text:t,origin:i})}function mr(e,t,r,n,i){var o=e.display,l=Nt(e.display),a=(e.curOp&&null!=e.curOp.scrollTop?e.curOp:o.scroller).scrollTop,s=ut(e),c={},u=e.doc.height+lt(o),d=u-l<(i=s<i-(r=r<0?0:r)?r+s:i),r=(r<a?c.scrollTop=r<l?0:r:a+s<i&&((l=Math.min(r,(d?u:i)-s))!=a&&(c.scrollTop=l)),(e.curOp&&null!=e.curOp.scrollLeft?e.curOp:o.scroller).scrollLeft),d=ct(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),u=d<n-t;return u&&(n=t+d),t<10?c.scrollLeft=0:t<r?c.scrollLeft=Math.max(0,t-(u?0:10)):d+r-3<n&&(c.scrollLeft=n+(u?0:10)-d),c}function vr(e,t,r){null==t&&null==r||br(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc:e.curOp).scrollLeft+t),null!=r&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc:e.curOp).scrollTop+r)}function yr(e){br(e);var t=e.getCursor(),r=t,n=t;e.options.lineWrapping||(r=t.ch?q(t.line,t.ch-1):t,n=q(t.line,t.ch+1)),e.curOp.scrollToPos={from:r,to:n,margin:e.options.cursorScrollMargin,isCursor:!0}}function br(e){var t,r,n=e.curOp.scrollToPos;n&&(e.curOp.scrollToPos=null,r=Mt(e,n.from),t=Mt(e,n.to),r=mr(e,Math.min(r.left,t.left),Math.min(r.top,t.top)-n.margin,Math.max(r.right,t.right),Math.max(r.bottom,t.bottom)+n.margin),e.scrollTo(r.scrollLeft,r.scrollTop))}function wr(e,t,r,n){var i,o=e.doc,l=("smart"==(r=null==r?"add":r)&&(o.mode.indent?i=it(e,t):r="prev"),e.options.tabSize),a=R(o,t),s=po(a.text,null,l);a.stateAfter&&(a.stateAfter=null);var c=a.text.match(/^\s*/)[0];if(n||/\S/.test(a.text)){if("smart"==r&&((u=o.mode.indent(i,a.text.slice(c.length),a.text))==co||150<u)){if(!n)return;r="prev"}}else u=0,r="not";"prev"==r?u=t>o.first?po(R(o,t-1).text,null,l):0:"add"==r?u=s+e.options.indentUnit:"subtract"==r?u=s-e.options.indentUnit:"number"==typeof r&&(u=s+r);var u=Math.max(0,u),d="",h=0;if(e.options.indentWithTabs)for(var f=Math.floor(u/l);f;--f)h+=l,d+="\t";if(h<u&&(d+=En(u-h)),d!=c)return gr(o,d,q(t,0),q(t,c.length),"+input"),!(a.stateAfter=null);for(f=0;f<o.sel.ranges.length;f++){var p=o.sel.ranges[f];if(p.head.line==t&&p.head.ch<c.length){Ve(o,f,new P(h=q(t,c.length),h));break}}}function xr(e,t,r,n){var i=t,o=t;return"number"==typeof t?o=R(e,Be(e,t)):i=b(t),null==i?null:(n(o,i)&&e.cm&&Pt(e.cm,i,r),o)}function kr(t,e){for(var r=t.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=e(r[i]);n.length&&_(o.from,x(n).to)<=0;){var l=n.pop();if(_(l.from,o.from)<0){o.from=l.from;break}}n.push(o)}h(t,function(){for(var e=n.length-1;0<=e;e--)gr(t.doc,"",n[e].from,n[e].to,"+delete");yr(t)})}function Cr(r,e,n,t,i){function o(e){var t=(i?ii:oi)(c,a,n,!0);if(null==t){if(e||!((e=l+n)<r.first||e>=r.first+r.size?u=!1:c=R(r,l=e)))return u=!1;a=i?(n<0?Jn:Qn)(c):n<0?c.text.length:0}else a=t;return 1}var l=e.line,a=e.ch,s=n,c=R(r,l),u=!0;if("char"==t)o();else if("column"==t)o(!0);else if("word"==t||"group"==t)for(var d=null,h="group"==t,f=r.cm&&r.cm.getHelper(e,"wordChars"),p=!0;!(n<0)||o(!p);p=!1){var g=c.text.charAt(a)||"\n",g=Gn(g,f)?"w":h&&"\n"==g?"n":!h||/\s/.test(g)?null:"p";if(!h||p||g||(g="s"),d&&d!=g){n<0&&(n=1,o());break}if(g&&(d=g),0<n&&!o(!p))break}t=Ze(r,q(l,a),s,!0);return u||(t.hitSide=!0),t}function Sr(e,t,r,n){var i,o,l=e.doc,a=t.left;for("page"==n?(i=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),o=t.top+r*(i-(r<0?1.5:.5)*Nt(e.display))):"line"==n&&(o=0<r?t.bottom+3:t.top-3);;){var s=At(e,a,o);if(!s.outside)break;if(r<0?o<=0:o>=l.height){s.hitSide=!0;break}o+=5*r}return s}function r(e,t,n,r){p.defaults[e]=t,n&&(Hi[e]=r?function(e,t,r){r!=Pi&&n(e,t,r)}:n)}function Lr(e){for(var t,r,n,i,o=e.split(/-(?!$)/),e=o[o.length-1],l=0;l<o.length-1;l++){var a=o[l];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),e=n?"Shift-"+e:e}function Mr(e){return"string"==typeof e?Vi[e]:e}function Tr(t,r,n,e,i){if(e&&e.shared)return f=t,o=r,l=n,s=i,(a=S(a=e)).shared=!1,c=[Tr(f,o,l,a,s)],u=c[0],d=a.widgetNode,fn(f,function(e){d&&(a.widgetNode=d.cloneNode(!0)),c.push(Tr(e,E(e,o),E(e,l),a,s));for(var t=0;t<e.linked.length;++t)if(e.linked[t].isParent)return;u=x(c)}),new Zi(c,u);var o,l,a,s,c,u,d;if(t.cm&&!t.cm.curOp)return B(t.cm,Tr)(t,r,n,e,i);var h=new Yi(t,i),f=_(r,n);if(e&&S(e,h,!1),!(0<f||0==f&&!1!==h.clearWhenEmpty)){if(h.replacedWith&&(h.collapsed=!0,h.widgetNode=T("span",[h.replacedWith],"CodeMirror-widget"),e.handleMouseEvents||h.widgetNode.setAttribute("cm-ignore-events","true"),e.insertLeft&&(h.widgetNode.insertLeft=!0)),h.collapsed){if(Gr(t,r.line,r,n,h)||r.line!=n.line&&Gr(t,n.line,r,n,h))throw new Error("Inserting collapsed marker partially overlapping an existing one");bi=!0}h.addToHistory&&Cn(t,{from:r,to:n,origin:"markText"},t.sel,NaN);var p,g=r.line,m=t.cm;if(t.iter(g,n.line+1,function(e){var t;m&&h.collapsed&&!m.options.lineWrapping&&Kr(e)==m.display.maxLine&&(p=!0),h.collapsed&&g!=r.line&&vn(e,0),e=e,t=new Nr(h,g==r.line?r.ch:null,g==n.line?n.ch:null),e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e),++g}),h.collapsed&&t.iter(r.line,n.line+1,function(e){qr(t,e)&&vn(e,0)}),h.clearOnEnter&&$(h,"beforeCursorEnter",function(){h.clear()}),h.readOnly&&(yi=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),h.collapsed&&(h.id=++$i,h.atomic=!0),m){if(p&&(m.curOp.updateMaxLine=!0),h.collapsed)y(m,r.line,n.line+1);else if(h.className||h.title||h.startStyle||h.endStyle||h.css)for(var v=r.line;v<=n.line;v++)Pt(m,v,"text");h.atomic&&$e(m.doc),w(m,"markerAdded",m,h)}}return h}function Ar(e){return e.findMarks(q(e.first,0),e.clipPos(q(e.lastLine())),function(e){return e.parent})}function Nr(e,t,r){this.marker=e,this.from=t,this.to=r}function Or(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function Wr(e,t){if(t.full)return null;var r=Re(e,t.from.line)&&R(e,t.from.line).markedSpans,e=Re(e,t.to.line)&&R(e,t.to.line).markedSpans;if(!r&&!e)return null;var n,i,o=t.from.ch,l=t.to.ch,a=0==_(t.from,t.to),s=function(e,t,r){if(e)for(var n,i=0;i<e.length;++i){var o,l=e[i],a=l.marker;!(null==l.from||(a.inclusiveLeft?l.from<=t:l.from<t))&&(l.from!=t||"bookmark"!=a.type||r&&l.marker.insertLeft)||(o=null==l.to||(a.inclusiveRight?l.to>=t:l.to>t),(n=n||[]).push(new Nr(a,l.from,o?null:l.to)))}return n}(r,o,a),c=function(e,t,r){if(e)for(var n,i=0;i<e.length;++i){var o,l=e[i],a=l.marker;!(null==l.to||(a.inclusiveRight?l.to>=t:l.to>t))&&(l.from!=t||"bookmark"!=a.type||r&&!l.marker.insertLeft)||(o=null==l.from||(a.inclusiveLeft?l.from<=t:l.from<t),(n=n||[]).push(new Nr(a,o?null:l.from-t,null==l.to?null:l.to-t)))}return n}(e,l,a),u=1==t.text.length,d=x(t.text).length+(u?o:0);if(s)for(var h=0;h<s.length;++h)null==(n=s[h]).to&&((i=Or(c,n.marker))?u&&(n.to=null==i.to?null:i.to+d):n.to=o);if(c)for(h=0;h<c.length;++h)null!=(n=c[h]).to&&(n.to+=d),null==n.from?(i=Or(s,n.marker))||(n.from=d,u&&(s=s||[]).push(n)):(n.from+=d,u&&(s=s||[]).push(n));s=s&&zr(s),c&&c!=s&&(c=zr(c));var f=[s];if(!u){var p,g=t.text.length-2;if(0<g&&s)for(h=0;h<s.length;++h)null==s[h].to&&(p=p||[]).push(new Nr(s[h].marker,null,null));for(h=0;h<g;++h)f.push(p);f.push(c)}return f}function zr(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Dr(e,t){var r=function(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=0,i=[];n<t.text.length;++n)i.push(function(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t=t||e.slice(0,r):t&&t.push(e[r]);return t?t.length?t:null:e}(r[n]));return i}(e,t),n=Wr(e,t);if(!r)return n;if(n)for(var i=0;i<r.length;++i){var o=r[i],l=n[i];if(o&&l)e:for(var a=0;a<l.length;++a){for(var s=l[a],c=0;c<o.length;++c)if(o[c].marker==s.marker)continue e;o.push(s)}else l&&(r[i]=l)}return r}function Hr(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function Pr(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function Ir(e){return e.inclusiveLeft?-1:0}function Er(e){return e.inclusiveRight?1:0}function Fr(e,t){var r,n,i=e.lines.length-t.lines.length;return 0!=i?i:(i=e.find(),r=t.find(),(n=_(i.from,r.from)||Ir(e)-Ir(t))?-n:_(i.to,r.to)||Er(e)-Er(t)||t.id-e.id)}function Br(e,t){var r,n=bi&&e.markedSpans;if(n)for(var i,o=0;o<n.length;++o)(i=n[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!r||Fr(r,i.marker)<0)&&(r=i.marker);return r}function Rr(e){return Br(e,!0)}function jr(e){return Br(e,!1)}function Gr(e,t,r,n,i){var e=R(e,t),o=bi&&e.markedSpans;if(o)for(var l=0;l<o.length;++l){var a=o[l];if(a.marker.collapsed){var s=a.marker.find(0),c=_(s.from,r)||Ir(a.marker)-Ir(i),u=_(s.to,n)||Er(a.marker)-Er(i);if(!(0<=c&&u<=0||c<=0&&0<=u)&&(c<=0&&(0<_(s.to,r)||a.marker.inclusiveRight&&i.inclusiveLeft)||0<=c&&(_(s.from,n)<0||a.marker.inclusiveLeft&&i.inclusiveRight)))return 1}}}function Kr(e){for(var t;t=Rr(e);)e=t.find(-1,!0).line;return e}function Vr(e,t){var e=R(e,t),r=Kr(e);return e==r?t:b(r)}function Ur(e,t){if(t>e.lastLine())return t;var r,n=R(e,t);if(!qr(e,n))return t;for(;r=jr(n);)n=r.find(1,!0).line;return b(n)+1}function qr(e,t){var r=bi&&t.markedSpans;if(r)for(var n,i=0;i<r.length;++i)if((n=r[i]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&function e(t,r,n){{var i;if(null==n.to)return i=n.marker.find(1,!0),e(t,i.line,Or(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==r.text.length)return!0;for(var o,l=0;l<r.markedSpans.length;++l)if(o=r.markedSpans[l],o.marker.collapsed&&!o.marker.widgetNode&&o.from==n.to&&(null==o.to||o.to!=n.from)&&(o.marker.inclusiveLeft||n.marker.inclusiveRight)&&e(t,r,o))return!0}(e,t,n))return!0}}function _r(e,t,r){bn(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&vr(e,null,r)}function Xr(e){var t,r;return null!=e.height?e.height:(t=e.doc.cm)?(ko(document.body,e.node)||(r="position: relative;",e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),v(t.display.measure,T("div",[e.node],null,r))),e.height=e.node.offsetHeight):0}function $r(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+r[2])}return e}function Yr(e,t){return e.blankLine?e.blankLine(t):e.innerMode&&(e=p.innerMode(e,t)).mode.blankLine?e.mode.blankLine(e.state):void 0}function Zr(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=p.innerMode(e,r).mode);var o=e.token(t,r);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function Qr(e,t,r,n){function i(e){return{start:d.start,end:d.pos,string:d.current(),type:o||null,state:e?ji(l.mode,u):u}}var o,l=e.doc,a=l.mode;t=E(l,t);var s,c=R(l,t.line),u=it(e,t.line,r),d=new Xi(c.text,e.options.tabSize);for(n&&(s=[]);(n||d.pos<t.ch)&&!d.eol();)d.start=d.pos,o=Zr(a,d,u),n&&s.push(i(!0));return n?s:i()}function Jr(e,t,r,n,i,o,l){var a=r.flattenSpans;null==a&&(a=e.options.flattenSpans);var s=0,c=null,u=new Xi(t,e.options.tabSize),d=e.options.addModeClass&&[null];for(""==t&&$r(Yr(r,n),o);!u.eol();){var h,f=u.pos>e.options.maxHighlightLength?(a=!1,l&&rn(e,t,n,u.pos),u.pos=t.length,null):$r(Zr(r,u,n,d),o);if(d&&(h=d[0].name)&&(f="m-"+(f?h+" "+f:h)),!a||c!=f){for(;s<u.start;)i(s=Math.min(u.start,s+5e4),c);c=f}u.start=u.pos}for(;s<u.pos;){var p=Math.min(u.pos,s+5e4);i(p,c),s=p}}function en(e,t,r,n){var o=[e.state.modeGen],i={};Jr(e,t.text,e.doc.mode,r,function(e,t){o.push(e,t)},i,n);for(var l=0;l<e.state.overlays.length;++l){var a=e.state.overlays[l],s=1,c=0;Jr(e,t.text,a.mode,!0,function(e,t){for(var r=s;c<e;){var n=o[s];e<n&&o.splice(s,1,e,o[s+1],n),s+=2,c=Math.min(e,n)}if(t)if(a.opaque)o.splice(r,s-r,e,"cm-overlay "+t),s=r+2;else for(;r<s;r+=2){var i=o[r+1];o[r+1]=(i?i+" ":"")+"cm-overlay "+t}},i)}return{styles:o,classes:i.bgClass||i.textClass?i:null}}function tn(e,t,r){var n,i;return t.styles&&t.styles[0]==e.state.modeGen||(n=it(e,b(t)),i=en(e,t,t.text.length>e.options.maxHighlightLength?ji(e.doc.mode,n):n),t.stateAfter=n,t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.frontier&&e.doc.frontier++),t.styles}function rn(e,t,r,n){var i=e.doc.mode,o=new Xi(t,e.options.tabSize);for(o.start=o.pos=n||0,""==t&&Yr(i,r);!o.eol();)Zr(i,o,r),o.start=o.pos}function nn(e,t){return!e||/^\s*$/.test(e)?null:(t=t.addModeClass?to:eo)[e]||(t[e]=e.replace(/\S+/g,"cm-$&"))}function on(e,t){var r=T("span",null,null,V?"padding-right: .1px":null),n={pre:T("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,splitSpaces:(G||V)&&e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o,l=i?t.rest[i-1]:t.line,a=(n.pos=0,n.addToken=ln,o=e.display.measure,a=void 0,(null!=So?So:(o=v(o,document.createTextNode("AA")),!(!(a=xo(o,0,1).getBoundingClientRect())||a.left==a.right)&&(o=xo(o,1,2).getBoundingClientRect(),So=o.right-a.right<3)))&&(o=C(l))&&(n.addToken=function(d,h){return function(e,t,r,n,i,o,l){r=r?r+" cm-force-border":"cm-force-border";for(var a=e.pos,s=a+t.length;;){for(var c=0;c<h.length;c++){var u=h[c];if(u.to>a&&u.from<=a)break}if(u.to>=s)return d(e,t,r,n,i,o,l);d(e,t.slice(0,u.to-a),r,n,null,o,l),n=null,t=t.slice(u.to-a),a=u.to}}}(n.addToken,o)),n.map=[],t!=e.display.externalMeasured&&b(l));(function(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var l,a,s,c,u,d,h,f=i.length,p=0,g=1,m="",v=0;;){if(v==p){s=c=u=d=a="",h=null,v=1/0;for(var y=[],b=0;b<n.length;++b){var w=n[b],x=w.marker;"bookmark"==x.type&&w.from==p&&x.widgetNode?y.push(x):w.from<=p&&(null==w.to||w.to>p||x.collapsed&&w.to==p&&w.from==p)?(null!=w.to&&w.to!=p&&v>w.to&&(v=w.to,c=""),x.className&&(s+=" "+x.className),x.css&&(a=x.css),x.startStyle&&w.from==p&&(u+=" "+x.startStyle),x.endStyle&&w.to==v&&(c+=" "+x.endStyle),x.title&&!d&&(d=x.title),x.collapsed&&(!h||Fr(h.marker,x)<0)&&(h=w)):w.from>p&&v>w.from&&(v=w.from)}if(h&&(h.from||0)==p){if(sn(t,(null==h.to?f+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}if(!h&&y.length)for(b=0;b<y.length;++b)sn(t,0,y[b])}if(f<=p)break;for(var k=Math.min(f,v);;){if(m){var C,S=p+m.length;if(h||(C=k<S?m.slice(0,k-p):m,t.addToken(t,C,l?l+s:s,u,p+C.length==v?c:"",d,a)),k<=S){m=m.slice(k-p),p=k;break}p=S,u=""}m=i.slice(o,o=r[g++]),l=nn(r[g++],t.cm.options)}}else for(g=1;g<r.length;g+=2)t.addToken(t,i.slice(o,o=r[g]),nn(r[g+1],t.cm.options))})(l,n,tn(e,l,a)),l.styleClasses&&(l.styleClasses.bgClass&&(n.bgClass=Xn(l.styleClasses.bgClass,n.bgClass||"")),l.styleClasses.textClass&&(n.textClass=Xn(l.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(function(e){{var t;null==Co&&(t=T("span",""),v(e,T("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Co=t.offsetWidth<=1&&2<t.offsetHeight&&!(G&&K<8)))}e=Co?T("span",""):T("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return e.setAttribute("cm-text",""),e}(e.display.measure))),0==i?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return V&&/\bcm-tab\b/.test(n.content.lastChild.className)&&(n.content.className="cm-tab-wrap-hack"),A(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=Xn(n.pre.className,n.textClass||"")),n}function ln(e,t,r,n,i,o,l){if(t){var a=e.splitSpaces?t.replace(/ {3,}/g,an):t,s=e.cm.state.specialChars,c=!1;if(s.test(t))for(var u=document.createDocumentFragment(),d=0;;){s.lastIndex=d;var h,f=s.exec(t),p=f?f.index-d:t.length-d;if(p&&(h=document.createTextNode(a.slice(d,d+p)),G&&K<9?u.appendChild(T("span",[h])):u.appendChild(h),e.map.push(e.pos,e.pos+p,h),e.col+=p,e.pos+=p),!f)break;d+=1+p,"\t"==f[0]?(p=(p=e.cm.options.tabSize)-e.col%p,(h=u.appendChild(T("span",En(p),"cm-tab"))).setAttribute("role","presentation"),h.setAttribute("cm-text","\t"),e.col+=p):("\r"==f[0]||"\n"==f[0]?(h=u.appendChild(T("span","\r"==f[0]?"":"","cm-invalidchar"))).setAttribute("cm-text",f[0]):((h=e.cm.options.specialCharPlaceholder(f[0])).setAttribute("cm-text",f[0]),G&&K<9?u.appendChild(T("span",[h])):u.appendChild(h)),e.col+=1),e.map.push(e.pos,e.pos+1,h),e.pos++}else{e.col+=t.length;u=document.createTextNode(a);e.map.push(e.pos,e.pos+t.length,u),G&&K<9&&(c=!0),e.pos+=t.length}if(r||n||i||c||l)return c=r||"",n&&(c+=n),i&&(c+=i),r=T("span",[u],c,l),o&&(r.title=o),e.content.appendChild(r);e.content.appendChild(u)}}function an(e){for(var t=" ",r=0;r<e.length-2;++r)t+=r%2?" ":"";return t+" "}function sn(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i=i||e.content.appendChild(document.createElement("span"))).setAttribute("cm-marker",r.id),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t}function cn(e,t){return 0==t.from.ch&&0==t.to.ch&&""==x(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function un(e,o,t,l){function i(e){return t?t[e]:null}function r(e,t,r){var n,i;t=t,r=r,i=l,(n=e).text=t,n.stateAfter&&(n.stateAfter=null),n.styles&&(n.styles=null),null!=n.order&&(n.order=null),Hr(n),Pr(n,r),(t=i?i(n):1)!=n.height&&vn(n,t),w(e,"change",e,o)}function n(e,t){for(var r=e,n=[];r<t;++r)n.push(new Ji(u[r],i(r),l));return n}var a,s=o.from,c=o.to,u=o.text,d=R(e,s.line),h=R(e,c.line),f=x(u),p=i(u.length-1),g=c.line-s.line;o.full?(e.insert(0,n(0,u.length)),e.remove(u.length,e.size-u.length)):cn(e,o)?(a=n(0,u.length-1),r(h,h.text,p),g&&e.remove(s.line,g),a.length&&e.insert(s.line,a)):d==h?1==u.length?r(d,d.text.slice(0,s.ch)+f+d.text.slice(c.ch),p):((a=n(1,u.length-1)).push(new Ji(f+d.text.slice(c.ch),p,l)),r(d,d.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,a)):1==u.length?(r(d,d.text.slice(0,s.ch)+u[0]+h.text.slice(c.ch),i(0)),e.remove(s.line+1,g)):(r(d,d.text.slice(0,s.ch)+u[0],i(0)),r(h,f+h.text.slice(c.ch),p),a=n(1,u.length-1),1<g&&e.remove(s.line+1,g-1),e.insert(s.line+1,a)),w(e,"change",e,o)}function dn(e){this.lines=e,this.parent=null;for(var t=0,r=0;t<e.length;++t)e[t].parent=this,r+=e[t].height;this.height=r}function hn(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}function fn(e,a,s){!function e(t,r,n){if(t.linked)for(var i=0;i<t.linked.length;++i){var o,l=t.linked[i];l.doc!=r&&(o=n&&l.sharedHist,s&&!o||(a(l.doc,o),e(l.doc,t,o)))}}(e,null,!0)}function pn(e,t){if(t.cm)throw new Error("This document is already in use.");l((e.doc=t).cm=e),i(e),e.options.lineWrapping||H(e),e.options.mode=t.modeOption,y(e)}function R(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(t<o){r=i;break}t-=o}return r.lines[t]}function gn(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(e){e=e.text;i==r.line&&(e=e.slice(0,r.ch)),i==t.line&&(e=e.slice(t.ch)),n.push(e),++i}),n}function mn(e,t,r){var n=[];return e.iter(t,r,function(e){n.push(e.text)}),n}function vn(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function b(e){if(null==e.parent)return null;for(var t=e.parent,r=k(t.lines,e),n=t.parent;n;n=(t=n).parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function yn(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(t<o){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(n=0;n<e.lines.length;++n){var l=e.lines[n].height;if(t<l)break;t-=l}return r+n}function bn(e){for(var t=0,r=(e=Kr(e)).parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;o=(r=o).parent)for(n=0;n<o.children.length;++n){var l=o.children[n];if(l==r)break;t+=l.height}return t}function C(e){var t=e.order;return t=null==t?e.order=Ro(e.text):t}function wn(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function xn(e,t){var r={from:we(t.from),to:zi(t),text:gn(e,t.from,t.to)};return Ln(e,r,t.from.line,t.to.line+1),fn(e,function(e){Ln(e,r,t.from.line,t.to.line+1)},!0),r}function kn(e){for(;e.length;){if(!x(e).ranges)break;e.pop()}}function Cn(e,t,r,n){var i=e.history;i.undone.length=0;var o,l=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>l-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=(o=i).lastOp==n?(kn(o.done),x(o.done)):o.done.length&&!x(o.done).ranges?x(o.done):1<o.done.length&&!o.done[o.done.length-2].ranges?(o.done.pop(),x(o.done)):void 0)){var a=x(o.changes);0==_(t.from,t.to)&&0==_(t.from,a.to)?a.to=zi(t):o.changes.push(xn(e,t))}else{var s=x(i.done);for(s&&s.ranges||Sn(e.sel,i.done),o={changes:[xn(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=l,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,a||A(e,"historyAdded")}function Sn(e,t){var r=x(t);r&&r.ranges&&r.equals(e)||t.push(e)}function Ln(t,r,e,n){var i=r["spans_"+t.id],o=0;t.iter(Math.max(t.first,e),Math.min(t.first+t.size,n),function(e){e.markedSpans&&((i=i||(r["spans_"+t.id]={}))[o]=e.markedSpans),++o})}function Mn(e,t,r){for(var n=0,i=[];n<e.length;++n){var o=e[n];if(o.ranges)i.push(r?Ee.prototype.deepCopy.call(o):o);else{var l=o.changes,a=[];i.push({changes:a});for(var s=0;s<l.length;++s){var c,u=l[s];if(a.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&-1<k(t,Number(c[1]))&&(x(a)[d]=u[d],delete u[d])}}}return i}function Tn(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function An(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],l=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)Tn(o.ranges[a].anchor,t,r,n),Tn(o.ranges[a].head,t,r,n)}else{for(a=0;a<o.changes.length;++a){var s=o.changes[a];if(r<s.from.line)s.from=q(s.from.line+n,s.from.ch),s.to=q(s.to.line+n,s.to.ch);else if(t<=s.to.line){l=!1;break}}l||(e.splice(0,i+1),i=0)}}}function Nn(e,t){var r=t.from.line,n=t.to.line,t=t.text.length-(n-r)-1;An(e.done,r,n,t),An(e.undone,r,n,t)}function On(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Wn(e){return e.target||e.srcElement}function zn(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),t=U&&e.ctrlKey&&1==t?3:t}function w(e,t){var r=e._handlers&&e._handlers[t];if(r){var n,i=Array.prototype.slice.call(arguments,2);Mi?n=Mi.delayedCallbacks:ao?n=ao:(n=ao=[],setTimeout(Dn,0));for(var o=0;o<r.length;++o)n.push(function(e){return function(){e.apply(null,i)}}(r[o]))}}function Dn(){var e=ao;ao=null;for(var t=0;t<e.length;++t)e[t]()}function j(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),A(e,r||t.type,e,t),On(t)||t.codemirrorIgnore}function Hn(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==k(r,t[n])&&r.push(t[n])}function g(e,t){e=e._handlers&&e._handlers[t];return e&&0<e.length}function Pn(e){e.prototype.on=function(e,t){$(this,e,t)},e.prototype.off=function(e,t){lo(this,e,t)}}function In(){this.id=null}function En(e){for(;mo.length<=e;)mo.push(x(mo)+" ");return mo[e]}function x(e){return e[e.length-1]}function k(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}function Fn(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function Bn(){}function Rn(e,t){e=Object.create?Object.create(e):(Bn.prototype=e,new Bn);return t&&S(t,e),e}function S(e,t,r){for(var n in t=t||{},e)!e.hasOwnProperty(n)||!1===r&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function jn(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Gn(e,t){return t?!!(-1<t.source.indexOf("\\w")&&bo(e))||t.test(e):bo(e)}function Kn(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return;return 1}function Vn(e){return 768<=e.charCodeAt(0)&&wo.test(e)}function T(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function Un(e){for(var t=e.childNodes.length;0<t;--t)e.removeChild(e.firstChild);return e}function v(e,t){return Un(e).appendChild(t)}function qn(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function _n(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function Xn(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!_n(r[n]).test(t)&&(t+=" "+r[n]);return t}function $n(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),r=0;r<t.length;r++){var n=t[r].CodeMirror;n&&e(n)}}function Yn(e){return e.level%2?e.to:e.from}function Zn(e){return e.level%2?e.from:e.to}function Qn(e){e=C(e);return e?Yn(e[0]):0}function Jn(e){var t=C(e);return t?Zn(x(t)):e.text.length}function ei(e,t){var e=R(e.doc,t),r=Kr(e),e=(r!=e&&(t=b(r)),C(r)),e=e?(e[0].level%2?Jn:Qn)(r):0;return q(t,e)}function ti(e,t){var r=ei(e,t.line),e=R(e.doc,r.line),n=C(e);return n&&0!=n[0].level?r:(n=Math.max(0,e.text.search(/\S/)),e=t.line==r.line&&t.ch<=n&&t.ch,q(r.line,e?0:n))}function ri(e,t){Ho=null;for(var r,n,i,o,l=0;l<e.length;++l){var a=e[l];if(a.from<t&&a.to>t)return l;if(a.from==t||a.to==t){if(null!=r)return n=e,i=a.level,o=e[r].level,n=n[0].level,i==n||o!=n&&i<o?(a.from!=a.to&&(Ho=r),l):(a.from!=a.to&&(Ho=l),r);r=l}}return r}function ni(e,t,r,n){if(!n)return t+r;for(;0<(t+=r)&&Vn(e.text.charAt(t)););return t}function ii(e,t,r,n){var i=C(e);if(!i)return oi(e,t,r,n);for(var o=ri(i,t),l=i[o],a=ni(e,t,l.level%2?-r:r,n);;){if(a>l.from&&a<l.to)return a;if(a==l.from||a==l.to)return ri(i,a)==o?a:0<r==(l=i[o+=r]).level%2?l.to:l.from;if(!(l=i[o+=r]))return null;a=0<r==l.level%2?ni(e,l.to,-1,n):ni(e,l.from,1,n)}}function oi(e,t,r,n){var i=t+r;if(n)for(;0<i&&Vn(e.text.charAt(i));)i+=r;return i<0||i>e.text.length?null:i}var li=/gecko\/\d/i.test(navigator.userAgent),ai=/MSIE \d/.test(navigator.userAgent),si=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),G=ai||si,K=G&&(ai?document.documentMode||6:si[1]),V=/WebKit\//.test(navigator.userAgent),ai=V&&/Qt\/\d+\.\d+/.test(navigator.userAgent),si=/Chrome\//.test(navigator.userAgent),m=/Opera\//.test(navigator.userAgent),ci=/Apple Computer/.test(navigator.vendor),ui=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),di=/PhantomJS/.test(navigator.userAgent),hi=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),fi=hi||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),U=hi||/Mac/.test(navigator.platform),pi=/win/i.test(navigator.platform),gi=m&&navigator.userAgent.match(/Version\/(\d*\.\d*)/),mi=((gi=gi&&Number(gi[1]))&&15<=gi&&(V=!(m=!1)),U&&(ai||m&&(null==gi||gi<12.11))),vi=li||G&&9<=K,yi=!1,bi=!1,q=(c.prototype=S({update:function(e){var t,r=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;return n?(this.vert.style.display="block",this.vert.style.bottom=r?i+"px":"0",t=e.viewHeight-(r?i:0),this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+t)+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0"),r?(this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=e.barLeft+"px",t=e.viewWidth-e.barLeft-(n?i:0),this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+t+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedOverlay&&0<e.clientHeight&&(0==i&&this.overlayHack(),this.checkedOverlay=!0),{right:n?i:0,bottom:r?i:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e)},overlayHack:function(){function e(e){Wn(e)!=t.vert&&Wn(e)!=t.horiz&&B(t.cm,Kt)(e)}this.horiz.style.minHeight=this.vert.style.minWidth=U&&!ui?"12px":"18px";var t=this;$(this.vert,"mousedown",e),$(this.horiz,"mousedown",e)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},c.prototype),u.prototype=S({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},u.prototype),p.scrollbarModel={native:c,null:u},oe.prototype.signal=function(e,t){g(e,t)&&this.events.push(arguments)},oe.prototype.finish=function(){for(var e=0;e<this.events.length;e++)A.apply(null,this.events[e])},p.Pos=function(e,t){return this instanceof q?(this.line=e,void(this.ch=t)):new q(e,t)}),_=p.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},L=null;Oe.prototype=S({init:function(t){function e(e){if(n.somethingSelected())L=n.getSelections(),r.inaccurateSelection&&(r.prevInput="",r.inaccurateSelection=!1,o.value=L.join("\n"),vo(o));else{if(!n.options.lineWiseCopyCut)return;var t=Ae(n);L=t.text,"cut"==e.type?n.setSelections(t.ranges,null,uo):(r.prevInput="",o.value=t.text.join("\n"),vo(o))}"cut"==e.type&&(n.state.cutIncoming=!0)}var r=this,n=this.cm,i=this.wrapper=We(),o=this.textarea=i.firstChild;t.wrapper.insertBefore(i,t.wrapper.firstChild),hi&&(o.style.width="0px"),$(o,"input",function(){G&&9<=K&&r.hasSelection&&(r.hasSelection=null),r.poll()}),$(o,"paste",function(e){return!!Me(e,n)||(n.state.pasteIncoming=!0,void r.fastPoll())}),$(o,"cut",e),$(o,"copy",e),$(t.scroller,"paste",function(e){jt(t,e)||(n.state.pasteIncoming=!0,r.focus())}),$(t.lineSpace,"selectstart",function(e){jt(t,e)||X(e)}),$(o,"compositionstart",function(){var e=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}}),$(o,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},prepareSelection:function(){var e,t=this.cm,r=t.display,n=t.doc,i=Je(t);return t.options.moveInputWithCursor&&(t=Lt(t,n.sel.primary().head,"div"),n=r.wrapper.getBoundingClientRect(),e=r.lineDiv.getBoundingClientRect(),i.teTop=Math.max(0,Math.min(r.wrapper.clientHeight-10,t.top+e.top-n.top)),i.teLeft=Math.max(0,Math.min(r.wrapper.clientWidth-10,t.left+e.left-n.left))),i},showSelection:function(e){var t=this.cm.display;v(t.cursorDiv,e.cursors),v(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){var t,r,n,i;this.contextMenuPending||(i=(r=this.cm).doc,r.somethingSelected()?(this.prevInput="",i=i.sel.primary(),i=(n=Wo&&(100<i.to().line-i.from().line||1e3<(t=r.getSelection()).length))?"-":t||r.getSelection(),this.textarea.value=i,r.state.focused&&vo(this.textarea),G&&9<=K&&(this.hasSelection=i)):e||(this.prevInput=this.textarea.value="",G&&9<=K&&(this.hasSelection=null)),this.inaccurateSelection=n)},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!fi||qn()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){var t=!1,r=this;r.pollingFast=!0,r.polling.set(20,function e(){r.poll()||t?(r.pollingFast=!1,r.slowPoll()):(t=!0,r.polling.set(60,e))})},poll:function(){var e=this.cm,t=this.textarea,r=this.prevInput;if(this.contextMenuPending||!e.state.focused||Oo(t)&&!r&&!this.composing||Se(e)||e.options.disableInput||e.state.keySeq)return!1;var n=t.value;if(n==r&&!e.somethingSelected())return!1;if(G&&9<=K&&this.hasSelection===n||U&&/[\uf700-\uf7ff]/.test(n))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var i=n.charCodeAt(0);if(8203!=i||r||(r=""),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var o=0,l=Math.min(r.length,n.length);o<l&&r.charCodeAt(o)==n.charCodeAt(o);)++o;var a=this;return h(e,function(){Le(e,n.slice(o),r.length-o,null,a.composing?"*compose":null),1e3<n.length||-1<n.indexOf("\n")?t.value=a.prevInput="":a.prevInput=n,a.composing&&(a.composing.range.clear(),a.composing.range=e.markText(a.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){G&&9<=K&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function r(){var e,t;null!=c.selectionStart&&(t=""+((e=a.somethingSelected())?c.value:""),c.value="",c.value=t,l.prevInput=e?"":"",c.selectionStart=1,c.selectionEnd=t.length,s.selForContextMenu=a.doc.sel)}function t(){var e,t;l.contextMenuPending=!1,l.wrapper.style.position="relative",c.style.cssText=n,G&&K<9&&s.scrollbars.setScrollTop(s.scroller.scrollTop=d),null!=c.selectionStart&&((!G||K<9)&&r(),e=0,t=function(){s.selForContextMenu==a.doc.sel&&0==c.selectionStart&&0<c.selectionEnd&&""==l.prevInput?B(a,Ki.selectAll)(a):e++<10?s.detectingSelectAll=setTimeout(t,500):s.input.reset()},s.detectingSelectAll=setTimeout(t,200))}var n,i,o,l=this,a=l.cm,s=a.display,c=l.textarea,u=Gt(a,e),d=s.scroller.scrollTop;u&&!m&&(a.options.resetSelectionOnContextMenu&&-1==a.doc.sel.contains(u)&&B(a,F)(a.doc,Fe(u),uo),n=c.style.cssText,l.wrapper.style.position="absolute",c.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: "+(G?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",V&&(i=window.scrollY),s.input.focus(),V&&window.scrollTo(null,i),s.input.reset(),a.somethingSelected()||(c.value=l.prevInput=" "),l.contextMenuPending=!0,s.selForContextMenu=a.doc.sel,clearTimeout(s.detectingSelectAll),G&&9<=K&&r(),vi?(oo(e),o=function(){lo(window,"mouseup",o),setTimeout(t,20)},$(window,"mouseup",o)):setTimeout(t,50))},setUneditable:Bn,needsContentAttribute:!1},Oe.prototype),ze.prototype=S({init:function(e){function t(e){if(i.somethingSelected())L=i.getSelections(),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=Ae(i);L=t.text,"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,uo),i.replaceSelection("",null,"cut")})}var r,n;e.clipboardData&&!hi?(e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",L.join("\n"))):(e=(r=We()).firstChild,i.display.lineSpace.insertBefore(r,i.display.lineSpace.firstChild),e.value=L.join("\n"),n=document.activeElement,vo(e),setTimeout(function(){i.display.lineSpace.removeChild(r),n.focus()},50))}var n=this,i=n.cm,e=n.div=e.lineDiv;e.contentEditable="true",Ne(e),$(e,"paste",function(e){Me(e,i)}),$(e,"compositionstart",function(e){var t,r,e=e.data;n.composing={sel:i.doc.sel,data:e,startData:e},e&&(t=i.doc.sel.primary(),-1<(r=i.getLine(t.head.line).indexOf(e,Math.max(0,t.head.ch-e.length)))&&r<=t.head.ch&&(n.composing.sel=Fe(q(t.head.line,r),q(t.head.line,r+e.length))))}),$(e,"compositionupdate",function(e){n.composing.data=e.data}),$(e,"compositionend",function(e){var t=n.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||n.applyComposition(t),n.composing==t&&(n.composing=null)},50))}),$(e,"touchstart",function(){n.forceCompositionEnd()}),$(e,"input",function(){n.composing||n.pollContent()||h(n.cm,function(){y(i)})}),$(e,"copy",t),$(e,"cut",t)},prepareSelection:function(){var e=Je(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e){e&&this.cm.display.view.length&&(e.focus&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),r=Pe(this.cm,e.anchorNode,e.anchorOffset),n=Pe(this.cm,e.focusNode,e.focusOffset);if(!r||r.bad||!n||n.bad||0!=_(ke(r,n),t.from())||0!=_(xe(r,n),t.to())){r=De(this.cm,t.from()),n=De(this.cm,t.to());if(r||n){var i,t=this.cm.display.view,o=e.rangeCount&&e.getRangeAt(0);r?n||(n={node:(i=(i=t[t.length-1].measure).maps?i.maps[i.maps.length-1]:i.map)[i.length-1],offset:i[i.length-2]-i[i.length-3]}):r={node:t[0].measure.map[2],offset:0};try{var l=xo(r.node,r.offset,n.offset,n.node)}catch(e){}l&&(e.removeAllRanges(),e.addRange(l),o&&null==e.anchorNode?e.addRange(o):li&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){v(this.cm.display.cursorDiv,e.cursors),v(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();return!!e.rangeCount&&(e=e.getRangeAt(0).commonAncestorContainer,ko(this.div,e))},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){var t=this;this.selectionInEditor()?this.pollSelection():h(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))})},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){var e,t,r,n;this.composing||this.gracePeriod||!this.selectionChanged()||(e=window.getSelection(),t=this.cm,this.rememberSelection(),r=Pe(t,e.anchorNode,e.anchorOffset),n=Pe(t,e.focusNode,e.focusOffset),r&&n&&h(t,function(){F(t.doc,Fe(r,n),uo),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)}))},pollContent:function(){var e,t=this.cm,r=t.display,n=t.doc.sel.primary(),i=n.from(),n=n.to();if(i.line<r.viewFrom||n.line>r.viewTo-1)return!1;i=i.line==r.viewFrom||0==(i=Et(t,i.line))?(e=b(r.view[0].line),r.view[0].node):(e=b(r.view[i].line),r.view[i-1].node.nextSibling);var o,n=Et(t,n.line);r=n==r.view.length-1?(o=r.viewTo-1,r.lineDiv.lastChild):(o=b(r.view[n+1].line)-1,r.view[n+1].node.previousSibling);for(var l=t.doc.splitLines(Ie(t,i,r,e,o)),a=gn(t.doc,q(e,0),q(o,R(t.doc,o).text.length));1<l.length&&1<a.length;)if(x(l)==x(a))l.pop(),a.pop(),o--;else{if(l[0]!=a[0])break;l.shift(),a.shift(),e++}for(var s=0,c=0,u=l[0],d=a[0],h=Math.min(u.length,d.length);s<h&&u.charCodeAt(s)==d.charCodeAt(s);)++s;for(var f=x(l),p=x(a),g=Math.min(f.length-(1==l.length?s:0),p.length-(1==a.length?s:0));c<g&&f.charCodeAt(f.length-c-1)==p.charCodeAt(p.length-c-1);)++c;l[l.length-1]=f.slice(0,f.length-c),l[0]=l[0].slice(s);n=q(e,s),i=q(o,a.length?x(a).length-c:0);return 1<l.length||l[0]||_(n,i)?(gr(t.doc,l,n,i,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){e.data&&e.data!=e.startData&&B(this.cm,Le)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.setAttribute("contenteditable","false")},onKeyPress:function(e){e.preventDefault(),B(this.cm,Le)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},onContextMenu:Bn,resetPosition:Bn,needsContentAttribute:!0},ze.prototype),p.inputStyles={textarea:Oe,contenteditable:ze},Ee.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e!=this){if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(0!=_(r.anchor,n.anchor)||0!=_(r.head,n.head))return!1}}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new P(we(this.ranges[t].anchor),we(this.ranges[t].head));return new Ee(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t=t||e;for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(0<=_(t,n.from())&&_(e,n.to())<=0)return r}return-1}},P.prototype={from:function(){return ke(this.anchor,this.head)},to:function(){return xe(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};function wi(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}var xi,ki,Ci,Si,Li={left:0,right:0,top:0,bottom:0},Mi=null,Ti=0,Ai=0,Ni=0,f=null,Oi=(G?f=-.53:li?f=15:si?f=-.7:ci&&(f=-1/3),p.wheelEventPixels=function(e){e=wi(e);return e.x*=f,e.y*=f,e},new In),Wi=null,zi=p.changeEnd=function(e){return e.text?q(e.from.line+e.text.length-1,x(e.text).length+(1==e.text.length?e.from.ch:0)):e.to},Di=(p.prototype={constructor:p,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var r=this.options,n=r[e];r[e]==t&&"mode"!=e||(r[e]=t,Hi.hasOwnProperty(e)&&B(this,Hi[e])(this,t,n))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Mr(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:e(function(e,t){var r=e.token?e:p.getMode(this.options,e);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:e,opaque:t&&t.opaque}),this.state.modeGen++,y(this)}),removeOverlay:e(function(e){for(var t=this.state.overlays,r=0;r<t.length;++r){var n=t[r].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(r,1),this.state.modeGen++,void y(this)}}),indentLine:e(function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Re(this.doc,e)&&wr(this,e,t,r)}),indentSelection:e(function(e){for(var t=this.doc.sel.ranges,r=-1,n=0;n<t.length;n++){var i=t[n];if(i.empty())i.head.line>r&&(wr(this,i.head.line,e,!0),r=i.head.line,n==this.doc.sel.primIndex&&yr(this));else{for(var o=i.from(),i=i.to(),l=Math.max(r,o.line),r=Math.min(this.lastLine(),i.line-(i.ch?0:1))+1,a=l;a<r;++a)wr(this,a,e);i=this.doc.sel.ranges;0==o.ch&&t.length==i.length&&0<i[n].from().ch&&Ve(this.doc,n,new P(o,i[n].to()),uo)}}}),getTokenAt:function(e,t){return Qr(this,e,t)},getLineTokens:function(e,t){return Qr(this,q(e),t,!0)},getTokenTypeAt:function(e){e=E(this.doc,e);var t,r=tn(this,R(this.doc,e.line)),n=0,i=(r.length-1)/2,o=e.ch;if(0==o)t=r[2];else for(;;){var l=n+i>>1;if((l?r[2*l-1]:0)>=o)i=l;else{if(!(r[2*l+1]<o)){t=r[2*l+2];break}n=1+l}}e=t?t.indexOf("cm-overlay "):-1;return e<0?t:0==e?null:t.slice(0,e-1)},getModeAt:function(e){var t=this.doc.mode;return t.innerMode?p.innerMode(t,this.getTokenAt(e).state).mode:t},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(Ri.hasOwnProperty(t)){var n=Ri[t],i=this.getModeAt(e);if("string"==typeof i[t])n[i[t]]&&r.push(n[i[t]]);else if(i[t])for(var o=0;o<i[t].length;o++){var l=n[i[t][o]];l&&r.push(l)}else i.helperType&&n[i.helperType]?r.push(n[i.helperType]):n[i.name]&&r.push(n[i.name]);for(o=0;o<n._global.length;o++){var a=n._global[o];a.pred(i,this)&&-1==k(r,a.val)&&r.push(a.val)}}return r},getStateAfter:function(e,t){var r=this.doc;return it(this,(e=Be(r,null==e?r.first+r.size-1:e))+1,t)},cursorCoords:function(e,t){var r=this.doc.sel.primary();return Lt(this,null==e?r.head:"object"==typeof e?E(this.doc,e):e?r.from():r.to(),t||"page")},charCoords:function(e,t){return St(this,E(this.doc,e),t||"page")},coordsChar:function(e,t){return At(this,(e=Ct(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Ct(this,{top:e,left:0},t||"page").top,yn(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var r=!1,n="number"==typeof e?(n=this.doc.first+this.doc.size-1,e<this.doc.first?e=this.doc.first:n<e&&(e=n,r=!0),R(this.doc,e)):e;return kt(this,n,{top:0,left:0},t||"page").top+(r?this.doc.height-bn(n):0)},defaultTextHeight:function(){return Nt(this.display)},defaultCharWidth:function(){return Ot(this.display)},setGutterMarker:e(function(e,r,n){return xr(this.doc,e,"gutter",function(e){var t=e.gutterMarkers||(e.gutterMarkers={});return!(t[r]=n)&&Kn(t)&&(e.gutterMarkers=null),1})}),clearGutter:e(function(t){var r=this,e=r.doc,n=e.first;e.iter(function(e){e.gutterMarkers&&e.gutterMarkers[t]&&(e.gutterMarkers[t]=null,Pt(r,n,"gutter"),Kn(e.gutterMarkers)&&(e.gutterMarkers=null)),++n})}),lineInfo:function(e){if("number"==typeof e){if(!Re(this.doc,e))return null;var t=e;if(!(e=R(this.doc,e)))return null}else if(null==(t=b(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var o,l,a=this.display,s=(e=Lt(this,E(this.doc,e))).bottom,c=e.left;t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),a.sizer.appendChild(t),"over"==n?s=e.top:"above"!=n&&"near"!=n||(o=Math.max(a.wrapper.clientHeight,this.doc.height),l=Math.max(a.sizer.clientWidth,a.lineSpace.clientWidth),("above"==n||e.bottom+t.offsetHeight>o)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=o&&(s=e.bottom),c+t.offsetWidth>l&&(c=l-t.offsetWidth)),t.style.top=s+"px",t.style.left=t.style.right="","right"==i?(c=a.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?c=0:"middle"==i&&(c=(a.sizer.clientWidth-t.offsetWidth)/2),t.style.left=c+"px"),r&&(n=this,o=s,l=(e=c)+t.offsetWidth,i=s+t.offsetHeight,null!=(e=mr(n,e,o,l,i)).scrollTop&&Xt(n,e.scrollTop),null!=e.scrollLeft&&$t(n,e.scrollLeft))},triggerOnKeyDown:e(er),triggerOnKeyPress:e(rr),triggerOnKeyUp:tr,execCommand:function(e){return Ki.hasOwnProperty(e)?Ki[e].call(null,this):void 0},triggerElectric:e(function(e){Te(this,e)}),findPosH:function(e,t,r,n){var i=1;t<0&&(i=-1,t=-t);for(var o=0,l=E(this.doc,e);o<t&&!(l=Cr(this.doc,l,i,r,n)).hitSide;++o);return l},moveH:e(function(t,r){var n=this;n.extendSelectionsBy(function(e){return n.display.shift||n.doc.extend||e.empty()?Cr(n.doc,e.head,t,r,n.options.rtlMoveVisually):t<0?e.from():e.to()},fo)}),deleteH:e(function(r,n){var e=this.doc.sel,i=this.doc;e.somethingSelected()?i.replaceSelection("",null,"+delete"):kr(this,function(e){var t=Cr(i,e.head,r,n,!1);return r<0?{from:t,to:e.head}:{from:e.head,to:t}})}),findPosV:function(e,t,r,n){var i=1,o=n;t<0&&(i=-1,t=-t);for(var l=0,a=E(this.doc,e);l<t;++l){var s=Lt(this,a,"div");if(null==o?o=s.left:s.left=o,(a=Sr(this,s,i,r)).hitSide)break}return a},moveV:e(function(n,i){var o=this,l=this.doc,a=[],s=!o.display.shift&&!l.extend&&l.sel.somethingSelected();if(l.extendSelectionsBy(function(e){var t,r;return s?n<0?e.from():e.to():(t=Lt(o,e.head,"div"),null!=e.goalColumn&&(t.left=e.goalColumn),a.push(t.left),r=Sr(o,t,n,i),"page"==i&&e==l.sel.primary()&&vr(o,null,St(o,r,"div").top-t.top),r)},fo),a.length)for(var e=0;e<l.sel.ranges.length;e++)l.sel.ranges[e].goalColumn=a[e]}),findWordAt:function(e){var t=R(this.doc,e.line).text,r=e.ch,n=e.ch;if(t){var i=this.getHelper(e,"wordChars");(e.xRel<0||n==t.length)&&r?--r:++n;for(var o=t.charAt(r),l=Gn(o,i)?function(e){return Gn(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Gn(e)};0<r&&l(t.charAt(r-1));)--r;for(;n<t.length&&l(t.charAt(n));)++n}return new P(q(e.line,r),q(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||(((this.state.overwrite=!this.state.overwrite)?Mo:Lo)(this.display.cursorDiv,"CodeMirror-overwrite"),A(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==qn()},scrollTo:e(function(e,t){null==e&&null==t||br(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-st(this)-this.display.barHeight,width:e.scrollWidth-st(this)-this.display.barWidth,clientHeight:ut(this),clientWidth:ct(this)}},scrollIntoView:e(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:q(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?(br(this),this.curOp.scrollToPos=e):(t=mr(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin),this.scrollTo(t.scrollLeft,t.scrollTop))}),setSize:e(function(e,t){function r(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var n=this,i=(null!=e&&(n.display.wrapper.style.width=r(e)),null!=t&&(n.display.wrapper.style.height=r(t)),n.options.lineWrapping&&yt(this),n.display.viewFrom);n.doc.iter(i,n.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Pt(n,i,"widget");break}++i}),n.curOp.forceUpdate=!0,A(n,"refresh",this)}),operation:function(e){return h(this,e)},refresh:e(function(){var e=this.display.cachedTextHeight;y(this),this.curOp.forceUpdate=!0,bt(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),s(this),(null==e||.5<Math.abs(e-Nt(this.display)))&&l(this),A(this,"refresh",this)}),swapDoc:e(function(e){var t=this.doc;return t.cm=null,pn(this,e),bt(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,w(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Pn(p),p.defaults={}),Hi=p.optionHandlers={},Pi=p.Init={toString:function(){return"CodeMirror.Init"}},Ii=(r("value","",function(e,t){e.setValue(t)},!0),r("mode",null,function(e,t){e.doc.modeOption=t,i(e)},!0),r("indentUnit",2,i,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,function(e){o(e),bt(e),y(e)},!0),r("lineSeparator",null,function(e,n){if(e.doc.lineSep=n){var i=[],o=e.doc.first;e.doc.iter(function(e){for(var t=0;;){var r=e.text.indexOf(n,t);if(-1==r)break;t=r+n.length,i.push(q(o,r))}o++});for(var t=i.length-1;0<=t;t--)gr(e.doc,n,i[t],q(i[t].line,i[t].ch+n.length))}}),r("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,r){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),r!=p.Init&&e.refresh()}),r("specialCharPlaceholder",function(e){var t=T("span","","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t},function(e){e.refresh()},!0),r("electricChars",!0),r("inputStyle",fi?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),r("rtlMoveVisually",!pi),r("wholeLineUpdateBefore",!0),r("theme","default",function(e){W(e),a(e)},!0),r("keyMap","default",function(e,t,r){t=Mr(t),r=r!=p.Init&&Mr(r);r&&r.detach&&r.detach(e,t),t.attach&&t.attach(e,r||null)}),r("extraKeys",null),r("lineWrapping",!1,function(e){e.options.lineWrapping?(Mo(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Lo(e.display.wrapper,"CodeMirror-wrap"),H(e)),l(e),y(e),bt(e),setTimeout(function(){J(e)},100)},!0),r("gutters",[],function(e){Y(e.options),a(e)},!0),r("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?ie(e.display)+"px":"0",e.refresh()},!0),r("coverGutterNextToScrollbar",!1,function(e){J(e)},!0),r("scrollbarStyle","native",function(e){Q(e),J(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),r("lineNumbers",!1,function(e){Y(e.options),a(e)},!0),r("firstLineNumber",1,a,!0),r("lineNumberFormatter",function(e){return e},a,!0),r("showCursorWhenSelecting",!1,Qe,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("readOnly",!1,function(e,t){"nocursor"==t?(ir(e),e.display.input.blur(),e.display.disabled=!0):(e.display.disabled=!1,t||e.display.input.reset())}),r("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),r("dragDrop",!0,function(e,t,r){!t!=!(r&&r!=p.Init)&&(r=e.display.dragFunctions,(t=t?$:lo)(e.display.scroller,"dragstart",r.start),t(e.display.scroller,"dragenter",r.enter),t(e.display.scroller,"dragover",r.over),t(e.display.scroller,"dragleave",r.leave),t(e.display.scroller,"drop",r.drop))}),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,Qe,!0),r("singleCursorHeightPerLine",!0,Qe,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,o,!0),r("addModeClass",!1,o,!0),r("pollInterval",100),r("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),r("historyEventDelay",1250),r("viewportMargin",10,function(e){e.refresh()},!0),r("maxHighlightLength",1e4,o,!0),r("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),r("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),r("autofocus",null),p.modes={}),Ei=p.mimeModes={},Fi=(p.defineMode=function(e,t){p.defaults.mode||"null"==e||(p.defaults.mode=e),2<arguments.length&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Ii[e]=t},p.defineMIME=function(e,t){Ei[e]=t},p.resolveMode=function(e){if("string"==typeof e&&Ei.hasOwnProperty(e))e=Ei[e];else if(e&&"string"==typeof e.name&&Ei.hasOwnProperty(e.name)){var t=Ei[e.name];(e=Rn(t="string"==typeof t?{name:t}:t,e)).name=t.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return p.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},p.getMode=function(e,t){var t=p.resolveMode(t),r=Ii[t.name];if(!r)return p.getMode(e,"text/plain");var n=r(e,t);if(Fi.hasOwnProperty(t.name)){var i=Fi[t.name];for(o in i)i.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=i[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var o in t.modeProps)n[o]=t.modeProps[o];return n},p.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),p.defineMIME("text/plain","null"),p.modeExtensions={}),Bi=(p.extendMode=function(e,t){S(t,Fi.hasOwnProperty(e)?Fi[e]:Fi[e]={})},p.defineExtension=function(e,t){p.prototype[e]=t},p.defineDocExtension=function(e,t){M.prototype[e]=t},p.defineOption=r,[]),Ri=(p.defineInitHook=function(e){Bi.push(e)},p.helpers={}),ji=(p.registerHelper=function(e,t,r){Ri.hasOwnProperty(e)||(Ri[e]=p[e]={_global:[]}),Ri[e][t]=r},p.registerGlobalHelper=function(e,t,r,n){p.registerHelper(e,t,n),Ri[e]._global.push({pred:r,val:n})},p.copyState=function(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var r,n={};for(r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}),Gi=p.startState=function(e,t,r){return!e.startState||e.startState(t,r)},Ki=(p.innerMode=function(e,t){for(;e.innerMode;){var r=e.innerMode(t);if(!r||r.mode==e)break;t=r.state,e=r.mode}return r||{mode:e,state:t}},p.commands={selectAll:function(e){e.setSelection(q(e.firstLine(),0),q(e.lastLine()),uo)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),uo)},killLine:function(r){kr(r,function(e){var t;return e.empty()?(t=R(r.doc,e.head.line).text.length,e.head.ch==t&&e.head.line<r.lastLine()?{from:e.head,to:q(e.head.line+1,0)}:{from:e.head,to:q(e.head.line,t)}):{from:e.from(),to:e.to()}})},deleteLine:function(t){kr(t,function(e){return{from:q(e.from().line,0),to:E(t.doc,q(e.to().line+1,0))}})},delLineLeft:function(e){kr(e,function(e){return{from:q(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(r){kr(r,function(e){var t=r.charCoords(e.head,"div").top+5;return{from:r.coordsChar({left:0,top:t},"div"),to:e.from()}})},delWrappedLineRight:function(r){kr(r,function(e){var t=r.charCoords(e.head,"div").top+5,t=r.coordsChar({left:r.display.lineDiv.offsetWidth+100,top:t},"div");return{from:e.from(),to:t}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(q(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(q(e.lastLine()))},goLineStart:function(t){t.extendSelectionsBy(function(e){return ei(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){t.extendSelectionsBy(function(e){return ti(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(o){o.extendSelectionsBy(function(e){for(var t,r=o,n=e.head.line,i=R(r.doc,n);t=jr(i);)i=t.find(1,!0).line,n=null;return r=(r=C(i))?(r[0].level%2?Qn:Jn)(i):i.text.length,q(null==n?b(i):n,r)},{origin:"+move",bias:-1})},goLineRight:function(t){t.extendSelectionsBy(function(e){e=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:e},"div")},fo)},goLineLeft:function(t){t.extendSelectionsBy(function(e){e=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:e},"div")},fo)},goLineLeftSmart:function(r){r.extendSelectionsBy(function(e){var t=r.charCoords(e.head,"div").top+5,t=r.coordsChar({left:0,top:t},"div");return t.ch<r.getLine(t.line).search(/\S/)?ti(r,e.head):t},fo)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),o=po(e.getLine(o.line),o.ch,n);t.push(new Array(n-o%n+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(l){h(l,function(){for(var e=l.listSelections(),t=[],r=0;r<e.length;r++){var n,i=e[r].head,o=R(l.doc,i.line).text;o&&(0<(i=i.ch==o.length?new q(i.line,i.ch-1):i).ch?(i=new q(i.line,i.ch+1),l.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),q(i.line,i.ch-2),i,"+transpose")):i.line>l.doc.first&&((n=R(l.doc,i.line-1).text)&&l.replaceRange(o.charAt(0)+l.doc.lineSeparator()+n.charAt(n.length-1),q(i.line-1,n.length-1),q(i.line,1),"+transpose"))),t.push(new P(i,i))}l.setSelections(t)})},newlineAndIndent:function(n){h(n,function(){for(var e=n.listSelections().length,t=0;t<e;t++){var r=n.listSelections()[t];n.replaceRange(n.doc.lineSeparator(),r.anchor,r.head,"+input"),n.indentLine(r.from().line+1,null,!0),yr(n)}})},toggleOverwrite:function(e){e.toggleOverwrite()}}),Vi=p.keyMap={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}},Ui=(Vi.default=U?Vi.macDefault:Vi.pcDefault,p.normalizeKeyMap=function(e){var t,r,n={};for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(/^(name|fallthrough|(de|at)tach)$/.test(t))continue;if("..."==i){delete e[t];continue}for(var o=Fn(t.split(" "),Lr),l=0;l<o.length;l++){var a,s=l==o.length-1?(a=o.join(" "),i):(a=o.slice(0,l+1).join(" "),"..."),c=n[a];if(c){if(c!=s)throw new Error("Inconsistent bindings for "+a)}else n[a]=s}delete e[t]}for(r in n)e[r]=n[r];return e},p.lookupKey=function(e,t,r,n){var i=(t=Mr(t)).call?t.call(e,n):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Ui(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var l=Ui(e,t.fallthrough[o],r,n);if(l)return l}}}),qi=p.isModifierKey=function(e){e="string"==typeof e?e:Do[e.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e},_i=p.keyName=function(e,t){var r,n;return(!m||34!=e.keyCode||!e.char)&&(null!=(n=r=Do[e.keyCode])&&!e.altGraphKey&&(e.altKey&&"Alt"!=r&&(n="Alt-"+n),(mi?e.metaKey:e.ctrlKey)&&"Ctrl"!=r&&(n="Ctrl-"+n),(mi?e.ctrlKey:e.metaKey)&&"Cmd"!=r&&(n="Cmd-"+n),n=!t&&e.shiftKey&&"Shift"!=r?"Shift-"+n:n))},Xi=(p.fromTextArea=function(t,e){function r(){t.value=a.getValue()}var n;if((e=e?S(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus&&(n=qn(),e.autofocus=n==t||null!=t.getAttribute("autofocus")&&n==document.body),t.form&&($(t.form,"submit",r),!e.leaveSubmitMethodAlone)){var i=t.form,o=i.submit;try{var l=i.submit=function(){r(),i.submit=o,i.submit(),i.submit=l}}catch(e){}}e.finishInit=function(e){e.save=r,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,r(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(lo(t.form,"submit",r),"function"==typeof t.form.submit&&(t.form.submit=o))}},t.style.display="none";var a=p(function(e){t.parentNode.insertBefore(e,t.nextSibling)},e);return a},p.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0}),$i=(Xi.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);return("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){e=this.string.indexOf(e,this.pos);return-1<e?(this.pos=e,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=po(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?po(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return po(this.string,null,this.tabSize)-(this.lineStart?po(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,r){var n;return"string"!=typeof e?(n=this.string.slice(this.pos).match(e))&&0<n.index?null:(n&&!1!==t&&(this.pos+=n[0].length),n):(n=function(e){return r?e.toLowerCase():e})(this.string.substr(this.pos,e.length))==n(e)?(!1!==t&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}},0),Yi=p.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++$i},$i=(Pn(Yi),Yi.prototype.clear=function(){if(!this.explicitlyCleared){var e,t=this.doc.cm,r=t&&!t.curOp;r&&Wt(t),g(this,"clear")&&(e=this.find())&&w(this,"clear",e.from,e.to);for(var n=null,i=null,o=0;o<this.lines.length;++o){var l=this.lines[o],a=Or(l.markedSpans,this);t&&!this.collapsed?Pt(t,b(l),"text"):t&&(null!=a.to&&(i=b(l)),null!=a.from&&(n=b(l))),l.markedSpans=function(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r=r||[]).push(e[n]);return r}(l.markedSpans,a),null==a.from&&this.collapsed&&!qr(this.doc,l)&&t&&vn(l,Nt(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(o=0;o<this.lines.length;++o){var s=Kr(this.lines[o]),c=D(s);c>t.display.maxLineLength&&(t.display.maxLine=s,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=n&&t&&this.collapsed&&y(t,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&$e(t.doc)),t&&w(t,"markerCleared",t,this),r&&zt(t),this.parent&&this.parent.clear()}},Yi.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var r,n,i=0;i<this.lines.length;++i){var o=this.lines[i],l=Or(o.markedSpans,this);if(null!=l.from&&(r=q(t?o:b(o),l.from),-1==e))return r;if(null!=l.to&&(n=q(t?o:b(o),l.to),1==e))return n}return r&&{from:r,to:n}},Yi.prototype.changed=function(){var r=this.find(-1,!0),n=this,i=this.doc.cm;r&&i&&h(i,function(){var e=r.line,t=b(r.line),t=ft(i,t);t&&(vt(t),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,qr(n.doc,e)||null==n.height||(t=n.height,n.height=null,(t=Xr(n)-t)&&vn(e,e.height+t))})},Yi.prototype.attachLine=function(e){var t;this.lines.length||!this.doc.cm||(t=this.doc.cm.curOp).maybeHiddenMarkers&&-1!=k(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this),this.lines.push(e)},Yi.prototype.detachLine=function(e){this.lines.splice(k(this.lines,e),1),!this.lines.length&&this.doc.cm&&((e=this.doc.cm.curOp).maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)},0),Zi=p.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this},Qi=(Pn(Zi),Zi.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();w(this,"clear")}},Zi.prototype.find=function(e,t){return this.primary.find(e,t)},p.LineWidget=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t}),Ji=(Pn(Qi),Qi.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=b(r);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var o=Xr(this);vn(r,Math.max(0,r.height-o)),e&&h(e,function(){_r(e,r,-o),Pt(e,n,"widget")})}},Qi.prototype.changed=function(){var e=this.height,t=this.doc.cm,r=this.line,n=(this.height=null,Xr(this)-e);n&&(vn(r,r.height+n),t&&h(t,function(){t.curOp.forceUpdate=!0,_r(t,r,n)}))},p.Line=function(e,t,r){this.text=e,Pr(this,t),this.height=r?r(this):1}),eo=(Pn(Ji),Ji.prototype.lineNo=function(){return b(this)},{}),to={},ro=(dn.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r,n=e,i=e+t;n<i;++n){var o=this.lines[n];this.height-=o.height,(r=o).parent=null,Hr(r),w(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},hn.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r,n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<o){var l=Math.min(t,o-e),a=i.height;if(i.removeInner(e,l),this.height-=a-i.height,o==l&&(this.children.splice(n--,1),i.parent=null),0==(t-=l))break;e=0}else e-=o}this.size-t<25&&(1<this.children.length||!(this.children[0]instanceof dn))&&(this.collapse(r=[]),this.children=[new dn(r)],this.children[0].parent=this)},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,r),i.lines&&50<i.lines.length){for(;50<i.lines.length;){var l=new dn(i.lines.splice(i.lines.length-25,25));i.height-=l.height,this.children.splice(n+1,0,l),l.parent=this}this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t,r=new hn(e.children.splice(e.children.length-5,5))}while(e.parent?(e.size-=r.size,e.height-=r.height,t=k(e.parent.children,e),e.parent.children.splice(t+1,0,r)):(((t=new hn(e.children)).parent=e).children=[t,r],e=t),r.parent=e.parent,10<e.children.length);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<o){var l=Math.min(t,o-e);if(i.iterN(e,l,r))return!0;if(0==(t-=l))break;e=0}else e-=o}}},0),M=p.Doc=function(e,t,r,n){if(!(this instanceof M))return new M(e,t,r,n);null==r&&(r=0),hn.call(this,[new dn([new Ji("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=r;r=q(r,0);this.sel=Fe(r),this.history=new wn(null),this.id=++ro,this.modeOption=t,this.lineSep=n,"string"==typeof e&&(e=this.splitLines(e)),un(this,{from:r,to:r,text:e}),F(this,Fe(r),uo)},no=(M.prototype=Rn(hn.prototype,{constructor:M,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=mn(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:t(function(e){var t=q(this.first,0),r=this.first+this.size-1;ur(this,{from:t,to:q(r,R(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),F(this,Fe(t))}),replaceRange:function(e,t,r,n){gr(this,e,t=E(this,t),r=r?E(this,r):t,n)},getRange:function(e,t,r){e=gn(this,E(this,e),E(this,t));return!1===r?e:e.join(r||this.lineSeparator())},getLine:function(e){e=this.getLineHandle(e);return e&&e.text},getLineHandle:function(e){return Re(this,e)?R(this,e):void 0},getLineNumber:b,getLineHandleVisualStart:function(e){return Kr(e="number"==typeof e?R(this,e):e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return E(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:t(function(e,t,r){Ue(this,E(this,"number"==typeof e?q(e,t||0):e),null,r)}),setSelection:t(function(e,t,r){Ue(this,E(this,e),E(this,t||e),r)}),extendSelection:t(function(e,t,r){Ge(this,E(this,e),t&&E(this,t),r)}),extendSelections:t(function(e,t){Ke(this,function(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=E(e,t[n]);return r}(this,e))}),extendSelectionsBy:t(function(e,t){Ke(this,Fn(this.sel.ranges,e),t)}),setSelections:t(function(e,t,r){if(e.length){for(var n=0,i=[];n<e.length;n++)i[n]=new P(E(this,e[n].anchor),E(this,e[n].head));F(this,I(i,t=null==t?Math.min(e.length-1,this.sel.primIndex):t),r)}}),addSelection:t(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new P(E(this,e),E(this,t||e))),F(this,I(n,n.length-1),r)}),getSelection:function(e){for(var t=this.sel.ranges,r=0;r<t.length;r++)var n=gn(this,t[r].from(),t[r].to()),i=i?i.concat(n):n;return!1===e?i:i.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=gn(this,r[n].from(),r[n].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:t(function(e,t,r){for(var n=[],i=this.sel,o=0;o<i.ranges.length;o++){var l=i.ranges[o];n[o]={from:l.from(),to:l.to(),text:this.splitLines(e[o]),origin:r}}for(t=t&&"end"!=t&&function(e,t,r){for(var n=[],i=c=q(e.first,0),o=0;o<t.length;o++){var l=t[o],a=sr(l.from,c,i),s=sr(zi(l),c,i),c=l.to,i=s;"around"==r?(l=e.sel.ranges[o],l=_(l.head,l.anchor)<0,n[o]=new P(l?s:a,l?a:s)):n[o]=new P(a,a)}return new Ee(n,e.sel.primIndex)}(this,n,t),o=n.length-1;0<=o;o--)ur(this,n[o]);t?qe(this,t):this.cm&&yr(this.cm)}),undo:t(function(){hr(this,"undo")}),redo:t(function(){hr(this,"redo")}),undoSelection:t(function(){hr(this,"undo",!0)}),redoSelection:t(function(){hr(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(n=0;n<e.undone.length;n++)e.undone[n].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){this.history=new wn(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Mn(this.history.done),undone:Mn(this.history.undone)}},setHistory:function(e){var t=this.history=new wn(this.history.maxGeneration);t.done=Mn(e.done.slice(0),null,!0),t.undone=Mn(e.undone.slice(0),null,!0)},addLineClass:t(function(e,r,n){return xr(this,e,"gutter"==r?"gutter":"class",function(e){var t="text"==r?"textClass":"background"==r?"bgClass":"gutter"==r?"gutterClass":"wrapClass";if(e[t]){if(_n(n).test(e[t]))return;e[t]+=" "+n}else e[t]=n;return 1})}),removeLineClass:t(function(e,o,l){return xr(this,e,"gutter"==o?"gutter":"class",function(e){var t="text"==o?"textClass":"background"==o?"bgClass":"gutter"==o?"gutterClass":"wrapClass",r=e[t];if(r){if(null==l)e[t]=null;else{var n=r.match(_n(l));if(!n)return;var i=n.index+n[0].length;e[t]=r.slice(0,n.index)+(n.index&&i!=r.length?" ":"")+r.slice(i)||null}return 1}})}),addLineWidget:t(function(e,t,r){return e=e,i=new Qi(n=this,t,r),(o=n.cm)&&i.noHScroll&&(o.display.alignWidgets=!0),xr(n,e,"widget",function(e){var t=e.widgets||(e.widgets=[]);return null==i.insertAt?t.push(i):t.splice(Math.min(t.length-1,Math.max(0,i.insertAt)),0,i),i.line=e,o&&!qr(n,e)&&(t=bn(e)<n.scrollTop,vn(e,e.height+Xr(i)),t&&vr(o,null,i.height),o.curOp.forceUpdate=!0),1}),i;var n,i,o}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return Tr(this,E(this,e),E(this,t),r,"range")},setBookmark:function(e,t){t={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Tr(this,e=E(this,e),e,t,"bookmark")},findMarksAt:function(e){var t=[],r=R(this,(e=E(this,e)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(i,o,l){i=E(this,i),o=E(this,o);var a=[],s=i.line;return this.iter(i.line,o.line+1,function(e){var t=e.markedSpans;if(t)for(var r=0;r<t.length;r++){var n=t[r];s==i.line&&i.ch>n.to||null==n.from&&s!=i.line||s==o.line&&n.from>o.ch||l&&!l(n.marker)||a.push(n.marker.parent||n.marker)}++s}),a},getAllMarks:function(){var n=[];return this.iter(function(e){var t=e.markedSpans;if(t)for(var r=0;r<t.length;++r)null!=t[r].from&&n.push(t[r].marker)}),n},posFromIndex:function(t){var r,n=this.first;return this.iter(function(e){e=e.text.length+1;return t<e?(r=t,!0):(t-=e,void++n)}),E(this,q(n,r))},indexFromPos:function(e){var t=(e=E(this,e)).ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new M(mn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){for(var t=this.first,r=this.first+this.size,r=(null!=(e=e||{}).from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to),new M(mn(this,t,r),e.mode||this.modeOption,t,this.lineSep)),n=(e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],r),i=Ar(this),o=0;o<i.length;o++){var l=i[o],a=l.find(),s=n.clipPos(a.from),a=n.clipPos(a.to);_(s,a)&&(s=Tr(n,s,a,l.primary,l.primary.type),l.markers.push(s),s.parent=l)}return r},unlinkDoc:function(e){if(e instanceof p&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),function(e){for(var t=0;t<e.length;t++){var r=e[t],n=[r.primary.doc];fn(r.primary.doc,function(e){n.push(e)});for(var i=0;i<r.markers.length;i++){var o=r.markers[i];-1==k(n,o.doc)&&(o.parent=null,r.markers.splice(i--,1))}}}(Ar(this));break}var r;e.history==this.history&&(r=[e.id],fn(e,function(e){r.push(e.id)},!0),e.history=new wn(null),e.history.done=Mn(this.history.done,r),e.history.undone=Mn(this.history.undone,r))},iterLinkedDocs:function(e){fn(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):No(e)},lineSeparator:function(){return this.lineSep||"\n"}}),M.prototype.eachLine=M.prototype.iter,"iter insert remove copy getEditor constructor".split(" "));for(Si in M.prototype)M.prototype.hasOwnProperty(Si)&&k(no,Si)<0&&(p.prototype[Si]=function(e){return function(){return e.apply(this.doc,arguments)}}(M.prototype[Si]));Pn(M);var X=p.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},io=p.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},oo=p.e_stop=function(e){X(e),io(e)},$=p.on=function(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent?e.attachEvent("on"+t,r):((e=e._handlers||(e._handlers={}))[t]||(e[t]=[])).push(r)},lo=p.off=function(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers&&e._handlers[t];if(n)for(var i=0;i<n.length;++i)if(n[i]==r){n.splice(i,1);break}}},A=p.signal=function(e,t){var r=e._handlers&&e._handlers[t];if(r)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)},ao=null,so=30,co=p.Pass={toString:function(){return"CodeMirror.Pass"}},uo={scroll:!1},ho={origin:"*mouse"},fo={origin:"+move"},po=(In.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)},p.countColumn=function(e,t,r,n,i){null!=t||-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=n||0,l=i||0;;){var a=e.indexOf("\t",o);if(a<0||t<=a)return l+(t-o);l=(l+=a-o)+(r-l%r),o=a+1}}),go=p.findColumn=function(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("\t",n),l=(o=-1==o?e.length:o)-n;if(o==e.length||t<=i+l)return n+Math.min(l,t-i);if(i+=o-n,n=o+1,t<=(i+=r-i%r))return n}},mo=[""],vo=function(e){e.select()};hi?vo=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:G&&(vo=function(e){try{e.select()}catch(e){}});var yo=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,bo=p.isWordChar=function(e){return/\w/.test(e)||""<e&&(e.toUpperCase()!=e.toLowerCase()||yo.test(e))},wo=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,xo=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n},ko=p.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if((t=11==t.nodeType?t.host:t)==e)return!0}while(t=t.parentNode)};G&&K<11&&(qn=function(){try{return document.activeElement}catch(e){return document.body}});for(var Co,So,Lo=p.rmClass=function(e,t){var r,n=e.className,t=_n(t).exec(n);t&&(r=n.slice(t.index+t[0].length),e.className=n.slice(0,t.index)+(r?t[1]+r:""))},Mo=p.addClass=function(e,t){var r=e.className;_n(t).test(r)||(e.className+=(r?" ":"")+t)},To=!1,Ao=(!(G&&K<9)&&("draggable"in(ai=T("div"))||"dragDrop"in ai)),No=p.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t),o=(-1==i&&(i=e.length),e.slice(t,"\r"==e.charAt(i-1)?i-1:i)),l=o.indexOf("\r");-1!=l?(r.push(o.slice(0,l)),t+=l+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},Oo=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Wo=("oncopy"in(gi=T("div"))||(gi.setAttribute("oncopy","return;"),"function"==typeof gi.oncopy)),zo=null,Do=p.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},n=0;n<10;n++)Do[n+48]=Do[n+96]=String(n);for(n=65;n<=90;n++)Do[n]=String.fromCharCode(n);for(n=1;n<=12;n++)Do[n+111]=Do[n+63235]="F"+n;Po=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,Io=/[stwN]/,Eo=/[LRr]/,Fo=/[Lb1n]/,Bo=/[1n]/;var Ho,Po,Io,Eo,Fo,Bo,Ro=function(e){if(!Po.test(e))return!1;for(var t,r=e.length,n=[],i=0;i<r;++i)n.push(u=(t=e.charCodeAt(i))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(t):1424<=t&&t<=1524?"R":1536<=t&&t<=1773?"rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm".charAt(t-1536):1774<=t&&t<=2220?"r":8192<=t&&t<=8203?"w":8204==t?"b":"L");for(var i=0,o="L";i<r;++i)"m"==(u=n[i])?n[i]=o:o=u;for(var i=0,l="L";i<r;++i)"1"==(u=n[i])&&"r"==l?n[i]="n":Eo.test(u)&&("r"==(l=u)&&(n[i]="R"));for(i=1,o=n[0];i<r-1;++i)"+"==(u=n[i])&&"1"==o&&"1"==n[i+1]?n[i]="1":","!=u||o!=n[i+1]||"1"!=o&&"n"!=o||(n[i]=o),o=u;for(i=0;i<r;++i)if(","==(u=n[i]))n[i]="N";else if("%"==u){for(var a=i+1;a<r&&"%"==n[a];++a);for(var s=i&&"!"==n[i-1]||a<r&&"1"==n[a]?"1":"N",c=i;c<a;++c)n[c]=s;i=a-1}for(i=0,l="L";i<r;++i){var u=n[i];"L"==l&&"1"==u?n[i]="L":Eo.test(u)&&(l=u)}for(i=0;i<r;++i)if(Io.test(n[i])){for(a=i+1;a<r&&Io.test(n[a]);++a);for(var d="L"==(i?n[i-1]:"L"),h="L"==(a<r?n[a]:"L"),s=d||h?"L":"R",c=i;c<a;++c)n[c]=s;i=a-1}for(var f,p=[],i=0;i<r;)if(Fo.test(n[i])){var g=i;for(++i;i<r&&Fo.test(n[i]);++i);p.push(new jo(0,g,i))}else{var m=i,v=p.length;for(++i;i<r&&"L"!=n[i];++i);for(c=m;c<i;)if(Bo.test(n[c])){m<c&&p.splice(v,0,new jo(1,m,c));var y=c;for(++c;c<i&&Bo.test(n[c]);++c);p.splice(v,0,new jo(2,y,c)),m=c}else++c;m<i&&p.splice(v,0,new jo(1,m,i))}return 1==p[0].level&&(f=e.match(/^\s+/))&&(p[0].from=f[0].length,p.unshift(new jo(0,0,f[0].length))),1==x(p).level&&(f=e.match(/\s+$/))&&(x(p).to-=f[0].length,p.push(new jo(0,r-f[0].length,r))),2==p[0].level&&p.unshift(new jo(1,p[0].to,p[0].to)),p[0].level!=x(p).level&&p.push(new jo(p[0].level,r,r)),p};function jo(e,t,r){this.level=e,this.from=t,this.to=r}return p.version="5.6.1",p}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(N){"use strict";function e(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=!0;return t}function r(e,t){for(var r,n=!1;null!=(r=e.next());){if(n&&"/"==r){t.tokenize=null;break}n="*"==r}return["comment","comment"]}N.defineMode("css",function(e,t){function i(e,t){return h=t,e}function o(i){return function(e,t){for(var r,n=!1;null!=(r=e.next());){if(r==i&&!n){")"==i&&e.backUp(1);break}n=!n&&"\\"==r}return r!=i&&(n||")"==i)||(t.tokenize=null),h="string"}}function l(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=o(")"),h="(",null}function a(e,t,r){this.type=e,this.indent=t,this.prev=r}function n(e,t,r,n){return e.context=new a(r,t.indentation()+(!1===n?0:p),e.context),r}function s(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function c(e,t,r){return A[r.context.type](e,t,r)}function u(e,t,r,n){for(var i=n||1;0<i;i--)r.context=r.context.prev;return c(e,t,r)}function d(e){e=e.current().toLowerCase();f=L.hasOwnProperty(e)?"atom":S.hasOwnProperty(e)?"keyword":"variable"}var r=t;(t=t.propertyKeywords?t:N.resolveMode("text/css")).inline=r.inline;var h,f,p=e.indentUnit,g=t.tokenHooks,m=t.documentTypes||{},v=t.mediaTypes||{},y=t.mediaFeatures||{},b=t.mediaValueKeywords||{},w=t.propertyKeywords||{},x=t.nonStandardPropertyKeywords||{},k=t.fontProperties||{},C=t.counterDescriptors||{},S=t.colorKeywords||{},L=t.valueKeywords||{},M=t.allowNested,T=!0===t.supportsAtComponent,A={top:function(e,t,r){if("{"==e)return n(r,t,"block");if("}"==e&&r.context.prev)return s(r);if(T&&/@component/.test(e))return n(r,t,"atComponentBlock");if(/^@(-moz-)?document$/.test(e))return n(r,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/.test(e))return n(r,t,"atBlock");if(/^@(font-face|counter-style)/.test(e))return r.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return n(r,t,"at");if("hash"==e)f="builtin";else if("word"==e)f="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return n(r,t,"interpolation");if(":"==e)return"pseudo";if(M&&"("==e)return n(r,t,"parens")}return r.context.type},block:function(e,t,r){var n;return"word"==e?(n=t.current().toLowerCase(),w.hasOwnProperty(n)?(f="property","maybeprop"):x.hasOwnProperty(n)?(f="string-2","maybeprop"):M?(f=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(f+=" error","maybeprop")):"meta"==e?"block":M||"hash"!=e&&"qualifier"!=e?A.top(e,t,r):(f="error","block")},maybeprop:function(e,t,r){return":"==e?n(r,t,"prop"):c(e,t,r)},prop:function(e,t,r){if(";"==e)return s(r);if("{"==e&&M)return n(r,t,"propBlock");if("}"==e||"{"==e)return u(e,t,r);if("("==e)return n(r,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t.current())){if("word"==e)d(t);else if("interpolation"==e)return n(r,t,"interpolation")}else f+=" error";return"prop"},propBlock:function(e,t,r){return"}"==e?s(r):"word"==e?(f="property","maybeprop"):r.context.type},parens:function(e,t,r){return"{"==e||"}"==e?u(e,t,r):")"==e?s(r):"("==e?n(r,t,"parens"):"interpolation"==e?n(r,t,"interpolation"):("word"==e&&d(t),"parens")},pseudo:function(e,t,r){return"word"==e?(f="variable-3",r.context.type):c(e,t,r)},documentTypes:function(e,t,r){return"word"==e&&m.hasOwnProperty(t.current())?(f="tag",r.context.type):A.atBlock(e,t,r)},atBlock:function(e,t,r){return"("==e?n(r,t,"atBlock_parens"):"}"==e||";"==e?u(e,t,r):"{"==e?s(r)&&n(r,t,M?"block":"top"):("word"==e&&(e=t.current().toLowerCase(),f="only"==e||"not"==e||"and"==e||"or"==e?"keyword":v.hasOwnProperty(e)?"attribute":y.hasOwnProperty(e)?"property":b.hasOwnProperty(e)?"keyword":w.hasOwnProperty(e)?"property":x.hasOwnProperty(e)?"string-2":L.hasOwnProperty(e)?"atom":S.hasOwnProperty(e)?"keyword":"error"),r.context.type)},atComponentBlock:function(e,t,r){return"}"==e?u(e,t,r):"{"==e?s(r)&&n(r,t,M?"block":"top",!1):("word"==e&&(f="error"),r.context.type)},atBlock_parens:function(e,t,r){return")"==e?s(r):"{"==e||"}"==e?u(e,t,r,2):A.atBlock(e,t,r)},restricted_atBlock_before:function(e,t,r){return"{"==e?n(r,t,"restricted_atBlock"):"word"==e&&"@counter-style"==r.stateArg?(f="variable","restricted_atBlock_before"):c(e,t,r)},restricted_atBlock:function(e,t,r){return"}"==e?(r.stateArg=null,s(r)):"word"==e?(f="@font-face"==r.stateArg&&!k.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==r.stateArg&&!C.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,r){return"word"==e?(f="variable","keyframes"):"{"==e?n(r,t,"top"):c(e,t,r)},at:function(e,t,r){return";"==e?s(r):"{"==e||"}"==e?u(e,t,r):("word"==e?f="tag":"hash"==e&&(f="builtin"),"at")},interpolation:function(e,t,r){return"}"==e?s(r):"{"==e||";"==e?u(e,t,r):("word"==e?f="variable":"variable"!=e&&"("!=e&&")"!=e&&(f="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:t.inline?"block":"top",stateArg:null,context:new a(t.inline?"block":"top",e||0,null)}},token:function(e,t){var r;return!t.tokenize&&e.eatSpace()?null:((r=(t.tokenize||function(e,t){var r=e.next();if(g[r]){var n=g[r](e,t);if(!1!==n)return n}return"@"==r?(e.eatWhile(/[\w\\\-]/),i("def",e.current())):"="==r||("~"==r||"|"==r)&&e.eat("=")?(h="compare",null):'"'==r||"'"==r?(t.tokenize=o(r),t.tokenize(e,t)):"#"==r?(e.eatWhile(/[\w\\\-]/),h="hash","atom"):"!"==r?(e.match(/^\s*\w*/),h="important","keyword"):/\d/.test(r)||"."==r&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),h="unit","number"):"-"!==r?/[,+>*\/]/.test(r)?(h="select-op",null):"."==r&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?h="qualifier":/[:;{}\[\]\(\)]/.test(r)?i(null,r):"u"==r&&e.match(/rl(-prefix)?\(/)||"d"==r&&e.match("omain(")||"r"==r&&e.match("egexp(")?(e.backUp(1),t.tokenize=l,h="word","property"):/[\w\\\-]/.test(r)?(e.eatWhile(/[\w\\\-]/),h="word","property"):h=null:/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),h="unit","number"):e.match(/^-[\w\\\-]+/)?(e.eatWhile(/[\w\\\-]/),h=e.match(/^\s*:/,!1)?"variable-definition":"variable","variable-2"):e.match(/^\w+-/)?h="meta":void 0})(e,t))&&"object"==typeof r&&(h=r[1],r=r[0]),f=r,t.state=A[t.state](h,e,t),f)},indent:function(e,t){var e=e.context,t=t&&t.charAt(0),r=e.indent;return(e="prop"!=e.type||"}"!=t&&")"!=t?e:e.prev).prev&&("}"!=t||"block"!=e.type&&"top"!=e.type&&"interpolation"!=e.type&&"restricted_atBlock"!=e.type?(")"!=t||"parens"!=e.type&&"atBlock_parens"!=e.type)&&("{"!=t||"at"!=e.type&&"atBlock"!=e.type)||(r=Math.max(0,e.indent-p),e=e.prev):r=(e=e.prev).indent),r},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});var t=["domain","regexp","url","url-prefix"],n=e(t),i=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],o=e(i),l=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],a=e(l),s=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],c=e(s),u=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],d=e(u),h=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],f=e(h),p=e(["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),g=e(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),m=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],v=e(m),y=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","column-reverse","compact","condensed","contain","content","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","scale","scale3d","scaleX","scaleY","scaleZ","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],b=e(y),t=t.concat(i).concat(l).concat(s).concat(u).concat(h).concat(m).concat(y);N.registerHelper("hintWords","css",t),N.defineMIME("text/css",{documentTypes:n,mediaTypes:o,mediaFeatures:a,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:f,fontProperties:p,counterDescriptors:g,colorKeywords:v,valueKeywords:b,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=r)(e,t)}},name:"css"}),N.defineMIME("text/x-scss",{mediaTypes:o,mediaFeatures:a,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:f,colorKeywords:v,valueKeywords:b,fontProperties:p,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=r)(e,t):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/)&&[null,"{"]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),N.defineMIME("text/x-less",{mediaTypes:o,mediaFeatures:a,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:f,colorKeywords:v,valueKeywords:b,fontProperties:p,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=r)(e,t):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),N.defineMIME("text/x-gss",{documentTypes:n,mediaTypes:o,mediaFeatures:a,propertyKeywords:d,nonStandardPropertyKeywords:f,fontProperties:p,counterDescriptors:g,colorKeywords:v,valueKeywords:b,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=r)(e,t)}},name:"css",helperType:"gss"})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],e):e(CodeMirror)}(function(d){"use strict";function h(e,t){for(var r=e.pos;0<=r&&"<"!==e.string.charAt(r);)r--;return r<0?r:(t=e.string.slice(r,e.pos).match(n[t=t]||(n[t]=new RegExp("\\s+"+t+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))))?t[2]:""}function f(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function i(e,t){for(var r in e)for(var n=t[r]||(t[r]=[]),i=e[r],o=i.length-1;0<=o;o--)n.unshift(i[o])}var o={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},n={};d.defineMode("htmlmixed",function(a,e){function s(e,t){var o,l,r=t.htmlState.tagName,n=r&&u[r.toLowerCase()],i=c.token(e,t.htmlState);return n&&/\btag\b/.test(i)&&">"===e.current()&&(n=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!n[0]||n[1].test(h(t,n[0])))return n[2]}}(n,e))&&(e=d.getMode(a,n),o=f(r,!0),l=f(r,!1),t.token=function(e,t){return e.match(o,!1)?(t.token=s,t.localState=t.localMode=null):(r=e,n=l,e=t.localMode.token(e,t.localState),t=r.current(),-1<(i=t.search(n))?r.backUp(t.length-i):t.match(/<\/?$/)&&(r.backUp(t.length),r.match(n,!1)||r.match(t)),e);var r,n,i},t.localMode=e,t.localState=d.startState(e,c.indent(t.htmlState,""))),i}var c=d.getMode(a,{name:"xml",htmlMode:!0,multilineTagIndentFactor:e.multilineTagIndentFactor,multilineTagIndentPastTag:e.multilineTagIndentPastTag}),u={},t=e&&e.tags,r=e&&e.scriptTypes;if(i(o,u),t&&i(t,u),r)for(var n=r.length-1;0<=n;n--)u.script.unshift(["type",r[n].matches,r[n].mode]);return{startState:function(){return{token:s,localMode:null,localState:null,htmlState:c.startState()}},copyState:function(e){var t;return e.localState&&(t=d.copyState(e.localMode,e.localState)),{token:e.token,localMode:e.localMode,localState:t,htmlState:d.copyState(c,e.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(e,t){return!e.localMode||/^\s*<\//.test(t)?c.indent(e.htmlState,t):e.localMode.indent?e.localMode.indent(e.localState,t):d.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||c}}}},"xml","javascript","css"),d.defineMIME("text/html","htmlmixed")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(Le){"use strict";Le.defineMode("javascript",function(e,s){function o(e,t,r){return W=e,z=r,t}function c(e,t){var i,r=e.next();return'"'==r||"'"==r?(t.tokenize=(i=r,function(e,t){var r,n=!1;if(H&&"@"==e.peek()&&e.match(ke))return t.tokenize=c,o("jsonld-keyword","meta");for(;null!=(r=e.next())&&(r!=i||n);)n=!n&&"\\"==r;return n||(t.tokenize=c),o("string","string")}),t.tokenize(e,t)):"."==r&&e.match(/^\d+(?:[eE][+\-]?\d+)?/)?o("number","number"):"."==r&&e.match("..")?o("spread","meta"):/[\[\]{}\(\),;\:\.]/.test(r)?o(r):"="==r&&e.eat(">")?o("=>","operator"):"0"==r&&e.eat(/x/i)?(e.eatWhile(/[\da-f]/i),o("number","number")):"0"==r&&e.eat(/o/i)?(e.eatWhile(/[0-7]/i),o("number","number")):"0"==r&&e.eat(/b/i)?(e.eatWhile(/[01]/i),o("number","number")):/\d/.test(r)?(e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),o("number","number")):"/"==r?e.eat("*")?(t.tokenize=u)(e,t):e.eat("/")?(e.skipToEnd(),o("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(function(e){for(var t,r=!1,n=!1;null!=(t=e.next());){if(!r){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}r=!r&&"\\"==t}}(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),o("regexp","string-2")):(e.eatWhile(I),o("operator","operator",e.current())):"`"==r?(t.tokenize=F)(e,t):"#"==r?(e.skipToEnd(),o("error","error")):I.test(r)?(e.eatWhile(I),o("operator","operator",e.current())):we.test(r)?(e.eatWhile(we),r=e.current(),(e=xe.propertyIsEnumerable(r)&&xe[r])&&"."!=t.lastType?o(e.type,e.style,r):o("variable","variable",r)):void 0}function u(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=c;break}n="*"==r}return o("comment","comment")}function F(e,t){for(var r,n=!1;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=c;break}n=!n&&"\\"==r}return o("quasi","string-2",e.current())}function n(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var r=e.string.indexOf("=>",e.start);if(!(r<0)){for(var n=0,i=!1,o=r-1;0<=o;--o){var l=e.string.charAt(o),a="([{}])".indexOf(l);if(0<=a&&a<3){if(!n){++o;break}if(0==--n)break}else if(3<=a&&a<6)++n;else if(we.test(l))i=!0;else{if(/["'\/]/.test(l))return;if(i&&!n){++o;break}}}i&&!n&&(t.fatArrowAt=o)}}function B(e,t,r,n,i,o){this.indented=e,this.column=t,this.type=r,this.prev=i,this.info=o,null!=n&&(this.align=n)}function R(e,t,r,n,i){var o=e.cc;for(E.state=e,E.stream=i,E.marked=null,E.cc=o,E.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((o.length?o.pop():P?v:m)(r,n)){for(;o.length&&o[o.length-1].lex;)o.pop()();return E.marked||("variable"==r&&function(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return 1;for(var n=e.context;n;n=n.prev)for(r=n.vars;r;r=r.next)if(r.name==t)return 1}(e,n)?"variable-2":t)}}function l(){for(var e=arguments.length-1;0<=e;e--)E.cc.push(arguments[e])}function a(){return l.apply(null,arguments),!0}function r(r){function e(e){for(var t=e;t;t=t.next)if(t.name==r)return 1}var t=E.state;t.context?(E.marked="def",e(t.localVars)||(t.localVars={name:r,next:t.localVars})):e(t.globalVars)||s.globalVars&&(t.globalVars={name:r,next:t.globalVars})}function d(){E.state.context={prev:E.state.context,vars:E.state.localVars},E.state.localVars=Se}function h(){E.state.localVars=E.state.context.vars,E.state.context=E.state.context.prev}function f(n,i){function e(){var e=E.state,t=e.indented;if("stat"==e.lexical.type)t=e.lexical.indented;else for(var r=e.lexical;r&&")"==r.type&&r.align;r=r.prev)t=r.indented;e.lexical=new B(t,E.stream.column(),n,null,e.lexical,i)}return e.lex=!0,e}function p(){var e=E.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function g(r){return function e(t){return t==r?a():";"==r?l():a(e)}}function m(e,t){return"var"==e?a(f("vardef",t.length),Q,g(";"),p):"keyword a"==e?a(f("form"),v,m,p):"keyword b"==e?a(f("form"),m,p):"{"==e?a(f("}"),L,p):";"==e?a():"if"==e?("else"==E.state.lexical.info&&E.state.cc[E.state.cc.length-1]==p&&E.state.cc.pop()(),a(f("form"),v,m,p,re)):"function"==e?a(A):"for"==e?a(f("form"),ne,m,p):"variable"==e?a(f("stat"),U):"switch"==e?a(f("form"),v,f("}","switch"),g("{"),L,p,p):"case"==e?a(v,g(":")):"default"==e?a(g(":")):"catch"==e?a(f("form"),d,g("("),ae,g(")"),m,p,h):"class"==e?a(f("form"),se,p):"export"==e?a(f("stat"),de,p):"import"==e?a(f("stat"),he,p):l(f("stat"),v,g(";"),p)}function v(e){return t(e,!1)}function y(e){return t(e,!0)}function t(e,t){if(E.state.fatArrowAt==E.stream.start){var r=t?V:K;if("("==e)return a(d,f(")"),C(M,")"),p,g("=>"),r,h);if("variable"==e)return l(d,M,g("=>"),r,h)}r=t?x:w;return Ce.hasOwnProperty(e)?a(r):"async"==e?a(v):"function"==e?a(A,r):"keyword c"==e?a(t?j:b):"("==e?a(f(")"),b,O,g(")"),p,r):"operator"==e||"spread"==e?a(t?y:v):"["==e?a(f("]"),me,p,r):"{"==e?S(_,"}",null,r):"quasi"==e?l(k,r):a()}function b(e){return e.match(/[;\}\)\],]/)?l():l(v)}function j(e){return e.match(/[;\}\)\],]/)?l():l(y)}function w(e,t){return","==e?a(v):x(e,t,!1)}function x(e,t,r){var n=0==r?w:x,i=0==r?v:y;return"=>"==e?a(d,r?V:K,h):"operator"==e?/\+\+|--/.test(t)?a(n):"?"==t?a(v,g(":"),i):a(i):"quasi"==e?l(k,n):";"!=e?"("==e?S(y,")","call",n):"."==e?a(q,n):"["==e?a(f("]"),b,g("]"),p,n):void 0:void 0}function k(e,t){return"quasi"!=e?l():"${"!=t.slice(t.length-2)?a(k):a(v,G)}function G(e){return"}"==e?(E.marked="string-2",E.state.tokenize=F,a(k)):void 0}function K(e){return n(E.stream,E.state),l("{"==e?m:v)}function V(e){return n(E.stream,E.state),l("{"==e?m:y)}function U(e){return":"==e?a(p,m):l(w,g(";"),p)}function q(e){return"variable"==e?(E.marked="property",a()):void 0}function _(e,t){return"async"==e?a(_):"variable"==e||"keyword"==E.style?(E.marked="property",a("get"==t||"set"==t?X:i)):"number"==e||"string"==e?(E.marked=H?"property":E.style+" property",a(i)):"jsonld-keyword"==e?a(i):"["==e?a(v,g("]"),i):void 0}function X(e){return"variable"!=e?l(i):(E.marked="property",a(A))}function i(e){return":"==e?a(y):"("==e?l(A):void 0}function C(r,n){function i(e){var t;return","==e?("call"==(t=E.state.lexical).info&&(t.pos=(t.pos||0)+1),a(r,i)):e==n?a():a(g(n))}return function(e){return e==n?a():l(r,i)}}function S(e,t,r){for(var n=3;n<arguments.length;n++)E.cc.push(arguments[n]);return a(f(t,r),C(e,t),p)}function L(e){return"}"==e?a():l(m,L)}function $(e){return be&&":"==e?a(Z):void 0}function Y(e,t){return"="==t?a(y):void 0}function Z(e){return"variable"==e?(E.marked="variable-3",a()):void 0}function Q(){return l(M,$,ee,te)}function M(e,t){return"variable"==e?(r(t),a()):"["==e?S(M,"]"):"{"==e?S(J,"}"):void 0}function J(e,t){return"variable"!=e||E.stream.match(/^\s*:/,!1)?("variable"==e&&(E.marked="property"),a(g(":"),M,ee)):(r(t),a(ee))}function ee(e,t){return"="==t?a(y):void 0}function te(e){return","==e?a(Q):void 0}function re(e,t){return"keyword b"==e&&"else"==t?a(f("form","else"),m,p):void 0}function ne(e){return"("==e?a(f(")"),ie,g(")"),p):void 0}function ie(e){return"var"==e?a(Q,g(";"),T):";"==e?a(T):"variable"==e?a(oe):l(v,g(";"),T)}function oe(e,t){return"in"==t||"of"==t?(E.marked="keyword",a(v)):a(w,T)}function T(e,t){return";"==e?a(le):"in"==t||"of"==t?(E.marked="keyword",a(v)):l(v,g(";"),le)}function le(e){")"!=e&&a(v)}function A(e,t){return"*"==t?(E.marked="keyword",a(A)):"variable"==e?(r(t),a(A)):"("==e?a(d,f(")"),C(ae,")"),p,m,h):void 0}function ae(e){return"spread"==e?a(ae):l(M,$,Y)}function se(e,t){return"variable"==e?(r(t),a(ce)):void 0}function ce(e,t){return"extends"==t?a(v,ce):"{"==e?a(f("}"),N,p):void 0}function N(e,t){return"variable"==e||"keyword"==E.style?"static"==t?(E.marked="keyword",a(N)):(E.marked="property","get"==t||"set"==t?a(ue,A,N):a(A,N)):"*"==t?(E.marked="keyword",a(N)):";"==e?a(N):"}"==e?a():void 0}function ue(e){return("variable"!=e?l:(E.marked="property",a))()}function de(e,t){return"*"==t?(E.marked="keyword",a(ge,g(";"))):"default"==t?(E.marked="keyword",a(v,g(";"))):l(m)}function he(e){return"string"==e?a():l(fe,ge)}function fe(e,t){return"{"==e?S(fe,"}"):("variable"==e&&r(t),"*"==t&&(E.marked="keyword"),a(pe))}function pe(e,t){return"as"==t?(E.marked="keyword",a(fe)):void 0}function ge(e,t){return"from"==t?(E.marked="keyword",a(v)):void 0}function me(e){return"]"==e?a():l(y,ve)}function ve(e){return"for"==e?l(O,g("]")):","==e?a(C(j,"]")):l(C(y,"]"))}function O(e){return"for"==e?a(ne,O):"if"==e?a(v,O):void 0}var W,z,D=e.indentUnit,ye=s.statementIndent,H=s.jsonld,P=s.json||H,be=s.typescript,we=s.wordCharacters||/[\w$\xa1-\uffff]/,xe=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),i=e("operator"),o={type:"atom",style:"atom"},l={if:e("if"),while:t,with:t,else:r,do:r,try:r,finally:r,return:n,break:n,continue:n,new:n,delete:n,throw:n,debugger:n,var:e("var"),const:e("var"),let:e("var"),async:e("async"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:i,typeof:i,instanceof:i,true:o,false:o,null:o,undefined:o,NaN:o,Infinity:o,this:e("this"),class:e("class"),super:e("atom"),await:n,yield:n,export:e("export"),import:e("import"),extends:n};if(be){var a,t={type:"variable",style:"variable-3"},s={interface:e("interface"),extends:e("extends"),constructor:e("constructor"),public:e("public"),private:e("private"),protected:e("protected"),static:e("static"),string:t,number:t,bool:t,any:t};for(a in s)l[a]=s[a]}return l}(),I=/[+\-*&%=<>!?|~^]/,ke=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Ce={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0},E={state:null,column:null,marked:null,cc:null},Se={name:"this",next:{name:"arguments"}};return p.lex=!0,{startState:function(e){e={tokenize:c,lastType:"sof",cc:[],lexical:new B((e||0)-D,0,"block",!1),localVars:s.localVars,context:s.localVars&&{vars:s.localVars},indented:0};return s.globalVars&&"object"==typeof s.globalVars&&(e.globalVars=s.globalVars),e},token:function(e,t){var r;return e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),n(e,t)),t.tokenize!=u&&e.eatSpace()?null:(r=t.tokenize(e,t),"comment"==W?r:(t.lastType="operator"!=W||"++"!=z&&"--"!=z?W:"incdec",R(t,r,W,z,e)))},indent:function(e,t){if(e.tokenize==u)return Le.Pass;if(e.tokenize!=c)return 0;var r=t&&t.charAt(0),n=e.lexical;if(!/^\s*else\b/.test(t))for(var i=e.cc.length-1;0<=i;--i){var o=e.cc[i];if(o==p)n=n.prev;else if(o!=re)break}"stat"==n.type&&"}"==r&&(n=n.prev);var l=(n=ye&&")"==n.type&&"stat"==n.prev.type?n.prev:n).type,a=r==l;return"vardef"==l?n.indented+("operator"==e.lastType||","==e.lastType?n.info+1:0):"form"==l&&"{"==r?n.indented:"form"==l?n.indented+D:"stat"==l?n.indented+(r=t,"operator"==(l=e).lastType||","==l.lastType||I.test(r.charAt(0))||/[,.]/.test(r.charAt(0))?ye||D:0):"switch"!=n.info||a||0==s.doubleIndentSwitch?n.align?n.column+(a?0:1):n.indented+(a?0:D):n.indented+(/^(?:case|default)\b/.test(t)?D:2*D)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:P?null:"/*",blockCommentEnd:P?null:"*/",lineComment:P?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:P?"json":"javascript",jsonldMode:H,jsonMode:P}}),Le.registerHelper("wordChars","javascript",/[\w$]/),Le.defineMIME("text/javascript","javascript"),Le.defineMIME("text/ecmascript","javascript"),Le.defineMIME("application/javascript","javascript"),Le.defineMIME("application/x-javascript","javascript"),Le.defineMIME("application/ecmascript","javascript"),Le.defineMIME("application/json",{name:"javascript",json:!0}),Le.defineMIME("application/x-json",{name:"javascript",json:!0}),Le.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),Le.defineMIME("text/typescript",{name:"javascript",typescript:!0}),Le.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(L){"use strict";L.defineMode("xml",function(e,t){function l(t,r){function e(e){return(r.tokenize=e)(t,r)}var n=t.next();return"<"==n?t.eat("!")?t.eat("[")?t.match("CDATA[")?e(i("atom","]]>")):null:t.match("--")?e(i("comment","--\x3e")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),e(function n(i){return function(e,t){for(var r;null!=(r=e.next());){if("<"==r)return t.tokenize=n(i+1),t.tokenize(e,t);if(">"==r){if(1!=i)return t.tokenize=n(i-1),t.tokenize(e,t);t.tokenize=l;break}}return"meta"}}(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),r.tokenize=i("meta","?>"),"meta"):(x=t.eat("/")?"closeTag":"openTag",r.tokenize=a,"tag bracket"):"&"==n?(t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"))?"atom":"error":(t.eatWhile(/[^&<]/),null)}function a(e,t){var r,n,i=e.next();return">"==i||"/"==i&&e.eat(">")?(t.tokenize=l,x=">"==i?"endTag":"selfcloseTag","tag bracket"):"="==i?(x="equals",null):"<"==i?(t.tokenize=l,t.state=c,t.tagName=t.tagStart=null,(r=t.tokenize(e,t))?r+" tag error":"tag error"):/[\'\"]/.test(i)?(t.tokenize=(n=i,o.isInAttribute=!0,o),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word");function o(e,t){for(;!e.eol();)if(e.next()==n){t.tokenize=a;break}return"string"}}function i(r,n){return function(e,t){for(;!e.eol();){if(e.match(n)){t.tokenize=l;break}e.next()}return r}}function o(e,t,r){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=r,(C.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function n(e){e.context&&(e.context=e.context.prev)}function s(e,t){for(var r;;){if(!e.context)return;if(r=e.context.tagName,!C.contextGrabbers.hasOwnProperty(r)||!C.contextGrabbers[r].hasOwnProperty(t))return;n(e)}}function c(e,t,r){return"openTag"==e?(r.tagStart=t.column(),u):"closeTag"==e?d:c}function u(e,t,r){return"word"==e?(r.tagName=t.current(),k="tag",p):(k="error",u)}function d(e,t,r){return"word"==e?(e=t.current(),r.context&&r.context.tagName!=e&&C.implicitlyClosed.hasOwnProperty(r.context.tagName)&&n(r),r.context&&r.context.tagName==e?(k="tag",h):(k="tag error",f)):(k="error",f)}function h(e,t,r){return"endTag"!=e?(k="error",h):(n(r),c)}function f(e,t,r){return k="error",h(e,0,r)}function p(e,t,r){var n,i;return"word"==e?(k="attribute",g):"endTag"==e||"selfcloseTag"==e?(n=r.tagName,i=r.tagStart,r.tagName=r.tagStart=null,"selfcloseTag"==e||C.autoSelfClosers.hasOwnProperty(n)?s(r,n):(s(r,n),r.context=new o(r,n,i==r.indented)),c):(k="error",p)}function g(e,t,r){return"equals"==e?m:(C.allowMissing||(k="error"),p(e,0,r))}function m(e,t,r){return"string"==e?v:"word"==e&&C.allowUnquoted?(k="string",p):(k="error",p(e,0,r))}function v(e,t,r){return"string"==e?v:p(e,0,r)}var y=e.indentUnit,b=t.multilineTagIndentFactor||1,w=t.multilineTagIndentPastTag;null==w&&(w=!0);var x,k,C=t.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},S=t.alignCDATA;return l.isInText=!0,{startState:function(){return{tokenize:l,state:c,indented:0,tagName:null,tagStart:null,context:null}},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;x=null;var r=t.tokenize(e,t);return(r||x)&&"comment"!=r&&(k=null,t.state=t.state(x||r,e,t),k&&(r="error"==k?r+" error":k)),r},indent:function(e,t,r){var n=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+y;if(n&&n.noIndent)return L.Pass;if(e.tokenize!=a&&e.tokenize!=l)return r?r.match(/^(\s*)/)[0].length:0;if(e.tagName)return w?e.tagStart+e.tagName.length+2:e.tagStart+y*b;if(S&&/<!\[CDATA\[/.test(t))return 0;var i=t&&/^<(\/)?([\w_:\.-]*)/.exec(t);if(i&&i[1])for(;n;){if(n.tagName==i[2]){n=n.prev;break}if(!C.implicitlyClosed.hasOwnProperty(n.tagName))break;n=n.prev}else if(i)for(;n;){var o=C.contextGrabbers[n.tagName];if(!o||!o.hasOwnProperty(i[2]))break;n=n.prev}for(;n&&!n.startOfLine;)n=n.prev;return n?n.indent+y:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:t.htmlMode?"html":"xml",helperType:t.htmlMode?"html":"xml"}}),L.defineMIME("text/xml","xml"),L.defineMIME("application/xml","xml"),L.mimeModes.hasOwnProperty("text/html")||L.defineMIME("text/html",{name:"xml",htmlMode:!0})});
!function(){"use strict";var t,n,o,l,a,d,e;"undefined"!=typeof window&&(t=window.navigator.userAgent.match(/Edge\/(\d{2})\./),n=!!t&&16<=parseInt(t[1],10),"objectFit"in document.documentElement.style==!1||n?(o=function(t){var e=window.getComputedStyle(t,null),i=e.getPropertyValue("position"),n=e.getPropertyValue("overflow"),e=e.getPropertyValue("display");i&&"static"!==i||(t.style.position="relative"),"hidden"!==n&&(t.style.overflow="hidden"),e&&"inline"!==e||(t.style.display="block"),0===t.clientHeight&&(t.style.height="100%"),-1===t.className.indexOf("object-fit-polyfill")&&(t.className=t.className+" object-fit-polyfill")},l=function(t){var e,i=window.getComputedStyle(t,null),n={"max-width":"none","max-height":"none","min-width":"0px","min-height":"0px",top:"auto",right:"auto",bottom:"auto",left:"auto","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"0px"};for(e in n)i.getPropertyValue(e)!==n[e]&&(t.style[e]=n[e])},a=function(t,e,i){var n,o,l,a,d;if((i=i.split(" ")).length<2&&(i[1]=i[0]),"x"===t)n=i[0],o=i[1],l="left",a="right",d=e.clientWidth;else{if("y"!==t)return;n=i[1],o=i[0],l="top",a="bottom",d=e.clientHeight}n===l||o===l?e.style[l]="0":n===a||o===a?e.style[a]="0":"center"===n||"50%"===n?(e.style[l]="50%",e.style["margin-"+l]=d/-2+"px"):0<=n.indexOf("%")?(n=parseInt(n))<50?(e.style[l]=n+"%",e.style["margin-"+l]=d*(n/-100)+"px"):(e.style[a]=(n=100-n)+"%",e.style["margin-"+a]=d*(n/-100)+"px"):e.style[l]=n},d=function(t){var e=(e=t.dataset?t.dataset.objectFit:t.getAttribute("data-object-fit"))||"cover",i=(t.dataset?t.dataset.objectPosition:t.getAttribute("data-object-position"))||"50% 50%",n=t.parentNode;o(n),l(t),t.style.position="absolute",t.style.height="100%",t.style.width="auto","scale-down"===e&&(t.style.height="auto",t.clientWidth<n.clientWidth&&t.clientHeight<n.clientHeight?(a("x",t,i),a("y",t,i)):(e="contain",t.style.height="100%")),"none"===e?(t.style.width="auto",t.style.height="auto",a("x",t,i),a("y",t,i)):"cover"===e&&t.clientWidth>n.clientWidth||"contain"===e&&t.clientWidth<n.clientWidth?(t.style.top="0",t.style.marginTop="0",a("x",t,i)):"scale-down"!==e&&(t.style.width="100%",t.style.height="auto",t.style.left="0",t.style.marginLeft="0",a("y",t,i))},e=function(t){if(void 0===t)t=document.querySelectorAll("[data-object-fit]");else if(t&&t.nodeName)t=[t];else if("object"!=typeof t||!t.length||!t[0].nodeName)return!1;for(var e,i=0;i<t.length;i++)t[i].nodeName&&("img"!==(e=t[i].nodeName.toLowerCase())||n?"video"===e&&(0<t[i].readyState?d(t[i]):t[i].addEventListener("loadedmetadata",function(){d(this)})):t[i].complete?d(t[i]):t[i].addEventListener("load",function(){d(this)}));return!0},document.addEventListener("DOMContentLoaded",function(){e()}),window.addEventListener("resize",function(){e()}),window.objectFitPolyfill=e):window.objectFitPolyfill=function(){return!1})}();
!function(p,c){"use strict";var f={},m=p.GreenSockGlobals=p.GreenSockGlobals||p;if(!m.TweenLite){var d,e,L,N=function(t){for(var e=t.split("."),i=m,s=0;s<e.length;s++)i[e[s]]=i=i[e[s]]||{};return i},u=N("com.greensock"),v=1e-10,U=function(t){for(var e=[],i=t.length,s=0;s!==i;e.push(t[s++]));return e},j=function(){},g=(e=Object.prototype.toString,L=e.call([]),function(t){return null!=t&&(t instanceof Array||"object"==typeof t&&!!t.push&&e.call(t)===L)}),T={},G=function(o,l,h,_){this.sc=T[o]?T[o].sc:[],(T[o]=this).gsClass=null,this.func=h;var u=[];this.check=function(t){for(var e,i,s,n,r=l.length,a=r;-1<--r;)(e=T[l[r]]||new G(l[r],[])).gsClass?(u[r]=e.gsClass,a--):t&&e.sc.push(this);if(0===a&&h){if(i=(n=("com.greensock."+o).split(".")).pop(),s=N(n.join("."))[i]=this.gsClass=h.apply(h,u),_)if(m[i]=f[i]=s,!(n="undefined"!=typeof module&&module.exports)&&"function"==typeof define&&define.amd)define((p.GreenSockAMDPath?p.GreenSockAMDPath+"/":"")+o.split(".").pop(),[],function(){return s});else if(n)if(o===c)for(r in module.exports=f[c]=s,f)s[r]=f[r];else f[c]&&(f[c][i]=s);for(r=0;r<this.sc.length;r++)this.sc[r].check()}},this.check(!0)},s=p._gsDefine=function(t,e,i,s){return new G(t,e,i,s)},y=u._class=function(t,e,i){return e=e||function(){},s(t,[],function(){return e},i),e},M=(s.globals=m,[0,0,1,1]),w=y("easing.Ease",function(t,e,i,s){this._func=t,this._type=i||0,this._power=s||0,this._params=e?M.concat(e):M},!0),P=w.map={},t=w.register=function(t,e,i,s){for(var n,r,a,o,l=e.split(","),h=l.length,_=(i||"easeIn,easeOut,easeInOut").split(",");-1<--h;)for(r=l[h],n=s?y("easing."+r,null,!0):u.easing[r]||{},a=_.length;-1<--a;)o=_[a],P[r+"."+o]=P[o+r]=n[o]=t.getRatio?t:t[o]||new t},i=w.prototype;for(i._calcEnd=!1,i.getRatio=function(t){var e,i,s;return this._func?(this._params[0]=t,this._func.apply(null,this._params)):(s=1===(e=this._type)?1-t:2===e?t:t<.5?2*t:2*(1-t),1===(i=this._power)?s*=s:2===i?s*=s*s:3===i?s*=s*s*s:4===i&&(s*=s*s*s*s),1===e?1-s:2===e?s:t<.5?s/2:1-s/2)},r=(n=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;-1<--r;)i=n[r]+",Power"+r,t(new w(null,null,1,r),i,"easeOut",!0),t(new w(null,null,2,r),i,"easeIn"+(0===r?",easeNone":"")),t(new w(null,null,3,r),i,"easeInOut");P.linear=u.easing.Linear.easeIn,P.swing=u.easing.Quad.easeInOut;for(var n,Q=y("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this}),b=((i=Q.prototype).addEventListener=function(t,e,i,s,n){n=n||0;var r,a,o=this._listeners[t],l=0;for(this!==x||d||x.wake(),null==o&&(this._listeners[t]=o=[]),a=o.length;-1<--a;)(r=o[a]).c===e&&r.s===i?o.splice(a,1):0===l&&r.pr<n&&(l=a+1);o.splice(l,0,{c:e,s:i,up:s,pr:n})},i.removeEventListener=function(t,e){var i,s=this._listeners[t];if(s)for(i=s.length;-1<--i;)if(s[i].c===e)return void s.splice(i,1)},i.dispatchEvent=function(t){var e,i,s,n=this._listeners[t];if(n)for(1<(e=n.length)&&(n=n.slice(0)),i=this._eventTarget;-1<--e;)(s=n[e])&&(s.up?s.c.call(s.s||i,{type:t,target:i}):s.c.call(s.s||i))},p.requestAnimationFrame),k=p.cancelAnimationFrame,A=Date.now||function(){return(new Date).getTime()},S=A(),r=(n=["ms","moz","webkit","o"]).length;-1<--r&&!b;)b=p[n[r]+"RequestAnimationFrame"],k=p[n[r]+"CancelAnimationFrame"]||p[n[r]+"CancelRequestAnimationFrame"];y("Ticker",function(t,e){var s,n,r,a,o,l=this,h=A(),i=!(!1===e||!b)&&"auto",_=500,u=33,c="tick",f=function(t){var e,i=A()-S;_<i&&(h+=i-u),S+=i,l.time=(S-h)/1e3,i=l.time-o,(!s||0<i||!0===t)&&(l.frame++,o+=i+(a<=i?.004:a-i),e=!0),!0!==t&&(r=n(f)),e&&l.dispatchEvent(c)};Q.call(l),l.time=l.frame=0,l.tick=function(){f(!0)},l.lagSmoothing=function(t,e){_=t||1/v,u=Math.min(e,_,0)},l.sleep=function(){null!=r&&((i&&k?k:clearTimeout)(r),n=j,r=null,l===x&&(d=!1))},l.wake=function(t){null!==r?l.sleep():t?h+=-S+(S=A()):10<l.frame&&(S=A()-_+5),n=0===s?j:i&&b?b:function(t){return setTimeout(t,1e3*(o-l.time)+1|0)},l===x&&(d=!0),f(2)},l.fps=function(t){if(!arguments.length)return s;a=1/((s=t)||60),o=this.time+a,l.wake()},l.useRAF=function(t){if(!arguments.length)return i;l.sleep(),i=t,l.fps(s)},l.fps(t),setTimeout(function(){"auto"===i&&l.frame<5&&"hidden"!==document.visibilityState&&l.useRAF(!1)},1500)}),(i=u.Ticker.prototype=new u.events.EventDispatcher).constructor=u.Ticker;var o=y("core.Animation",function(t,e){this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,_&&(d||x.wake(),(t=this.vars.useFrames?h:_).add(this,t._time),this.vars.paused&&this.paused(!0))}),x=o.ticker=new u.Ticker,q=((i=o.prototype)._dirty=i._gc=i._initted=i._paused=!1,i._totalTime=i._time=0,i._rawPrevTime=-1,i._next=i._last=i._onUpdate=i._timeline=i.timeline=null,i._paused=!1,function(){d&&2e3<A()-S&&x.wake(),setTimeout(q,2e3)}),a=(q(),i.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},i.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},i.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},i.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},i.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},i.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},i.render=function(t,e,i){},i.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},i.isActive=function(){var t=this._timeline,e=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(t=t.rawTime())>=e&&t<e+this.totalDuration()/this._timeScale},i._enabled=function(t,e){return d||x.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},i._kill=function(t,e){return this._enabled(!1,!1)},i.kill=function(t,e){return this._kill(t,e),this},i._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},i._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();-1<--e;)"{self}"===t[e]&&(i[e]=this);return i},i._callback=function(t){var e=this.vars,i=e[t],s=e[t+"Params"],n=e[t+"Scope"]||e.callbackScope||this;switch(s?s.length:0){case 0:i.call(n);break;case 1:i.call(n,s[0]);break;case 2:i.call(n,s[0],s[1]);break;default:i.apply(n,s)}},i.eventCallback=function(t,e,i,s){if("on"===(t||"").substr(0,2)){var n=this.vars;if(1===arguments.length)return n[t];null==e?delete n[t]:(n[t]=e,n[t+"Params"]=g(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,n[t+"Scope"]=s),"onUpdate"===t&&(this._onUpdate=e)}return this},i.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},i.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},i.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},i.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},i.totalTime=function(t,e,i){if(d||x.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var s=this._totalDuration,n=this._timeline;if(s<t&&!i&&(t=s),this._startTime=(this._paused?this._pauseTime:n._time)-(this._reversed?s-t:t)/this._timeScale,n._dirty||this._uncache(!1),n._timeline)for(;n._timeline;)n._timeline._time!==(n._startTime+n._totalTime)/n._timeScale&&n.totalTime(n._totalTime,!0),n=n._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(D.length&&O(),this.render(t,e,!1),D.length&&O())}return this},i.progress=i.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},i.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},i.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},i.timeScale=function(t){var e;return arguments.length?(t=t||v,this._timeline&&this._timeline.smoothChildTiming&&(e=(e=this._pauseTime)||0===e?e:this._timeline.totalTime(),this._startTime=e-(e-this._startTime)*this._timeScale/t),this._timeScale=t,this._uncache(!1)):this._timeScale},i.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},i.paused=function(t){var e,i,s;return arguments.length?(e=this._timeline,t!=this._paused&&e&&(d||t||x.wake(),s=(i=e.rawTime())-this._pauseTime,!t&&e.smoothChildTiming&&(this._startTime+=s,this._uncache(!1)),this._pauseTime=t?i:null,this._paused=t,this._active=this.isActive(),!t&&0!=s&&this._initted&&this.duration()&&(i=e.smoothChildTiming?this._totalTime:(i-this._startTime)/this._timeScale,this.render(i,i===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this):this._paused},y("core.SimpleTimeline",function(t){o.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0})),R=((i=a.prototype=new o).constructor=a,i.kill()._gc=!1,i._first=i._last=i._recent=null,i._sortChildren=!1,i.add=i.insert=function(t,e,i,s){var n,r;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),n=this._last,this._sortChildren)for(r=t._startTime;n&&n._startTime>r;)n=n._prev;return n?(t._next=n._next,n._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=n,this._recent=t,this._timeline&&this._uncache(!0),this},i._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},i.render=function(t,e,i){var s,n=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;n;)s=n._next,(n._active||t>=n._startTime&&!n._paused)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=s},i.rawTime=function(){return d||x.wake(),this._totalTime},y("TweenLite",function(t,e,i){if(o.call(this,e,i),this.render=R.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"==typeof t&&R.selector(t)||t;var s,n,r,i=t.jquery||t.length&&t!==p&&t[0]&&(t[0]===p||t[0].nodeType&&t[0].style&&!t.nodeType),a=this.vars.overwrite;if(this._overwrite=a=null==a?X[R.defaultOverwrite]:"number"==typeof a?a>>0:X[a],(i||t instanceof Array||t.push&&g(t))&&"number"!=typeof t[0])for(this._targets=r=U(t),this._propLookup=[],this._siblings=[],s=0;s<r.length;s++)(n=r[s])?"string"==typeof n?"string"==typeof(n=r[s--]=R.selector(n))&&r.splice(s+1,1):n.length&&n!==p&&n[0]&&(n[0]===p||n[0].nodeType&&n[0].style&&!n.nodeType)?(r.splice(s--,1),this._targets=r=r.concat(U(n))):(this._siblings[s]=z(n,this,!1),1===a&&1<this._siblings[s].length&&tt(n,this,null,1,this._siblings[s])):r.splice(s--,1);else this._propLookup={},this._siblings=z(t,this,!1),1===a&&1<this._siblings.length&&tt(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-v,this.render(Math.min(0,-this._delay)))},!0)),C=function(t){return t&&t.length&&t!==p&&t[0]&&(t[0]===p||t[0].nodeType&&t[0].style&&!t.nodeType)},D=((i=R.prototype=new o).constructor=R,i.kill()._gc=!1,i.ratio=0,i._firstPT=i._targets=i._overwrittenProps=i._startAt=null,i._notifyPluginsOfEnabled=i._lazy=!1,R.version="1.19.0",R.defaultEase=i._ease=new w(null,null,1,1),R.defaultOverwrite="auto",R.ticker=x,R.autoSleep=120,R.lagSmoothing=function(t,e){x.lagSmoothing(t,e)},R.selector=p.$||p.jQuery||function(t){var e=p.$||p.jQuery;return e?(R.selector=e)(t):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)},[]),I={},B=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,$=function(t){for(var e,i=this._firstPT;i;)e=i.blob?t?this.join(""):this.start:i.c*t+i.s,i.m?e=i.m(e,this._target||i.t):e<1e-6&&-1e-6<e&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},K=function(t,e,i,s){var n,r,a,o,l,h,_=[t,e],u=0,c="",f=0;for(_.start=t,i&&(i(_),t=_[0],e=_[1]),_.length=0,n=t.match(B)||[],r=e.match(B)||[],s&&(s._next=null,s.blob=1,_._firstPT=_._applyPT=s),o=r.length,a=0;a<o;a++)h=r[a],c+=(l=e.substr(u,e.indexOf(h,u)-u))||!a?l:",",u+=l.length,f?f=(f+1)%5:"rgba("===l.substr(-5)&&(f=1),h===n[a]||n.length<=a?c+=h:(c&&(_.push(c),c=""),l=parseFloat(n[a]),_.push(l),_._firstPT={_next:_._firstPT,t:_,p:_.length-1,s:l,c:("="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*parseFloat(h.substr(2)):parseFloat(h)-l)||0,f:0,m:f&&f<4?Math.round:0}),u+=h.length;return(c+=e.substr(u))&&_.push(c),_.setRatio=$,_},H=function(t,e,i,s,n,r,a,o,l){"function"==typeof s&&(s=s(l||0,t));var l="get"===i?t[e]:i,h=typeof t[e],_="string"==typeof s&&"="===s.charAt(1),r={t:t,p:e,s:l,f:"function"==h,pg:0,n:n||e,m:r?"function"==typeof r?r:Math.round:0,pr:0,c:_?parseInt(s.charAt(0)+"1",10)*parseFloat(s.substr(2)):parseFloat(s)-l||0};if("number"!=h&&("function"==h&&"get"===i&&(h=e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),r.s=l=a?t[h](a):t[h]()),"string"==typeof l&&(a||isNaN(l))?(r.fp=a,r={t:K(l,s,o||R.defaultStringFilter,r),p:"setRatio",s:0,c:1,f:2,pg:0,n:n||e,pr:0,m:0}):_||(r.s=parseFloat(l),r.c=parseFloat(s)-r.s||0)),r.c)return(r._next=this._firstPT)&&(r._next._prev=r),this._firstPT=r},J=R._internals={isArray:g,isSelector:C,lazyTweens:D,blobDif:K},E=R._plugins={},l=J.tweenLookup={},V=0,W=J.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1},X={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},h=o._rootFramesTimeline=new a,_=o._rootTimeline=new a,Y=30,O=J.lazyRender=function(){var t,e=D.length;for(I={};-1<--e;)(t=D[e])&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);D.length=0},z=(_._startTime=x.time,h._startTime=x.frame,_._active=h._active=!0,setTimeout(O,1),o._updateRoot=R.render=function(){var t,e,i;if(D.length&&O(),_.render((x.time-_._startTime)*_._timeScale,!1,!1),h.render((x.frame-h._startTime)*h._timeScale,!1,!1),D.length&&O(),x.frame>=Y){for(i in Y=x.frame+(parseInt(R.autoSleep,10)||120),l){for(t=(e=l[i].tweens).length;-1<--t;)e[t]._gc&&e.splice(t,1);0===e.length&&delete l[i]}if((!(i=_._first)||i._paused)&&R.autoSleep&&!h._first&&1===x._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||x.sleep()}}},x.addEventListener("tick",o._updateRoot),function(t,e,i){var s,n,r=t._gsTweenID;if(l[r||(t._gsTweenID=r="t"+V++)]||(l[r]={target:t,tweens:[]}),e&&((s=l[r].tweens)[n=s.length]=e,i))for(;-1<--n;)s[n]===e&&s.splice(n,1);return l[r].tweens}),Z=function(t,e,i,s){var n,r,a=t.vars.onOverwrite;return a&&(n=a(t,e,i,s)),(a=R.onOverwrite)&&(r=a(t,e,i,s)),!1!==n&&!1!==r},tt=function(t,e,i,s,n){var r,a,o;if(1===s||4<=s){for(o=n.length,f=0;f<o;f++)if((a=n[f])!==e)a._gc||a._kill(null,t,e)&&(r=!0);else if(5===s)break}else{for(var l,h=e._startTime+v,_=[],u=0,c=0===e._duration,f=n.length;-1<--f;)(a=n[f])===e||a._gc||a._paused||(a._timeline!==e._timeline?(l=l||et(e,0,c),0===et(a,l,c)&&(_[u++]=a)):a._startTime<=h&&a._startTime+a.totalDuration()/a._timeScale>h&&((c||!a._initted)&&h-a._startTime<=2e-10||(_[u++]=a)));for(f=u;-1<--f;)a=_[f],2===s&&a._kill(i,t,e)&&(r=!0),(2!==s||!a._firstPT&&a._initted)&&(2===s||Z(a,e))&&a._enabled(!1,!1)&&(r=!0)}return r},et=function(t,e,i){for(var s=t._timeline,n=s._timeScale,r=t._startTime;s._timeline;){if(r+=s._startTime,n*=s._timeScale,s._paused)return-100;s=s._timeline}return e<(r/=n)?r-e:i&&r===e||!t._initted&&r-e<2*v?v:(r+=t.totalDuration()/t._timeScale/n)>e+v?0:r-e-v},F=(i._init=function(){var t,e,i,s,n,r,a=this.vars,o=this._overwrittenProps,l=this._duration,h=!!a.immediateRender,_=a.ease;if(a.startAt){for(s in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),n={},a.startAt)n[s]=a.startAt[s];if(n.overwrite=!1,n.immediateRender=!0,n.lazy=h&&!1!==a.lazy,n.startAt=n.delay=null,this._startAt=R.to(this.target,0,n),h)if(0<this._time)this._startAt=null;else if(0!==l)return}else if(a.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(s in 0!==this._time&&(h=!1),i={},a)W[s]&&"autoCSS"!==s||(i[s]=a[s]);if(i.overwrite=0,i.data="isFromStart",i.lazy=h&&!1!==a.lazy,i.immediateRender=h,this._startAt=R.to(this.target,0,i),h){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=_=_?_ instanceof w?_:"function"==typeof _?new w(_,a.easeParams):P[_]||R.defaultEase:R.defaultEase,a.easeParams instanceof Array&&_.config&&(this._ease=_.config.apply(_,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(r=this._targets.length,t=0;t<r;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],o?o[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,o,0);if(e&&R._onPluginEvent("_onInitAllProps",this),!o||this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1),a.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=a.onUpdate,this._initted=!0},i._initProps=function(t,e,i,s,n){var r,a,o,l,h,_;if(null==t)return!1;if(I[t._gsTweenID]&&O(),!this.vars.css&&t.style&&t!==p&&t.nodeType&&E.css&&!1!==this.vars.autoCSS){var u,c=this.vars,f=t,m={};for(u in c)W[u]||u in f&&"transform"!==u&&"x"!==u&&"y"!==u&&"width"!==u&&"height"!==u&&"className"!==u&&"border"!==u||!(!E[u]||E[u]&&E[u]._autoCSS)||(m[u]=c[u],delete c[u]);c.css=m}for(r in this.vars)if(_=this.vars[r],W[r])_&&(_ instanceof Array||_.push&&g(_))&&-1!==_.join("").indexOf("{self}")&&(this.vars[r]=_=this._swapSelfInParams(_,this));else if(E[r]&&(l=new E[r])._onInitTween(t,this.vars[r],this,n)){for(this._firstPT=h={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:r,pg:1,pr:l._priority,m:0},a=l._overwriteProps.length;-1<--a;)e[l._overwriteProps[a]]=this._firstPT;(l._priority||l._onInitAllProps)&&(o=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),h._next&&(h._next._prev=h)}else e[r]=H.call(this,t,r,"get",_,r,0,null,this.vars.stringFilter,n);return s&&this._kill(s,t)?this._initProps(t,e,i,s,n):1<this._overwrite&&this._firstPT&&1<i.length&&tt(t,this,e,this._overwrite,i)?(this._kill(e,t),this._initProps(t,e,i,s,n)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(I[t._gsTweenID]=!0),o)},i.render=function(t,e,i){var s,n,r,a,o,l,h,_=this._time,u=this._duration,c=this._rawPrevTime;if(u-1e-7<=t?(this._totalTime=this._time=u,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(s=!0,n="onComplete",i=i||this._timeline.autoRemoveChildren),0!==u||!this._initted&&this.vars.lazy&&!i||(this._startTime===this._timeline._duration&&(t=0),(c<0||t<=0&&-1e-7<=t||c===v&&"isPause"!==this.data)&&c!==t&&(i=!0,v<c&&(n="onReverseComplete")),this._rawPrevTime=a=!e||t||c===t?t:v)):t<1e-7?(this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==_||0===u&&0<c)&&(n="onReverseComplete",s=this._reversed),t<0&&(this._active=!1,0!==u||!this._initted&&this.vars.lazy&&!i||(0<=c&&(c!==v||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=a=!e||t||c===t?t:v)),this._initted||(i=!0)):(this._totalTime=this._time=t,this._easeType?(o=t/u,(1===(l=this._easeType)||3===l&&.5<=o)&&(o=1-o),3===l&&(o*=2),1===(h=this._easePower)?o*=o:2===h?o*=o*o:3===h?o*=o*o*o:4===h&&(o*=o*o*o*o),this.ratio=1===l?1-o:2===l?o:t/u<.5?o/2:1-o/2):this.ratio=this._ease.getRatio(t/u)),this._time!==_||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=_,this._rawPrevTime=c,D.push(this),void(this._lazy=[t,e]);this._time&&!s?this.ratio=this._ease.getRatio(this._time/u):s&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==_&&0<=t&&(this._active=!0),0===_&&(this._startAt&&(0<=t?this._startAt.render(t,e,i):n=n||"_dummyGS"),!this.vars.onStart||0===this._time&&0!==u||e||this._callback("onStart")),r=this._firstPT;r;)r.f?r.t[r.p](r.c*this.ratio+r.s):r.t[r.p]=r.c*this.ratio+r.s,r=r._next;this._onUpdate&&(t<0&&this._startAt&&-1e-4!==t&&this._startAt.render(t,e,i),e||(this._time!==_||s||i)&&this._callback("onUpdate")),!n||this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,e,i),s&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[n]&&this._callback(n),0===u&&this._rawPrevTime===v&&a!==v&&(this._rawPrevTime=0))}},i._kill=function(t,e,i){if(null==(t="all"===t?null:t)&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:R.selector(e)||e;var s,n,r,a,o,l,h,_,u,c=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((g(e)||C(e))&&"number"!=typeof e[0])for(s=e.length;-1<--s;)this._kill(t,e[s],i)&&(l=!0);else{if(this._targets){for(s=this._targets.length;-1<--s;)if(e===this._targets[s]){o=this._propLookup[s]||{},this._overwrittenProps=this._overwrittenProps||[],n=this._overwrittenProps[s]=t?this._overwrittenProps[s]||{}:"all";break}}else{if(e!==this.target)return!1;o=this._propLookup,n=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(o){if(h=t||o,_=t!==n&&"all"!==n&&t!==o&&("object"!=typeof t||!t._tempKill),i&&(R.onOverwrite||this.vars.onOverwrite)){for(r in h)o[r]&&(u=u||[]).push(r);if((u||!t)&&!Z(this,i,e,u))return!1}for(r in h)(a=o[r])&&(c&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,l=!0),a.pg&&a.t._kill(h)&&(l=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete o[r]),_&&(n[r]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},i.invalidate=function(){return this._notifyPluginsOfEnabled&&R._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],o.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-v,this.render(Math.min(0,-this._delay))),this},i._enabled=function(t,e){if(d||x.wake(),t&&this._gc){var i,s=this._targets;if(s)for(i=s.length;-1<--i;)this._siblings[i]=z(s[i],this,!0);else this._siblings=z(this.target,this,!0)}return o.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&R._onPluginEvent(t?"_onEnable":"_onDisable",this)},R.to=function(t,e,i){return new R(t,e,i)},R.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new R(t,e,i)},R.fromTo=function(t,e,i,s){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,new R(t,e,s)},R.delayedCall=function(t,e,i,s,n){return new R(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:s,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:n,overwrite:0})},R.set=function(t,e){return new R(t,0,e)},R.getTweensOf=function(t,e){if(null==t)return[];var i,s,n,r;if(t="string"==typeof t&&R.selector(t)||t,(g(t)||C(t))&&"number"!=typeof t[0]){for(i=t.length,s=[];-1<--i;)s=s.concat(R.getTweensOf(t[i],e));for(i=s.length;-1<--i;)for(r=s[i],n=i;-1<--n;)r===s[n]&&s.splice(i,1)}else for(i=(s=z(t).concat()).length;-1<--i;)(s[i]._gc||e&&!s[i].isActive())&&s.splice(i,1);return s},R.killTweensOf=R.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var s=R.getTweensOf(t,e),n=s.length;-1<--n;)s[n]._kill(i,t)},y("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=F.prototype},!0));if(i=F.prototype,F.version="1.19.0",F.API=2,i._firstPT=null,i._addTween=H,i.setRatio=$,i._kill=function(t){var e,i=this._overwriteProps,s=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;-1<--e;)null!=t[i[e]]&&i.splice(e,1);for(;s;)null!=t[s.n]&&(s._next&&(s._next._prev=s._prev),s._prev?(s._prev._next=s._next,s._prev=null):this._firstPT===s&&(this._firstPT=s._next)),s=s._next;return!1},i._mod=i._roundProps=function(t){for(var e,i=this._firstPT;i;)(e=t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&"function"==typeof e&&(2===i.f?i.t._applyPT.m=e:i.m=e),i=i._next},R._onPluginEvent=function(t,e){var i,s,n,r,a,o=e._firstPT;if("_onInitAllProps"===t){for(;o;){for(a=o._next,s=n;s&&s.pr>o.pr;)s=s._next;(o._prev=s?s._prev:r)?o._prev._next=o:n=o,(o._next=s)?s._prev=o:r=o,o=a}o=e._firstPT=n}for(;o;)o.pg&&"function"==typeof o.t[t]&&o.t[t]()&&(i=!0),o=o._next;return i},F.activate=function(t){for(var e=t.length;-1<--e;)t[e].API===F.API&&(E[(new t[e])._propName]=t[e]);return!0},s.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,s=t.priority||0,n=t.overwriteProps,r={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=y("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){F.call(this,i,s),this._overwriteProps=n||[]},!0===t.global),o=a.prototype=new F(i);for(e in(o.constructor=a).API=t.API,r)"function"==typeof t[e]&&(o[r[e]]=t[e]);return a.version=t.version,F.activate([a]),a},n=p._gsQueue){for(r=0;r<n.length;r++)n[r]();for(i in T)T[i].func||p.console.log("GSAP encountered missing dependency: "+i)}d=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenLite");
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("easing.Back",["easing.Ease"],function(w){function t(t,n){var e=(t=c("easing."+t,function(){},!0)).prototype=new w;return e.constructor=t,e.getRatio=n,t}function n(t,n,e,i,o){return n=c("easing."+t,{easeOut:new n,easeIn:new e,easeInOut:new i},!0),a(n,t),n}function M(t,n,e){this.t=t,this.v=n,e&&(((this.next=e).prev=this).c=e.v-n,this.gap=e.t-t)}function e(t,n){var e=c("easing."+t,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0);return(t=e.prototype=new w).constructor=e,t.getRatio=n,t.config=function(t){return new e(t)},e}var i,o,s=_gsScope.GreenSockGlobals||_gsScope,r=s.com.greensock,u=2*Math.PI,p=Math.PI/2,c=r._class,a=w.register||function(){},r=n("Back",e("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),e("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),e("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),h=c("easing.SlowMo",function(t,n,e){n=n||0===n?n:.7,null==t?t=.7:1<t&&(t=1),this._p=1!==t?n:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===e},!0),f=h.prototype=new w;return f.constructor=h,f.getRatio=function(t){var n=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:n-(t=1-t/this._p1)*t*t*t*n:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:n+(t-n)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:n},h.ease=new h(.7,.7),f.config=h.config=function(t,n,e){return new h(t,n,e)},(f=(i=c("easing.SteppedEase",function(t){this._p1=1/(t=t||1),this._p2=t+1},!0)).prototype=new w).constructor=i,f.getRatio=function(t){return t<0?t=0:1<=t&&(t=.999999999),(this._p2*t>>0)*this._p1},f.config=i.config=function(t){return new i(t)},(f=(o=c("easing.RoughEase",function(t){for(var n,e,i,o,s,r,u=(t=t||{}).taper||"none",p=[],c=0,a=0|(t.points||20),h=a,f=!1!==t.randomize,_=!0===t.clamp,g=t.template instanceof w?t.template:null,l="number"==typeof t.strength?.4*t.strength:.4;-1<--h;)n=f?Math.random():1/a*h,e=g?g.getRatio(n):n,i="none"===u?l:"out"===u?(o=1-n)*o*l:"in"===u?n*n*l:n<.5?(o=2*n)*o*.5*l:(o=2*(1-n))*o*.5*l,f?e+=Math.random()*i-.5*i:h%2?e+=.5*i:e-=.5*i,_&&(1<e?e=1:e<0&&(e=0)),p[c++]={x:n,y:e};for(p.sort(function(t,n){return t.x-n.x}),r=new M(1,1,null),h=a;-1<--h;)s=p[h],r=new M(s.x,s.y,r);this._prev=new M(0,0,0!==r.t?r:r.next)},!0)).prototype=new w).constructor=o,f.getRatio=function(t){var n=this._prev;if(t>n.t){for(;n.next&&t>=n.t;)n=n.next;n=n.prev}else for(;n.prev&&t<=n.t;)n=n.prev;return(this._prev=n).v+(t-n.t)/n.gap*n.c},f.config=function(t){return new o(t)},o.ease=new o,n("Bounce",t("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),t("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),t("BounceInOut",function(t){var n=t<.5;return(t=n?1-2*t:2*t-1)<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,n?.5*(1-t):.5*t+.5})),n("Circ",t("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),t("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),t("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),n("Elastic",(f=function(t,n,e){var i=c("easing."+t,function(t,n){this._p1=1<=t?t:1,this._p2=(n||e)/(t<1?t:1),this._p3=this._p2/u*(Math.asin(1/this._p1)||0),this._p2=u/this._p2},!0),t=i.prototype=new w;return t.constructor=i,t.getRatio=n,t.config=function(t,n){return new i(t,n)},i})("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),f("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*--t)*Math.sin((t-this._p3)*this._p2))},.3),f("ElasticInOut",function(t){return(t*=2)<1?this._p1*Math.pow(2,10*--t)*Math.sin((t-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*--t)*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),n("Expo",t("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),t("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),t("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),n("Sine",t("SineOut",function(t){return Math.sin(t*p)}),t("SineIn",function(t){return 1-Math.cos(t*p)}),t("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),c("easing.EaseLookup",{find:function(t){return w.map[t]}},!0),a(s.SlowMo,"SlowMo","ease,"),a(o,"RoughEase","ease,"),a(i,"SteppedEase","ease,"),r},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(){"use strict";function t(){return _gsScope.GreenSockGlobals||_gsScope}"function"==typeof define&&define.amd?define(["TweenLite"],t):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=t())}();
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(a,R){function F(){a.call(this,"css"),this._overwriteProps.length=0,this.setRatio=F.prototype.setRatio}function o(t,e){return e.toUpperCase()}function l(t){return z.createElementNS?z.createElementNS("http://www.w3.org/1999/xhtml",t):z.createElement(t)}function f(t){return rt.test("string"==typeof t?t:(t.currentStyle||t.style).filter||"")?parseFloat(RegExp.$1)/100:1}function g(t){window.console&&console.log(t)}function v(t,e){var r,i,s=(e=e||N).style;if(void 0!==s[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),r=["O","Moz","ms","Ms","Webkit"],i=5;-1<--i&&void 0===s[r[i]+t];);return 0<=i?(dt="-"+(gt=3===i?"ms":r[i]).toLowerCase()+"-",gt+t):null}function c(t,e){var r,i,s={};if(e=e||d(t,null))if(r=e.length)for(;-1<--r;)-1!==(i=e[r]).indexOf("-transform")&&jt!==i||(s[i.replace(ot,o)]=e.getPropertyValue(i));else for(r in e)-1!==r.indexOf("Transform")&&E!==r||(s[r]=e[r]);else if(e=t.currentStyle||t.style)for(r in e)"string"==typeof r&&void 0===s[r]&&(s[r.replace(ot,o)]=e[r]);return B||(s.opacity=f(t)),t=qt(t,e,!1),s.rotation=t.rotation,s.skewX=t.skewX,s.scaleX=t.scaleX,s.scaleY=t.scaleY,s.x=t.x,s.y=t.y,q&&(s.z=t.z,s.rotationX=t.rotationX,s.rotationY=t.rotationY,s.scaleZ=t.scaleZ),s.filters&&delete s.filters,s}function y(t,e,r,i,s){var n,a,o,l={},f=t.style;for(a in r)"cssText"===a||"length"!==a&&isNaN(a)&&(e[a]!==(n=r[a])||s&&s[a])&&-1===a.indexOf("Origin")&&("number"==typeof n||"string"==typeof n)&&(l[a]="auto"!==n||"left"!==a&&"top"!==a?""!==n&&"auto"!==n&&"none"!==n||"string"!=typeof e[a]||""===e[a].replace(tt,"")?n:0:yt(t,a),void 0!==f[a]&&(o=new Pt(f,a,f[a],o)));if(i)for(a in i)"className"!==a&&(l[a]=i[a]);return{difs:l,firstMPT:o}}function M(t,e){return"string"==typeof(t="function"==typeof t?t(X,k):t)&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0}function w(t,e){return null==(t="function"==typeof t?t(X,k):t)?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0}function P(t,e,r,i){var s,n,a;return n=(n=null==(t="function"==typeof t?t(X,k):t)?e:"number"==typeof t?t:(s=360,n=t.split("_"),a=((a="="===t.charAt(1))?parseInt(t.charAt(0)+"1",10)*parseFloat(n[0].substr(2)):parseFloat(n[0]))*(-1===t.indexOf("rad")?1:C)-(a?0:e),n.length&&(i&&(i[r]=e+a),-1!==t.indexOf("short")&&(a%=s)!==a%180&&(a=a<0?a+s:a-s),-1!==t.indexOf("_cw")&&a<0?a=(a+3599999999640)%s-(a/s|0)*s:-1!==t.indexOf("ccw")&&0<a&&(a=(a-3599999999640)%s-(a/s|0)*s)),e+a))<1e-6&&-1e-6<n?0:n}function p(t,e,r){return 255*(6*(t=t<0?t+1:1<t?t-1:t)<1?e+(r-e)*t*6:t<.5?r:3*t<2?e+(r-e)*(2/3-t)*6:e)+.5|0}function h(t,e){for(var r,i,s=t.match(I)||[],n=0,a=s.length?"":t,o=0;o<s.length;o++)r=s[o],n+=(i=t.substr(n,t.indexOf(r,n)-n)).length+r.length,3===(r=Ot(r,e)).length&&r.push(1),a+=i+(e?"hsla("+r[0]+","+r[1]+"%,"+r[2]+"%,"+r[3]:"rgba("+r.join(","))+")";return a+t.substr(n)}var u,$,T,m,H,_,b,G,U,O,k,X,Q=_gsScope._gsDefine.globals,x={},t=F.prototype=new a("css"),S=((t.constructor=F).version="1.19.0",F.API=2,F.defaultTransformPerspective=0,F.defaultSkewType="compensated",F.defaultSmoothOrigin=!0,F.suffixMap={top:t="px",right:t,bottom:t,left:t,width:t,height:t,fontSize:t,padding:t,margin:t,perspective:t,lineHeight:""},/(?:\-|\.|\b)(\d|\.|e\-)+/g),J=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,K=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,tt=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,et=/(?:\d|\-|\+|=|#|\.)*/g,rt=/opacity *= *([^)]*)/i,it=/opacity:([^;]*)/i,st=/alpha\(opacity *=.+?\)/i,nt=/^(rgb|hsl)/,at=/([A-Z])/g,ot=/-([a-z])/gi,lt=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,ft=/(?:Left|Right|Width)/i,pt=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,ht=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,Y=/,(?=[^\)]*(?:\(|$))/gi,ct=/[\s,\(]/i,A=Math.PI/180,C=180/Math.PI,ut={},z=document,N=l("div"),xt=l("img"),e=F._internals={_specialProps:x},r=navigator.userAgent,B=(s=r.indexOf("Android"),i=l("a"),b=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome")&&(-1===s||3<Number(r.substr(s+8,1))),U=b&&Number(r.substr(r.indexOf("Version/")+8,1))<6,G=-1!==r.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(r)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(r))&&(O=parseFloat(RegExp.$1)),!!i&&(i.style.cssText="top:1px;opacity:.55;",/^0.55/.test(i.style.opacity))),dt="",gt="",d=z.defaultView?z.defaultView.getComputedStyle:function(){},j=F.getStyle=function(t,e,r,i,s){var n;return B||"opacity"!==e?(!i&&t.style[e]?n=t.style[e]:(r=r||d(t))?n=r[e]||r.getPropertyValue(e)||r.getPropertyValue(e.replace(at,"-$1").toLowerCase()):t.currentStyle&&(n=t.currentStyle[e]),null==s||n&&"none"!==n&&"auto"!==n&&"auto auto"!==n?n:s):f(t)},V=e.convertToPixels=function(t,e,r,i,s){if("px"===i||!i)return r;if("auto"===i||!r)return 0;var n,a,o,l=ft.test(e),f=t,p=N.style,h=r<0,c=1===r;if(h&&(r=-r),c&&(r*=100),"%"===i&&-1!==e.indexOf("border"))n=r/100*(l?t.clientWidth:t.clientHeight);else{if(p.cssText="border:0 solid red;position:"+j(t,"position")+";line-height:0;","%"!==i&&f.appendChild&&"v"!==i.charAt(0)&&"rem"!==i)p[l?"borderLeftWidth":"borderTopWidth"]=r+i;else{if(a=(f=t.parentNode||z.body)._gsCache,o=R.ticker.frame,a&&l&&a.time===o)return a.width*r/100;p[l?"width":"height"]=r+i}f.appendChild(N),n=parseFloat(N[l?"offsetWidth":"offsetHeight"]),f.removeChild(N),l&&"%"===i&&!1!==F.cacheWidths&&((a=f._gsCache=f._gsCache||{}).time=o,a.width=n/r*100),0!==n||s||(n=V(t,e,r,i,!0))}return c&&(n/=100),h?-n:n},yt=e.calculateOffset=function(t,e,r){var i;return"absolute"!==j(t,"position",r)?0:(r=j(t,"margin"+(i="left"===e?"Left":"Top"),r),t["offset"+i]-(V(t,e,parseFloat(r),r.replace(et,""))||0))},mt={width:["Left","Right"],height:["Top","Bottom"]},_t=["marginLeft","marginRight","marginTop","marginBottom"],L=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";var r,i=(t=null!=t&&""!==t?t:"0 0").split(" "),s=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],n=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];if(3<i.length&&!e){for(i=t.split(", ").join(",").split(","),t=[],r=0;r<i.length;r++)t.push(L(i[r]));return t.join(",")}return null==n?n="center"===s?"50%":"0":"center"===n&&(n="50%"),t=(s="center"===s||isNaN(parseFloat(s))&&-1===(s+"").indexOf("=")?"50%":s)+" "+n+(2<i.length?" "+i[2]:""),e&&(e.oxp=-1!==s.indexOf("%"),e.oyp=-1!==n.indexOf("%"),e.oxr="="===s.charAt(1),e.oyr="="===n.charAt(1),e.ox=parseFloat(s.replace(tt,"")),e.oy=parseFloat(n.replace(tt,"")),e.v=t),e||t},bt={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},Ot=F.parseColor=function(t,e){var r,i,s,n,a,o,l,f;if(t)if("number"==typeof t)r=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),bt[t])r=bt[t];else if("#"===t.charAt(0))4===t.length&&(t="#"+(i=t.charAt(1))+i+(s=t.charAt(2))+s+(n=t.charAt(3))+n),r=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(r=f=t.match(S),e){if(-1!==t.indexOf("="))return t.match(J)}else a=Number(r[0])%360/360,o=Number(r[1])/100,i=2*(l=Number(r[2])/100)-(s=l<=.5?l*(o+1):l+o-l*o),3<r.length&&(r[3]=Number(t[3])),r[0]=p(a+1/3,i,s),r[1]=p(a,i,s),r[2]=p(a-1/3,i,s);else r=t.match(S)||bt.transparent;r[0]=Number(r[0]),r[1]=Number(r[1]),r[2]=Number(r[2]),3<r.length&&(r[3]=Number(r[3]))}else r=bt.black;return e&&!f&&(i=r[0]/255,s=r[1]/255,n=r[2]/255,l=((t=Math.max(i,s,n))+(e=Math.min(i,s,n)))/2,t===e?a=o=0:(f=t-e,o=.5<l?f/(2-t-e):f/(t+e),a=t===i?(s-n)/f+(s<n?6:0):t===s?(n-i)/f+2:(i-s)/f+4,a*=60),r[0]=a+.5|0,r[1]=100*o+.5|0,r[2]=100*l+.5|0),r},I="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(t in bt)I+="|"+t+"\\b";I=new RegExp(I+")","gi"),F.colorStringFilter=function(t){var e=t[0]+t[1];I.test(e)&&(e=-1!==e.indexOf("hsl(")||-1!==e.indexOf("hsla("),t[0]=h(t[0],e),t[1]=h(t[1],e)),I.lastIndex=0},R.defaultStringFilter||(R.defaultStringFilter=F.colorStringFilter);function vt(t,e,n,a){var o,l,f,p,h,c,u,x;return null==t?function(t){return t}:(o=e?(t.match(I)||[""])[0]:"",l=t.split(o).join("").match(K)||[],f=t.substr(0,t.indexOf(l[0])),p=")"===t.charAt(t.length-1)?")":"",h=-1!==t.indexOf(" ")?" ":",",c=l.length,u=0<c?l[0].replace(S,""):"",c?x=e?function(t){var e,r,i,s;if("number"==typeof t)t+=u;else if(a&&Y.test(t)){for(s=t.replace(Y,"|").split("|"),i=0;i<s.length;i++)s[i]=x(s[i]);return s.join(",")}if(e=(t.match(I)||[o])[0],i=(r=t.split(e).join("").match(K)||[]).length,c>i--)for(;++i<c;)r[i]=n?r[(i-1)/2|0]:l[i];return f+r.join(h)+h+e+p+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,r,i;if("number"==typeof t)t+=u;else if(a&&Y.test(t)){for(r=t.replace(Y,"|").split("|"),i=0;i<r.length;i++)r[i]=x(r[i]);return r.join(",")}if(i=(e=t.match(K)||[]).length,c>i--)for(;++i<c;)e[i]=n?e[(i-1)/2|0]:l[i];return f+e.join(h)+p}:function(t){return t})}function wt(f){return f=f.split(","),function(t,e,r,i,s,n,a){var o,l=(e+"").split(" ");for(a={},o=0;o<4;o++)a[f[o]]=l[o]=l[o]||l[(o-1)/2>>0];return i.parse(t,a,s,n)}}function Pt(t,e,r,i,s){this.t=t,this.p=e,this.v=r,this.r=s,i&&((i._prev=this)._next=i)}e._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,r,i,s,n,a=this.data,o=a.proxy,l=a.firstMPT;l;)e=o[l.v],l.r?e=Math.round(e):e<1e-6&&-1e-6<e&&(e=0),l.t[l.p]=e,l=l._next;if(a.autoRotate&&(a.autoRotate.rotation=a.mod?a.mod(o.rotation,this.t):o.rotation),1===t||0===t)for(l=a.firstMPT,n=1===t?"e":"b";l;){if((r=l.t).type){if(1===r.type){for(s=r.xs0+r.s+r.xs1,i=1;i<r.l;i++)s+=r["xn"+i]+r["xs"+(i+1)];r[n]=s}}else r[n]=r.s+r.xs0;l=l._next}},e._parseToProxy=function(t,e,r,i,s,n){var a,o,l,f,p=i,h={},c={},u=r._transform,x=ut;for(r._transform=null,ut=e,i=t=r.parse(t,e,i,s),ut=x,n&&(r._transform=u,p&&(p._prev=null,p._prev&&(p._prev._next=null)));i&&i!==p;){if(i.type<=1&&(c[o=i.p]=i.s+i.c,h[o]=i.s,n||(f=new Pt(i,"s",o,f,i.r),i.c=0),1===i.type))for(a=i.l;0<--a;)c[o=i.p+"_"+(l="xn"+a)]=i.data[l],h[o]=i[l],n||(f=new Pt(i,l,o,f,i.rxp[l]));i=i._next}return{proxy:h,end:c,firstMPT:f,pt:t}};function Tt(t,e,r,i,s,n){return(t=new D(t,e,r,i-r,s,-1,n)).b=r,t.e=t.xs0=i,t}var D=e.CSSPropTween=function(t,e,r,i,s,n,a,o,l,f,p){this.t=t,this.p=e,this.s=r,this.c=i,this.n=a||e,t instanceof D||m.push(this.n),this.r=o,this.type=n||0,l&&(this.pr=l,u=!0),this.b=void 0===f?r:f,this.e=void 0===p?r+i:p,s&&((this._next=s)._prev=this)},Mt=F.parseComplex=function(t,e,r,i,s,n,a,o,l,f){r=r||n||"","function"==typeof i&&(i=i(X,k)),a=new D(t,e,0,0,a,f?2:1,null,!1,o,r,i),i+="",s&&I.test(i+r)&&(F.colorStringFilter(i=[r,i]),r=i[0],i=i[1]);var p,h,c,u,x,d,g,y,m,_,b,O,v=r.split(", ").join(",").split(" "),w=i.split(", ").join(",").split(" "),P=v.length,T=!1!==H;for(-1===i.indexOf(",")&&-1===r.indexOf(",")||(v=v.join(" ").replace(Y,", ").split(" "),w=w.join(" ").replace(Y,", ").split(" "),P=v.length),P!==w.length&&(P=(v=(n||"").split(" ")).length),a.plugin=l,a.setRatio=f,p=I.lastIndex=0;p<P;p++)if(u=v[p],x=w[p],(O=parseFloat(u))||0===O)a.appendXtra("",O,M(x,O),x.replace(J,""),T&&-1!==x.indexOf("px"),!0);else if(s&&I.test(u))b=")"+((b=x.indexOf(")")+1)?x.substr(b):""),O=-1!==x.indexOf("hsl")&&B,u=Ot(u,O),x=Ot(x,O),(y=6<u.length+x.length)&&!B&&0===x[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(w[p]).join("transparent")):(B||(y=!1),O?a.appendXtra(y?"hsla(":"hsl(",u[0],M(x[0],u[0]),",",!1,!0).appendXtra("",u[1],M(x[1],u[1]),"%,",!1).appendXtra("",u[2],M(x[2],u[2]),y?"%,":"%"+b,!1):a.appendXtra(y?"rgba(":"rgb(",u[0],x[0]-u[0],",",!0,!0).appendXtra("",u[1],x[1]-u[1],",",!0).appendXtra("",u[2],x[2]-u[2],y?",":b,!0),y&&(u=u.length<4?1:u[3],a.appendXtra("",u,(x.length<4?1:x[3])-u,b,!1))),I.lastIndex=0;else if(d=u.match(S)){if(!(g=x.match(J))||g.length!==d.length)return a;for(h=c=0;h<d.length;h++)_=d[h],m=u.indexOf(_,c),a.appendXtra(u.substr(c,m-c),Number(_),M(g[h],_),"",T&&"px"===u.substr(m+_.length,2),0===h),c=m+_.length;a["xs"+a.l]+=u.substr(c)}else a["xs"+a.l]+=a.l||a["xs"+a.l]?" "+x:x;if(-1!==i.indexOf("=")&&a.data){for(b=a.xs0+a.data.s,p=1;p<a.l;p++)b+=a["xs"+p]+a.data["xn"+p];a.e=b+a["xs"+p]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},W=9;for((t=D.prototype).l=t.pr=0;0<--W;)t["xn"+W]=0,t["xs"+W]="";t.xs0="",t._next=t._prev=t.xfirst=t.data=t.plugin=t.setRatio=t.rxp=null,t.appendXtra=function(t,e,r,i,s,n){var a=this,o=a.l;return a["xs"+o]+=n&&(o||a["xs"+o])?" "+t:t||"",r||0===o||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=i||"",0<o?(a.data["xn"+o]=e+r,a.rxp["xn"+o]=s,a["xn"+o]=e,a.plugin||(a.xfirst=new D(a,"xn"+o,e,r,a.xfirst||a,0,a.n,s,a.pr),a.xfirst.xs0=0)):(a.data={s:e+r},a.rxp={},a.s=e,a.c=r,a.r=s)):a["xs"+o]+=e+(i||""),a};function kt(t,e){this.p=(e=e||{}).prefix&&v(t)||t,(x[t]=x[this.p]=this).format=e.formatter||vt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0}function Xt(t,e,r){var i,s=z.createElementNS("http://www.w3.org/2000/svg",t),n=/([a-z])([A-Z])/g;for(i in r)s.setAttributeNS(null,i.replace(n,"$1-$2").toLowerCase(),r[i]);return e.appendChild(s),s}function St(t,e,r,i,s,n){var a,o,l,f,p,h,c,u,x,d,g=t._gsTransform,y=Rt(t,!0);g&&(x=g.xOrigin,d=g.yOrigin),(!i||(a=i.split(" ")).length<2)&&(f=t.getBBox(),a=[(-1!==(e=L(e).split(" "))[0].indexOf("%")?parseFloat(e[0])/100*f.width:parseFloat(e[0]))+f.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*f.height:parseFloat(e[1]))+f.y]),r.xOrigin=e=parseFloat(a[0]),r.yOrigin=l=parseFloat(a[1]),i&&y!==Et&&(i=y[0],f=y[1],p=y[2],h=y[3],c=y[4],o=e*(-f/(u=i*h-f*p))+l*(i/u)-(i*(i=y[5])-f*c)/u,e=r.xOrigin=a[0]=p=e*(h/u)+l*(-p/u)+(p*i-h*c)/u,l=r.yOrigin=a[1]=o),g&&(n&&(r.xOffset=g.xOffset,r.yOffset=g.yOffset,g=r),s||!1!==s&&!1!==F.defaultSmoothOrigin?(g.xOffset+=(p=e-x)*y[0]+(o=l-d)*y[2]-p,g.yOffset+=p*y[1]+o*y[3]-o):g.xOffset=g.yOffset=0),n||t.setAttribute("data-svg-origin",a.join(" "))}function Rt(t,e){var r,i,s,n,a,o,l=t._gsTransform||new Lt,f=t.style;if(E?i=j(t,jt,null,!0):t.currentStyle&&(i=(i=t.currentStyle.filter.match(pt))&&4===i.length?[i[0].substr(4),Number(i[2].substr(4)),Number(i[1].substr(4)),i[3].substr(4),l.x||0,l.y||0].join(","):""),(r=!i||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i)&&E&&((o="none"===d(t).display)||!t.parentNode)&&(o&&(n=f.display,f.display="block"),t.parentNode||(a=1,Dt.appendChild(t)),r=!(i=j(t,jt,null,!0))||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,n?f.display=n:o&&Ht(f,"display"),a&&Dt.removeChild(t)),(l.svg||t.getBBox&&Zt(t))&&(r&&-1!==(f[E]+"").indexOf("matrix")&&(i=f[E],r=0),s=t.getAttribute("transform"),r&&s&&(-1!==s.indexOf("matrix")?(i=s,r=0):-1!==s.indexOf("translate")&&(i="matrix(1,0,0,1,"+s.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",r=0))),r)return Et;for(s=(i||"").match(S)||[],W=s.length;-1<--W;)n=Number(s[W]),s[W]=(a=n-(n|=0))?(1e5*a+(a<0?-.5:.5)|0)/1e5+n:n;return e&&6<s.length?[s[0],s[1],s[4],s[5],s[12],s[13]]:s}function Ft(t){var e,r=this.data,i=(a=-r.rotation*A)+r.skewX*A,s=1e5,n=(Math.cos(a)*r.scaleX*s|0)/s,a=(Math.sin(a)*r.scaleX*s|0)/s,o=(Math.sin(i)*-r.scaleY*s|0)/s,i=(Math.cos(i)*r.scaleY*s|0)/s,l=this.t.style,f=this.t.currentStyle;if(f){e=a,a=-o,o=-e,s=f.filter,l.filter="";var p=this.t.offsetWidth,h=this.t.offsetHeight,c="absolute"!==f.position,u="progid:DXImageTransform.Microsoft.Matrix(M11="+n+", M12="+a+", M21="+o+", M22="+i,x=r.x+p*r.xPercent/100,d=r.y+h*r.yPercent/100;if(null!=r.ox&&(x+=(_=(r.oxp?p*r.ox*.01:r.ox)-p/2)-(_*n+(b=(r.oyp?h*r.oy*.01:r.oy)-h/2)*a),d+=b-(_*o+b*i)),u+=c?", Dx="+((_=p/2)-(_*n+(b=h/2)*a)+x)+", Dy="+(b-(_*o+b*i)+d)+")":", sizingMethod='auto expand')",-1!==s.indexOf("DXImageTransform.Microsoft.Matrix(")?l.filter=s.replace(ht,u):l.filter=u+" "+s,0!==t&&1!==t||1!=n||0!=a||0!=o||1!=i||c&&-1===u.indexOf("Dx=0, Dy=0")||rt.test(s)&&100!==parseFloat(RegExp.$1)||-1===s.indexOf(s.indexOf("Alpha"))&&l.removeAttribute("filter"),!c){var g,y,m=O<8?1:-1,_=r.ieOffsetX||0,b=r.ieOffsetY||0;for(r.ieOffsetX=Math.round((p-((n<0?-n:n)*p+(a<0?-a:a)*h))/2+x),r.ieOffsetY=Math.round((h-((i<0?-i:i)*h+(o<0?-o:o)*p))/2+d),W=0;W<4;W++)y=(e=-1!==(y=f[g=_t[W]]).indexOf("px")?parseFloat(y):V(this.t,g,parseFloat(y),y.replace(et,""))||0)!==r[g]?W<2?-r.ieOffsetX:-r.ieOffsetY:W<2?_-r.ieOffsetX:b-r.ieOffsetY,l[g]=(r[g]=Math.round(e-y*(0===W||2===W?1:m)))+"px"}}}function Yt(t){var e,r=this.t,i=r.filter||j(this.data,"filter")||"",t=this.s+this.c*t|0;(e=100==t?-1===i.indexOf("atrix(")&&-1===i.indexOf("radient(")&&-1===i.indexOf("oader(")?(r.removeAttribute("filter"),!j(this.data,"filter")):(r.filter=i.replace(st,""),!0):e)||(this.xn1&&(r.filter=i=i||"alpha(opacity="+t+")"),-1===i.indexOf("pacity")?0==t&&this.xn1||(r.filter=i+" alpha(opacity="+t+")"):r.filter=i.replace(rt,"opacity="+t))}function At(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,r=this.t.style;e;)e.v?r[e.p]=e.v:Ht(r,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)}function Ct(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,r,i,s,n=this.t.style,a=x.transform.parse;if("all"===this.e)s=!(n.cssText="");else for(i=(e=this.e.split(" ").join("").split(",")).length;-1<--i;)r=e[i],x[r]&&(x[r].parse===a?s=!0:r="transformOrigin"===r?Vt:x[r].p),Ht(n,r);s&&(Ht(n,E),(t=this.t._gsTransform)&&(t.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}}var Z,i,zt,s,n=e._registerComplexSpecialProp=function(t,e,r){"object"!=typeof e&&(e={parser:r});var i,s=t.split(","),n=e.defaultValue;for(r=r||[n],i=0;i<s.length;i++)e.prefix=0===i&&e.prefix,e.defaultValue=r[i]||n,new kt(s[i],e)},Nt=e._registerPluginProp=function(t){var l;x[t]||(l=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin",n(t,{parser:function(t,e,r,i,s,n,a){var o=Q.com.greensock.plugins[l];return o?(o._cssRegister(),x[r].parse(t,e,r,i,s,n,a)):(g("Error: "+l+" js file not loaded."),s)}}))},Bt=((t=kt.prototype).parseComplex=function(t,e,r,i,s,n){var a,o,l,f,p,h,c=this.keyword;if(this.multi&&(Y.test(r)||Y.test(e)?(o=e.replace(Y,"|").split("|"),l=r.replace(Y,"|").split("|")):c&&(o=[e],l=[r])),l){for(f=(l.length>o.length?l:o).length,a=0;a<f;a++)e=o[a]=o[a]||this.dflt,r=l[a]=l[a]||this.dflt,c&&(p=e.indexOf(c))!==(h=r.indexOf(c))&&(-1===h?o[a]=o[a].split(c).join(""):-1===p&&(o[a]+=" "+c));e=o.join(", "),r=l.join(", ")}return Mt(t,this.p,e,r,this.clrs,this.dflt,i,this.pr,s,n)},t.parse=function(t,e,r,i,s,n,a){return this.parseComplex(t.style,this.format(j(t,this.p,T,!1,this.dflt)),this.format(e),s,n)},F.registerSpecialProp=function(t,o,l){n(t,{parser:function(t,e,r,i,s,n,a){s=new D(t,r,0,0,s,2,r,!1,l);return s.plugin=n,s.setRatio=o(t,e,i._tween,r),s},priority:l})},F.useSVGTransformAttr=b||G,"scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(",")),E=v("transform"),jt=dt+"transform",Vt=v("transformOrigin"),q=null!==v("perspective"),Lt=e.Transform=function(){this.perspective=parseFloat(F.defaultTransformPerspective)||0,this.force3D=!1!==F.defaultForce3D&&q&&(F.defaultForce3D||"auto")},It=window.SVGElement,Dt=z.documentElement,Wt=(s=O||/Android/i.test(r)&&!window.chrome,z.createElementNS&&!s&&(i=Xt("svg",Dt),zt=(r=Xt("rect",i,{width:100,height:50,x:100})).getBoundingClientRect().width,r.style[Vt]="50% 50%",r.style[E]="scaleX(0.5)",s=zt===r.getBoundingClientRect().width&&!(G&&q),Dt.removeChild(i)),s),Zt=function(t){return!!(It&&t.getBBox&&t.getCTM&&function(t){try{return t.getBBox()}catch(t){}}(t)&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},Et=[1,0,0,1,0,0],qt=e.getTransform=function(t,e,r,i){if(t._gsTransform&&r&&!i)return t._gsTransform;var s,n,a,o,l,f,p,h,c,u,x,d,g,y,m,_,b,O,v,w,P,T,M=r&&t._gsTransform||new Lt,k=M.scaleX<0,X=q&&(parseFloat(j(t,Vt,e,!1,"0 0 0").split(" ")[2])||M.zOrigin)||0,S=parseFloat(F.defaultTransformPerspective)||0;if(M.svg=!(!t.getBBox||!Zt(t)),M.svg&&(St(t,j(t,Vt,e,!1,"50% 50%")+"",M,t.getAttribute("data-svg-origin")),Z=F.useSVGTransformAttr||Wt),(e=Rt(t))!==Et)for(s in 16===e.length?(n=e[0],a=e[1],o=e[2],v=e[3],l=e[4],f=e[5],p=e[6],O=e[7],w=e[8],h=e[9],c=e[10],u=e[12],x=e[13],d=e[14],g=e[11],y=Math.atan2(p,c),M.zOrigin&&(u=w*(d=-M.zOrigin)-e[12],x=h*d-e[13],d=c*d+M.zOrigin-e[14]),M.rotationX=y*C,y&&(P=l*(_=Math.cos(-y))+w*(b=Math.sin(-y)),m=f*_+h*b,T=p*_+c*b,w=l*-b+w*_,h=f*-b+h*_,c=p*-b+c*_,g=O*-b+g*_,l=P,f=m,p=T),y=Math.atan2(-o,c),M.rotationY=y*C,y&&(m=a*(_=Math.cos(-y))-h*(b=Math.sin(-y)),T=o*_-c*b,h=a*b+h*_,c=o*b+c*_,g=v*b+g*_,n=P=n*_-w*b,a=m,o=T),y=Math.atan2(a,n),M.rotation=y*C,y&&(n=n*(_=Math.cos(-y))+l*(b=Math.sin(-y)),m=a*_+f*b,f=a*-b+f*_,p=o*-b+p*_,a=m),M.rotationX&&359.9<Math.abs(M.rotationX)+Math.abs(M.rotation)&&(M.rotationX=M.rotation=0,M.rotationY=180-M.rotationY),M.scaleX=(1e5*Math.sqrt(n*n+a*a)+.5|0)/1e5,M.scaleY=(1e5*Math.sqrt(f*f+h*h)+.5|0)/1e5,M.scaleZ=(1e5*Math.sqrt(p*p+c*c)+.5|0)/1e5,M.rotationX||M.rotationY?M.skewX=0:(M.skewX=l||f?Math.atan2(l,f)*C+M.rotation:M.skewX||0,90<Math.abs(M.skewX)&&Math.abs(M.skewX)<270&&(k?(M.scaleX*=-1,M.skewX+=M.rotation<=0?180:-180,M.rotation+=M.rotation<=0?180:-180):(M.scaleY*=-1,M.skewX+=M.skewX<=0?180:-180))),M.perspective=g?1/(g<0?-g:g):0,M.x=u,M.y=x,M.z=d,M.svg&&(M.x-=M.xOrigin-(M.xOrigin*n-M.yOrigin*l),M.y-=M.yOrigin-(M.yOrigin*a-M.xOrigin*f))):q&&!i&&e.length&&M.x===e[4]&&M.y===e[5]&&(M.rotationX||M.rotationY)||(v=(O=6<=e.length)?e[0]:1,w=e[1]||0,P=e[2]||0,T=O?e[3]:1,M.x=e[4]||0,M.y=e[5]||0,y=Math.sqrt(v*v+w*w),o=Math.sqrt(T*T+P*P),b=v||w?Math.atan2(w,v)*C:M.rotation||0,_=P||T?Math.atan2(P,T)*C+b:M.skewX||0,90<Math.abs(_)&&Math.abs(_)<270&&(k?(y*=-1,_+=b<=0?180:-180,b+=b<=0?180:-180):(o*=-1,_+=_<=0?180:-180)),M.scaleX=y,M.scaleY=o,M.rotation=b,M.skewX=_,q&&(M.rotationX=M.rotationY=M.z=0,M.perspective=S,M.scaleZ=1),M.svg&&(M.x-=M.xOrigin-(M.xOrigin*v+M.yOrigin*P),M.y-=M.yOrigin-(M.xOrigin*w+M.yOrigin*T))),M.zOrigin=X,M)M[s]<2e-5&&-2e-5<M[s]&&(M[s]=0);return r&&(t._gsTransform=M).svg&&(Z&&t.style[E]?R.delayedCall(.001,function(){Ht(t.style,E)}):!Z&&t.getAttribute("transform")&&R.delayedCall(.001,function(){t.removeAttribute("transform")})),M},$t=e.set3DTransformRatio=e.setTransformRatio=function(t){var e,r,i,s,n,a,o,l,f,p,h,c,u,x,d,g,y,m,_=this.data,b=this.t.style,O=_.rotation,v=_.rotationX,w=_.rotationY,P=_.scaleX,T=_.scaleY,M=_.scaleZ,k=_.x,X=_.y,S=_.z,R=_.svg,F=_.perspective,Y=_.force3D;if(((1!==t&&0!==t||"auto"!==Y||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&Y||S||F||w||v||1!==M)&&(!Z||!R)&&q){if(G&&(P<(c=1e-4)&&-c<P&&(P=M=2e-5),T<c&&-c<T&&(T=M=2e-5),!F||_.z||_.rotationX||_.rotationY||(F=0)),O||_.skewX)O*=A,y=e=Math.cos(O),x=s=Math.sin(O),_.skewX&&(O-=_.skewX*A,y=Math.cos(O),x=Math.sin(O),"simple"===_.skewType&&(u=Math.tan((_.skewX-_.skewY)*A),y*=u=Math.sqrt(1+u*u),x*=u,_.skewY&&(u=Math.tan(_.skewY*A),e*=u=Math.sqrt(1+u*u),s*=u))),r=-x,n=y;else{if(!(w||v||1!==M||F||R))return void(b[E]=(_.xPercent||_.yPercent?"translate("+_.xPercent+"%,"+_.yPercent+"%) translate3d(":"translate3d(")+k+"px,"+X+"px,"+S+"px)"+(1!==P||1!==T?" scale("+P+","+T+")":""));e=n=1,r=s=0}t=1,i=a=o=l=f=Y=0,p=F?-1/F:0,h=_.zOrigin,c=1e-6,d=",",g="0",(O=w*A)&&(y=Math.cos(O),f=p*(o=-(x=Math.sin(O))),i=e*x,a=s*x,p*=t=y,e*=y,s*=y),(O=v*A)&&(u=r*(y=Math.cos(O))+i*(x=Math.sin(O)),m=n*y+a*x,l=t*x,Y=p*x,i=r*-x+i*y,a=n*-x+a*y,t*=y,p*=y,r=u,n=m),1!==M&&(i*=M,a*=M,t*=M,p*=M),1!==T&&(r*=T,n*=T,l*=T,Y*=T),1!==P&&(e*=P,s*=P,o*=P,f*=P),(h||R)&&(h&&(k+=i*-h,X+=a*-h,S+=t*-h+h),R&&(k+=_.xOrigin-(_.xOrigin*e+_.yOrigin*r)+_.xOffset,X+=_.yOrigin-(_.xOrigin*s+_.yOrigin*n)+_.yOffset),k<c&&-c<k&&(k=g),X<c&&-c<X&&(X=g),S<c&&-c<S&&(S=0)),x=(x=_.xPercent||_.yPercent?"translate("+_.xPercent+"%,"+_.yPercent+"%) matrix3d(":"matrix3d(")+((e<c&&-c<e?g:e)+d+(s<c&&-c<s?g:s)+d+(o<c&&-c<o?g:o))+(d+(f<c&&-c<f?g:f)+d+(r<c&&-c<r?g:r)+d+(n<c&&-c<n?g:n)),v||w||1!==M?x=x+d+(l<c&&-c<l?g:l)+d+(Y<c&&-c<Y?g:Y)+d+(i<c&&-c<i?g:i)+d+(a<c&&-c<a?g:a)+d+(t<c&&-c<t?g:t)+d+(p<c&&-c<p?g:p)+d:x+=",0,0,0,0,1,0,",b[E]=x+=k+d+X+d+S+d+(F?1+-S/F:1)+")"}else O||_.skewX||R?(O*=A,y=_.skewX*A,m=1e5,e=Math.cos(O)*P,s=Math.sin(O)*P,r=Math.sin(O-y)*-T,n=Math.cos(O-y)*T,y&&"simple"===_.skewType&&(u=Math.tan(y-_.skewY*A),r*=u=Math.sqrt(1+u*u),n*=u,_.skewY&&(u=Math.tan(_.skewY*A),e*=u=Math.sqrt(1+u*u),s*=u)),R&&(k+=_.xOrigin-(_.xOrigin*e+_.yOrigin*r)+_.xOffset,X+=_.yOrigin-(_.xOrigin*s+_.yOrigin*n)+_.yOffset,Z&&(_.xPercent||_.yPercent)&&(c=this.t.getBBox(),k+=.01*_.xPercent*c.width,X+=.01*_.yPercent*c.height),k<(c=1e-6)&&-c<k&&(k=0),X<c&&-c<X&&(X=0)),x=(e*m|0)/m+","+(s*m|0)/m+","+(r*m|0)/m+","+(n*m|0)/m+","+k+","+X+")",R&&Z?this.t.setAttribute("transform","matrix("+x):b[E]=(_.xPercent||_.yPercent?"translate("+_.xPercent+"%,"+_.yPercent+"%) matrix(":"matrix(")+x):b[E]=(_.xPercent||_.yPercent?"translate("+_.xPercent+"%,"+_.yPercent+"%) matrix(":"matrix(")+P+",0,0,"+T+","+k+","+X+")"},Ht=((t=Lt.prototype).x=t.y=t.z=t.skewX=t.skewY=t.rotation=t.rotationX=t.rotationY=t.zOrigin=t.xPercent=t.yPercent=t.xOffset=t.yOffset=0,t.scaleX=t.scaleY=t.scaleZ=1,n("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,r,i,s,n,a){if(i._lastParsedTransform!==a){"function"==typeof(i._lastParsedTransform=a)[r]&&(o=a[r],a[r]=e);var o,l,f,p,h,c,u,x,d,e=t._gsTransform,g=t.style,y=Bt.length,m=a,_={},b="transformOrigin",O=qt(t,T,!0,m.parseTransform),v=m.transform&&("function"==typeof m.transform?m.transform(X,k):m.transform);if(i._transform=O,v&&"string"==typeof v&&E)(f=N.style)[E]=v,f.display="block",f.position="absolute",z.body.appendChild(N),l=qt(N,null,!1),O.svg&&(c=O.xOrigin,u=O.yOrigin,l.x-=O.xOffset,l.y-=O.yOffset,(m.transformOrigin||m.svgOrigin)&&(v={},St(t,L(m.transformOrigin),v,m.svgOrigin,m.smoothOrigin,!0),c=v.xOrigin,u=v.yOrigin,l.x-=v.xOffset-O.xOffset,l.y-=v.yOffset-O.yOffset),(c||u)&&(x=Rt(N,!0),l.x-=c-(c*x[0]+u*x[2]),l.y-=u-(c*x[1]+u*x[3]))),z.body.removeChild(N),l.perspective||(l.perspective=O.perspective),null!=m.xPercent&&(l.xPercent=w(m.xPercent,O.xPercent)),null!=m.yPercent&&(l.yPercent=w(m.yPercent,O.yPercent));else if("object"==typeof m){if(l={scaleX:w(null!=m.scaleX?m.scaleX:m.scale,O.scaleX),scaleY:w(null!=m.scaleY?m.scaleY:m.scale,O.scaleY),scaleZ:w(m.scaleZ,O.scaleZ),x:w(m.x,O.x),y:w(m.y,O.y),z:w(m.z,O.z),xPercent:w(m.xPercent,O.xPercent),yPercent:w(m.yPercent,O.yPercent),perspective:w(m.transformPerspective,O.perspective)},null!=(h=m.directionalRotation))if("object"==typeof h)for(f in h)m[f]=h[f];else m.rotation=h;"string"==typeof m.x&&-1!==m.x.indexOf("%")&&(l.x=0,l.xPercent=w(m.x,O.xPercent)),"string"==typeof m.y&&-1!==m.y.indexOf("%")&&(l.y=0,l.yPercent=w(m.y,O.yPercent)),l.rotation=P("rotation"in m?m.rotation:"shortRotation"in m?m.shortRotation+"_short":"rotationZ"in m?m.rotationZ:O.rotation-O.skewY,O.rotation-O.skewY,"rotation",_),q&&(l.rotationX=P("rotationX"in m?m.rotationX:"shortRotationX"in m?m.shortRotationX+"_short":O.rotationX||0,O.rotationX,"rotationX",_),l.rotationY=P("rotationY"in m?m.rotationY:"shortRotationY"in m?m.shortRotationY+"_short":O.rotationY||0,O.rotationY,"rotationY",_)),l.skewX=P(m.skewX,O.skewX-O.skewY),(l.skewY=P(m.skewY,O.skewY))&&(l.skewX+=l.skewY,l.rotation+=l.skewY)}for(q&&null!=m.force3D&&(O.force3D=m.force3D,p=!0),O.skewType=m.skewType||O.skewType||F.defaultSkewType,(x=O.force3D||O.z||O.rotationX||O.rotationY||l.z||l.rotationX||l.rotationY||l.perspective)||null==m.scale||(l.scaleZ=1);-1<--y;)(1e-6<(v=l[d=Bt[y]]-O[d])||v<-1e-6||null!=m[d]||null!=ut[d])&&(p=!0,s=new D(O,d,O[d],v,s),d in _&&(s.e=_[d]),s.xs0=0,s.plugin=n,i._overwriteProps.push(s.n));v=m.transformOrigin,O.svg&&(v||m.svgOrigin)&&(c=O.xOffset,u=O.yOffset,St(t,L(v),l,m.svgOrigin,m.smoothOrigin),s=Tt(O,"xOrigin",(e?O:l).xOrigin,l.xOrigin,s,b),s=Tt(O,"yOrigin",(e?O:l).yOrigin,l.yOrigin,s,b),c===O.xOffset&&u===O.yOffset||(s=Tt(O,"xOffset",e?c:O.xOffset,O.xOffset,s,b),s=Tt(O,"yOffset",e?u:O.yOffset,O.yOffset,s,b)),v=Z?null:"0px 0px"),(v||q&&x&&O.zOrigin)&&(E?(p=!0,d=Vt,v=(v||j(t,d,T,!1,"50% 50%"))+"",(s=new D(g,d,0,0,s,-1,b)).b=g[d],s.plugin=n,q?(f=O.zOrigin,v=v.split(" "),O.zOrigin=(2<v.length&&(0===f||"0px"!==v[2])?parseFloat(v[2]):f)||0,s.xs0=s.e=v[0]+" "+(v[1]||"50%")+" 0px",(s=new D(O,"zOrigin",0,0,s,-1,s.n)).b=f,s.xs0=s.e=O.zOrigin):s.xs0=s.e=v):L(v+"",O)),p&&(i._transformType=O.svg&&Z||!x&&3!==this._transformType?2:3),o&&(a[r]=o)}return s},prefix:!0}),n("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),n("borderRadius",{defaultValue:"0px",parser:function(t,e,r,i,s,n){e=this.format(e);for(var a,o,l,f,p,h,c,u,x,d,g=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],y=t.style,m=parseFloat(t.offsetWidth),_=parseFloat(t.offsetHeight),b=e.split(" "),O=0;O<g.length;O++)this.p.indexOf("border")&&(g[O]=v(g[O])),-1!==(l=o=j(t,g[O],T,!1,"0px")).indexOf(" ")&&(l=(o=l.split(" "))[0],o=o[1]),f=a=b[O],x=parseFloat(l),d=l.substr((x+"").length),(h=""===(h=(c="="===f.charAt(1))?(p=parseInt(f.charAt(0)+"1",10),f=f.substr(2),p*=parseFloat(f),f.substr((p+"").length-(p<0?1:0))||""):(p=parseFloat(f),f.substr((p+"").length)))?$[r]||d:h)!==d&&(u=V(t,"borderLeft",x,d),x=V(t,"borderTop",x,d),o="%"===h?(l=u/m*100+"%",x/_*100+"%"):"em"===h?(l=u/(d=V(t,"borderLeft",1,"em"))+"em",x/d+"em"):(l=u+"px",x+"px"),c&&(f=parseFloat(l)+p+h,a=parseFloat(o)+p+h)),s=Mt(y,g[O],l+" "+o,f+" "+a,!1,"0px",s);return s},prefix:!0,formatter:vt("0px 0px 0px 0px",!1,!0)}),n("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,r,i,s,n){return Mt(t.style,r,this.format(j(t,r,T,!1,"0px 0px")),this.format(e),!1,"0px",s)},prefix:!0,formatter:vt("0px 0px",!1,!0)}),n("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,r,i,s,n){var a,o,l,f,p,h="background-position",c=T||d(t,null),u=this.format((c?O?c.getPropertyValue(h+"-x")+" "+c.getPropertyValue(h+"-y"):c.getPropertyValue(h):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),c=this.format(e);if(-1!==u.indexOf("%")!=(-1!==c.indexOf("%"))&&c.split(",").length<2&&(h=j(t,"backgroundImage").replace(lt,""))&&"none"!==h){for(a=u.split(" "),o=c.split(" "),xt.setAttribute("src",h),l=2;-1<--l;)(f=-1!==(u=a[l]).indexOf("%"))!=(-1!==o[l].indexOf("%"))&&(p=0===l?t.offsetWidth-xt.width:t.offsetHeight-xt.height,a[l]=f?parseFloat(u)/100*p+"px":parseFloat(u)/p*100+"%");u=a.join(" ")}return this.parseComplex(t.style,u,c,s,n)},formatter:L}),n("backgroundSize",{defaultValue:"0 0",formatter:function(t){return L(-1===(t+="").indexOf(" ")?t+" "+t:t)}}),n("perspective",{defaultValue:"0px",prefix:!0}),n("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),n("transformStyle",{prefix:!0}),n("backfaceVisibility",{prefix:!0}),n("userSelect",{prefix:!0}),n("margin",{parser:wt("marginTop,marginRight,marginBottom,marginLeft")}),n("padding",{parser:wt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),n("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,r,i,s,n){var a,o;return e=O<9?(a=t.currentStyle,o=O<8?" ":",",a="rect("+a.clipTop+o+a.clipRight+o+a.clipBottom+o+a.clipLeft+")",this.format(e).split(",").join(o)):(a=this.format(j(t,this.p,T,!1,this.dflt)),this.format(e)),this.parseComplex(t.style,a,e,s,n)}}),n("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),n("autoRound,strictUnits",{parser:function(t,e,r,i,s){return s}}),n("border",{defaultValue:"0px solid #000",parser:function(t,e,r,i,s,n){var a=j(t,"borderTopWidth",T,!1,"0px"),e=this.format(e).split(" "),o=e[0].replace(et,"");return"px"!==o&&(a=parseFloat(a)/V(t,"borderTopWidth",1,o)+o),this.parseComplex(t.style,this.format(a+" "+j(t,"borderTopStyle",T,!1,"solid")+" "+j(t,"borderTopColor",T,!1,"#000")),e.join(" "),s,n)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(I)||["#000"])[0]}}),n("borderWidth",{parser:wt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),n("float,cssFloat,styleFloat",{parser:function(t,e,r,i,s,n){var t=t.style,a="cssFloat"in t?"cssFloat":"styleFloat";return new D(t,a,0,0,s,-1,r,!1,0,t[a],e)}}),n("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,r,i,s,n){var a=parseFloat(j(t,"opacity",T,!1,"1")),o=t.style,l="autoAlpha"===r;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+a),l&&1===a&&"hidden"===j(t,"visibility",T)&&0!==e&&(a=0),B?s=new D(o,"opacity",a,e-a,s):((s=new D(o,"opacity",100*a,100*(e-a),s)).xn1=l?1:0,o.zoom=1,s.type=2,s.b="alpha(opacity="+s.s+")",s.e="alpha(opacity="+(s.s+s.c)+")",s.data=t,s.plugin=n,s.setRatio=Yt),l&&((s=new D(o,"visibility",0,0,s,-1,null,!1,0,0!==a?"inherit":"hidden",0===e?"hidden":"inherit")).xs0="inherit",i._overwriteProps.push(s.n),i._overwriteProps.push(r)),s}}),function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(at,"-$1").toLowerCase())):t.removeAttribute(e))});n("className",{parser:function(t,e,r,i,s,n,a){var o,l,f,p=t.getAttribute("class")||"",h=t.style.cssText;if((s=i._classNamePT=new D(t,r,0,0,s,2)).setRatio=At,s.pr=-11,u=!0,s.b=p,r=c(t,T),o=t._gsClassPT){for(l={},f=o.data;f;)l[f.p]=1,f=f._next;o.setRatio(1)}return(t._gsClassPT=s).e="="!==e.charAt(1)?e:p.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",s.e),o=y(t,r,c(t),a,l),t.setAttribute("class",p),s.data=o.firstMPT,t.style.cssText=h,s=s.xfirst=i.parse(t,o.difs,s,n)}});for(n("clearProps",{parser:function(t,e,r,i,s){return(s=new D(t,r,0,0,s,2)).setRatio=Ct,s.e=e,s.pr=-10,s.data=i._tween,u=!0,s}}),t="bezier,throwProps,physicsProps,physics2D".split(","),W=t.length;W--;)Nt(t[W]);(t=F.prototype)._firstPT=t._lastParsedTransform=t._transform=null,t._onInitTween=function(t,e,r,i){if(!t.nodeType)return!1;this._target=k=t,this._tween=r,this._vars=e,X=i,H=e.autoRound,u=!1,$=e.suffixMap||F.suffixMap,T=d(t,""),m=this._overwriteProps;var s,n,a,o,l,f,i=t.style;if(!_||""!==i.zIndex||"auto"!==(f=j(t,"zIndex",T))&&""!==f||this._addLazySet(i,"zIndex",0),"string"==typeof e&&(a=i.cssText,f=c(t,T),i.cssText=a+";"+e,f=y(t,f,c(t)).difs,!B&&it.test(e)&&(f.opacity=parseFloat(RegExp.$1)),e=f,i.cssText=a),e.className?this._firstPT=s=x.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=s=this.parse(t,e,null),this._transformType){for(f=3===this._transformType,E?b&&(_=!0,""!==i.zIndex||"auto"!==(e=j(t,"zIndex",T))&&""!==e||this._addLazySet(i,"zIndex",0),U&&this._addLazySet(i,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(f?"visible":"hidden"))):i.zoom=1,n=s;n&&n._next;)n=n._next;e=new D(t,"transform",0,0,null,2),this._linkCSSP(e,null,n),e.setRatio=E?$t:Ft,e.data=this._transform||qt(t,T,!0),e.tween=r,e.pr=-1,m.pop()}if(u){for(;s;){for(l=s._next,n=a;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:o)?s._prev._next=s:a=s,(s._next=n)?n._prev=s:o=s,s=l}this._firstPT=a}return!0},t.parse=function(t,e,r,i){var s,n,a,o,l,f,p,h,c=t.style;for(s in e)"function"==typeof(l=e[s])&&(l=l(X,k)),(o=x[s])?r=o.parse(t,l,s,this,r,i,e):(o=j(t,s,T)+"",p="string"==typeof l,"color"===s||"fill"===s||"stroke"===s||-1!==s.indexOf("Color")||p&&nt.test(l)?(p||(l=(3<(l=Ot(l)).length?"rgba(":"rgb(")+l.join(",")+")"),r=Mt(c,s,o,l,!0,"transparent",r,0,i)):p&&ct.test(l)?r=Mt(c,s,o,l,!0,null,r,0,i):(f=(n=parseFloat(o))||0===n?o.substr((n+"").length):"",""!==o&&"auto"!==o||(f="width"===s||"height"===s?(n=function(t,e,r){if("svg"===(t.nodeName+"").toLowerCase())return(r||d(t))[e]||0;if(t.getBBox&&Zt(t))return t.getBBox()[e]||0;var i=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),s=mt[e],n=s.length;for(r=r||d(t,null);-1<--n;)i=(i-=parseFloat(j(t,"padding"+s[n],r,!0))||0)-(parseFloat(j(t,"border"+s[n]+"Width",r,!0))||0);return i}(t,s,T),"px"):"left"===s||"top"===s?(n=yt(t,s,T),"px"):(n="opacity"!==s?0:1,"")),""===(p=(h=p&&"="===l.charAt(1))?(a=parseInt(l.charAt(0)+"1",10),l=l.substr(2),a*=parseFloat(l),l.replace(et,"")):(a=parseFloat(l),p?l.replace(et,""):""))&&(p=s in $?$[s]:f),l=a||0===a?(h?a+n:a)+p:e[s],f!==p&&""!==p&&(a||0===a)&&n&&(n=V(t,s,n,f),"%"===p?(n/=V(t,s,100,"%")/100,!0!==e.strictUnits&&(o=n+"%")):"em"===p||"rem"===p||"vw"===p||"vh"===p?n/=V(t,s,1,p):"px"!==p&&(a=V(t,s,a,p),p="px"),h&&(a||0===a)&&(l=a+n+p)),h&&(a+=n),!n&&0!==n||!a&&0!==a?void 0!==c[s]&&(l||l+""!="NaN"&&null!=l)?(r=new D(c,s,a||n||0,0,r,-1,s,!1,0,o,l)).xs0="none"!==l||"display"!==s&&-1===s.indexOf("Style")?l:o:g("invalid "+s+" tween value: "+e[s]):(r=new D(c,s,n,a-n,r,0,s,!1!==H&&("px"===p||"zIndex"===s),0,o,l)).xs0=p)),i&&r&&!r.plugin&&(r.plugin=i);return r},t.setRatio=function(t){var e,r,i,s=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;s;){if(e=s.c*t+s.s,s.r?e=Math.round(e):e<1e-6&&-1e-6<e&&(e=0),s.type)if(1===s.type)if(2===(i=s.l))s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2;else if(3===i)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3;else if(4===i)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3+s.xn3+s.xs4;else if(5===i)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3+s.xn3+s.xs4+s.xn4+s.xs5;else{for(r=s.xs0+e+s.xs1,i=1;i<s.l;i++)r+=s["xn"+i]+s["xs"+(i+1)];s.t[s.p]=r}else-1===s.type?s.t[s.p]=s.xs0:s.setRatio&&s.setRatio(t);else s.t[s.p]=e+s.xs0;s=s._next}else for(;s;)2!==s.type?s.t[s.p]=s.b:s.setRatio(t),s=s._next;else for(;s;){if(2!==s.type)if(s.r&&-1!==s.type)if(e=Math.round(s.s+s.c),s.type){if(1===s.type){for(i=s.l,r=s.xs0+e+s.xs1,i=1;i<s.l;i++)r+=s["xn"+i]+s["xs"+(i+1)];s.t[s.p]=r}}else s.t[s.p]=e+s.xs0;else s.t[s.p]=s.e;else s.setRatio(t);s=s._next}},t._enableTransforms=function(t){this._transform=this._transform||qt(this._target,T,!0),this._transformType=this._transform.svg&&Z||!t&&3!==this._transformType?2:3};function Gt(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)}function Ut(t,e,r){var i,s,n,a;if(t.slice)for(s=t.length;-1<--s;)Ut(t[s],e,r);else for(s=(i=t.childNodes).length;-1<--s;)a=(n=i[s]).type,n.style&&(e.push(c(n)),r&&r.push(n)),1!==a&&9!==a&&11!==a||!n.childNodes.length||Ut(n,e,r)}t._addLazySet=function(t,e,r){t=this._firstPT=new D(t,e,0,0,this._firstPT,2);t.e=r,t.setRatio=Gt,t.data=this},t._linkCSSP=function(t,e,r,i){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,i=!0),r?r._next=t:i||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=r),t},t._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&t[e.p]===Math.round&&(e.r=1),e=e._next},t._kill=function(t){var e,r,i,s=t;if(t.autoAlpha||t.alpha){for(r in s={},t)s[r]=t[r];s.opacity=1,s.autoAlpha&&(s.visibility=1)}for(t.className&&(e=this._classNamePT)&&((i=e.xfirst)&&i._prev?this._linkCSSP(i._prev,e._next,i._prev._prev):i===this._firstPT&&(this._firstPT=e._next),e._next&&this._linkCSSP(e._next,e._next._next,i._prev),this._classNamePT=null),e=this._firstPT;e;)e.plugin&&e.plugin!==r&&e.plugin._kill&&(e.plugin._kill(t),r=e.plugin),e=e._next;return a.prototype._kill.call(this,s)};return F.cascadeTo=function(t,e,r){var i,s,n,a,o=R.to(t,e,r),l=[o],f=[],p=[],h=[],c=R._internals.reservedProps;for(t=o._targets||o.target,Ut(t,f,h),o.render(e,!0,!0),Ut(t,p),o.render(0,!0,!0),o._enabled(!0),i=h.length;-1<--i;)if((s=y(h[i],f[i],p[i])).firstMPT){for(n in s=s.difs,r)c[n]&&(s[n]=r[n]);for(n in a={},s)a[n]=f[i][n];l.push(R.fromTo(h[i],e,a,s))}return l},a.activate([F]),F},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(){"use strict";function t(){return(_gsScope.GreenSockGlobals||_gsScope).CSSPlugin}"function"==typeof define&&define.amd?define(["TweenLite"],t):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=t())}();
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";function n(t,e){var s="scroll"+(e="x"===e?"Width":"Height"),i="client"+e,o=document.body;return t===h||t===l||t===o?Math.max(l[s],o[s])-(h["inner"+e]||l[i]||o[i]):t[s]-t["offset"+e]}function o(t,e){var t=r(t).getBoundingClientRect(),s=!e||e===h||e===document.body,i=(s?l:e).getBoundingClientRect(),t={x:t.left-i.left,y:t.top-i.top};return!s&&e&&(t.x+=u(e,"x")(),t.y+=u(e,"y")()),t}function i(t,e,s){var i=typeof t;return"number"==i||"string"==i&&"="===t.charAt(1)?t:"max"===t?n(e,s):Math.min(n(e,s),o(t,e)[s])}var l=document.documentElement,h=_gsScope,r=function(t){return(t=(t="string"==typeof t?TweenLite.selector(t):t).length&&t!==h&&t[0]&&t[0].style&&!t.nodeType?t[0]:t)===h||t.nodeType&&t.style?t:null},u=function(t,e){var s="scroll"+("x"===e?"Left":"Top");return t===h&&(null!=t.pageXOffset?s="page"+e.toUpperCase()+"Offset":t=null!=l[s]?l:document.body),function(){return t[s]}},p=_gsScope._gsDefine.plugin({propName:"scrollTo",API:2,global:!0,version:"1.8.1",init:function(t,e,s){return this._wdw=t===h,this._target=t,this._tween=s,"object"!=typeof e?"string"==typeof(e={y:e}).y&&"max"!==e.y&&"="!==e.y.charAt(1)&&(e.x=e.y):e.nodeType&&(e={y:e,x:e}),this.vars=e,this._autoKill=!1!==e.autoKill,this.getX=u(t,"x"),this.getY=u(t,"y"),this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),null!=e.x?(this._addTween(this,"x",this.x,i(e.x,t,"x")-(e.offsetX||0),"scrollTo_x",!0),this._overwriteProps.push("scrollTo_x")):this.skipX=!0,null!=e.y?(this._addTween(this,"y",this.y,i(e.y,t,"y")-(e.offsetY||0),"scrollTo_y",!0),this._overwriteProps.push("scrollTo_y")):this.skipY=!0,!0},set:function(t){this._super.setRatio.call(this,t);var t=this._wdw||!this.skipX?this.getX():this.xPrev,e=this._wdw||!this.skipY?this.getY():this.yPrev,s=e-this.yPrev,i=t-this.xPrev,o=p.autoKillThreshold;this.x<0&&(this.x=0),this.y<0&&(this.y=0),this._autoKill&&(!this.skipX&&(o<i||i<-o)&&t<n(this._target,"x")&&(this.skipX=!0),!this.skipY&&(o<s||s<-o)&&e<n(this._target,"y")&&(this.skipY=!0),this.skipX&&this.skipY&&(this._tween.kill(),this.vars.onAutoKill&&this.vars.onAutoKill.apply(this.vars.onAutoKillScope||this._tween,this.vars.onAutoKillParams||[]))),this._wdw?h.scrollTo(this.skipX?t:this.x,this.skipY?e:this.y):(this.skipY||(this._target.scrollTop=this.y),this.skipX||(this._target.scrollLeft=this.x)),this.xPrev=this.x,this.yPrev=this.y}}),t=p.prototype;p.max=n,p.getOffset=o,p.autoKillThreshold=7,t._kill=function(t){return t.scrollTo_x&&(this.skipX=!0),t.scrollTo_y&&(this.skipY=!0),this._super._kill.call(this,t)}}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(){"use strict";function t(){return(_gsScope.GreenSockGlobals||_gsScope).ScrollToPlugin}"function"==typeof define&&define.amd?define(["TweenLite"],t):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=t())}();
!function(pn){window.fp_parallaxExtension=function(){function r(n){return{cover:{offsetNormal:n?0:u},reveal:{offsetNormal:n?-u:0}}}function o(n){return{cover:{offsetNormal:n?0:g},reveal:{offsetNormal:n?-g:0}}}function t(n){return n*v/100}function i(n){return n*m/100}function H(){h&&c(pn(q).length?pn(q):pn(M).first(),0)}function a(){var n=pn(q).length?pn(q):pn(M).first(),e=p===z,t=e?n.nextAll():n.prevAll(),n=e?n.prevAll():n.nextAll();t.each(function(){c(pn(this),r(e)[p].offsetNormal,"silent")}),n.each(function(){c(pn(this),0,"silent")}),pn(M).each(function(){pn(this).find(I).length&&l(pn(this).find(C).length?pn(this).find(C):pn(this).find(I).first())})}function l(n){var e=p===z,t=e?n.nextAll():n.prevAll(),n=e?n.prevAll():n.nextAll();t.each(function(){d(pn(this),o(e)[p].offsetNormal,"silent")}),n.each(function(){d(pn(this),0,"silent")})}function V(n,e){m=k.width(),(e&&!S.scrollBar?(s(),P):f)()}function E(n){w.destroy(),fn=!1}function _(n,e){e?f():cn=!0}function G(n,e){pn(T).data("final-x",0),pn(T).data("final-y",0),x=document.querySelectorAll(M),a()}function L(n,e){B=!0,l("left"===e.xMovement?pn(q).find(I).first():pn(q).find(I).last()),setTimeout(function(){w.applyHorizontal(e)})}function j(n,e){F=!0,a(),setTimeout(function(){w.apply(e)})}function D(){an||!fn||!S.scrollBar&&S.autoScrolling&&!y.usingExtension("dragAndMove")||(requestAnimationFrame(K),an=!0)}function s(){var n=".fp-bg{transition: transform "+S.scrollingSpeed+"ms "+S.easingcss3+"}.fp-slide, .fp-section{will-change: transform;transition: background-position "+S.scrollingSpeed+"ms "+S.easingcss3+";}";S.autoScrolling&&!S.scrollBar&&e(nn,n)}function P(){var n=".fp-bg-animate{ transition: all "+S.scrollingSpeed+"ms "+S.easingcss3+"}";e(tn,n)}function f(){pn(en).remove()}function Q(){clearTimeout(X),X=setTimeout(U,350)}function U(){v=k.height(),m=k.width(),u=t(S.parallaxOptions.percentage),g=i(S.parallaxOptions.percentage),H(),a(),J(),S.autoScrolling&&S.scrollBar}function J(){pn(T).height(v)}function K(){var n=y.usingExtension("dragAndMove")?Math.abs(pn.fn.fullpage.dragAndMove.getCurrentScroll()):pn(window).scrollTop(),e=n<ln,t=pn(q).index(M),o=v+n;ln=n;for(var i=0;i<x.length;++i){var a=x[i],l=v+a.offsetTop;!e&&a.offsetTop<=o?t=i:e&&n<=l&&a.offsetTop<n&&x.length>i+1&&(t=i+1)}var s=(v-(x[t].offsetTop-n))*u/v,s=(p!==z&&--t,p!==z?s:s-u);c(pn(M).eq(t),s),0<=t-1&&c(pn(x[t-1]),r(!1)[p].offsetNormal),void 0!==x[t+1]&&c(pn(x[t+1]),r(!0)[p].offsetNormal),an=!1}function W(n){return Math.round(2*n)/2}function c(n,e,t){var o,e=W(e),i=n.find(I);i.length&&(n.index(M),n=(o=i.filter(b)).length?o:i.first()),h?n.css({"background-position-y":e+"px"}):n.hasClass($)&&!n.hasClass(Z)&&void 0===t||(i=void 0!==(o=n.find(T)).data("final-x")?o.data("final-x"):0,o.toggleClass(N,void 0!==t).css({transform:"translate3d("+i+"px, "+e+"px, 0)"}).data("final-x",i).data("final-y",e))}function d(n,e,t){var o,i,e=W(e),n=h?n:n.find(T);!S.scrollBar&&S.autoScrolling||n.addClass("fp-bg-animate"),h?n.toggleClass(N,void 0!==t).css("background-position-x",e+"px"):(o=0,"none"!==(i=n.data("final-y"))&&void 0!==i&&(o=i),n.toggleClass(N,void 0!==t).css({transform:"translate3d("+e+"px, "+o+"px, 0)"}).data("final-x",e).data("final-y",o))}function e(n,e){pn("#"+n).length||pn('<style id="'+n+'">'+e+"</style>").appendTo("head")}var p,u,g,v,m,x,h,A,X,w=this,n=pn.fn.fullpage.getFullpageData(),S=n.options,y=n.internals,Y=".fullpage-wrapper",Z="active",b="."+Z,M=".fp-section",q=M+b,$="fp-slide",I="."+$,C=I+b,N="fp-notransition",T=".fp-bg",z="reveal",nn="fp-parallax-transitions",en="#"+nn,tn="fp-parallax-transition-class",on="#"+tn,an=!1,ln=0,R=!1,O=!1,sn=!0,rn=!0,fn=!1,B=!1,F=!1,cn=!1,k=pn(window),dn=(n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.requestAnimationFrame=n,w.apply=function(n){if(cn&&s(),!n.localIsResizing&&!S.scrollBar&&S.autoScrolling)if((g_isAboutToRewindVertical="up"!==n.yMovement&&!n.sectionIndex||n.isMovementUp&&!(n.leavingSection-1))&&S.continuousVertical&&!F)g_isAboutToRewindVertical=!1;else{var e=r(R="up"===n.yMovement)[p].offsetNormal;c(pn(M).eq(n.sectionIndex),0),c(pn(M).eq(n.leavingSection-1),e),sn=1===Math.abs(n.leavingSection-1-n.sectionIndex);for(var t=Math.min(n.leavingSection-1,n.sectionIndex)+1;t<Math.max(n.leavingSection-1,n.sectionIndex);t++)c(pn(M).eq(t),0,"silent")}},w.applyHorizontal=function(n){if(!n.localIsResizing&&"none"!=n.xMovement)if((A=void 0!==n.direction&&n.direction!==n.xMovement)&&S.continuousHorizontal&&!B)A=!1;else{var e=o(O=A?"left"===n.direction:"left"===n.xMovement)[p].offsetNormal;d(n.section.find(I).eq(n.slideIndex),0),d(n.section.find(I).eq(n.prevSlideIndex),e),rn=1===Math.abs(n.slideIndex-n.prevSlideIndex);for(var t=Math.min(n.slideIndex,n.prevSlideIndex)+1;t<Math.max(n.slideIndex,n.prevSlideIndex);t++)d(n.section.find(I).eq(t),0,"silent")}},w.init=function(){v=k.height(),m=k.width(),p=S.parallaxOptions.type,u=t(S.parallaxOptions.percentage),g=i(S.parallaxOptions.percentage),x=document.querySelectorAll(S.sectionSelector),h="background"===S.parallaxOptions.property,J(),pn(Y).on("setAutoScrolling",V).on("destroy",E).on("onScroll",D).on("afterResponsive",G).on("onGrab",_).on("onContinuosHorizontal",L).on("onContinuousVertical",j).on("onResize",Q),h||(e("fp-parallax-stylesheet",".fp-bg{top:0;bottom:0;width: 100%;position:absolute;z-index: -1;}.fp-section, .fp-slide, .fp-section.fp-table, .fp-slide.fp-table, .fp-section .fp-tableCell, .fp-slide .fp-tableCell {position:relative;overflow: hidden;}"),s()),P(),H(),a(),fn=!0},w.destroy=function(){f(),pn(on).remove(),u=t(0),g=i(0),a(),pn(T).height(""),pn(Y).off("setAutoScrolling").off("destroy").off("onScroll").off("afterResponsive").off("onGrab").off("onContinuosHorizontal").off("onContinuousVertical").off("onResize")},w.setOption=function(n,e){"offset"===n?(S.parallaxOptions.percentage=e,u=t(e),g=i(e)):"type"===n&&(S.parallaxOptions.type=e,p=e),a()},w.applyProperties=c,w.afterSlideLoads=function(){var n,e,t;(h?(e=pn(q)).find(I).length?1<e.find(I).length?e.find(I):[e.find(I)]:[e]:pn(q).find(T)).removeClass("fp-bg-animate"),(B||A)&&(l(pn(q).find(C)),B=!1),rn||(n=o(O)[p].offsetNormal,e=pn(q).find(C),t=O?e.nextAll():e.prevAll(),(p===z&&O||"cover"===p&&!O)&&t.each(function(){d(pn(this),n,"silent")}))},w.afterLoad=function(){var n,e;S.scrollBar&&S.autoScrolling&&!y.usingExtension("dragAndMove")||((F||A)&&(a(),F=!1),sn)||(n=r(R)[p].offsetNormal,e=R?pn(q).nextAll():pn(q).prevAll(),(p===z&&R||"cover"===p&&!R)&&e.each(function(){c(pn(this),n,"silent")}))},w.c=y.c,w["common".charAt(0)]);return"complete"===document.readyState&&dn("parallax"),pn(window).on("load",function(){dn("parallax")}),w}}(jQuery);
!function(n,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,n,n.document,n.Math)}):"object"==typeof exports&&exports?module.exports=t(require("jquery"),n,n.document,n.Math):t(jQuery,n,n.document,n.Math)}("undefined"!=typeof window?window:this,function(Ln,Mn,On,En,Rn){"use strict";var Hn="fullpage-wrapper",zn="."+Hn,e="fp-scrollable",o="."+e,Bn="fp-responsive",Dn="fp-notransition",Pn="fp-destroyed",Fn="fp-enabled",Vn="fp-viewing",Wn="active",jn="."+Wn,Zn="fp-completely",Nn="fp-section",Yn="."+Nn,qn=Yn+jn,Un="fp-tableCell",Gn="."+Un,st="fp-nav",Xn="#"+st,ct="fp-tooltip",Qn="fp-slide",_n="."+Qn,Kn=_n+jn,dt="fp-slides",Jn="."+dt,$n="fp-slidesContainer",et="."+$n,nt="fp-table",ft="fp-slidesNav",tt="."+ft,ut=tt+" a",n="fp-controlArrow",ot="."+n,ht="fp-prev",it=ot+".fp-prev",pt=ot+".fp-next",lt=Ln(Mn),rt=Ln(On),vt={scrollbars:!0,mouseWheel:!0,hideScrollbars:!1,fadeScrollbars:!1,disableMouse:!0,interactiveScrollbars:!0},at=(Ln.fn.fullpage=function(h){function t(e,n){e||u(0),tn("autoScrolling",e,n);n=Ln(qn);h.autoScrolling&&!h.scrollBar?(S.css({overflow:"hidden",height:"100%"}),D(R.recordHistory,"internal"),A.css({"-ms-touch-action":"none","touch-action":"none"}),n.length&&u(n.position().top)):(S.css({overflow:"visible",height:"initial"}),D(!1,"internal"),A.css({"-ms-touch-action":"","touch-action":""}),$e(A),n.length&&S.scrollTop(n.position().top)),A.trigger("setAutoScrolling",[e])}function D(e,n){tn("recordHistory",e,n)}function o(e,n){"internal"!==n&&h.fadingEffect&&b.fadingEffect&&b.fadingEffect.update(e),tn("scrollingSpeed",e,n)}function P(e,n){tn("fitToSection",e,n)}function n(e){var n,t;e?(e="",Mn.addEventListener?n="addEventListener":(n="attachEvent",e="on"),"DOMMouseScroll"==(t="onwheel"in On.createElement("div")?"wheel":On.onmousewheel!==Rn?"mousewheel":"DOMMouseScroll")?On[n](e+"MozMousePixelScroll",c,!1):On[n](e+t,c,!1),A.on("mousedown",be).on("mouseup",xe)):(On.addEventListener?(On.removeEventListener("mousewheel",c,!1),On.removeEventListener("wheel",c,!1),On.removeEventListener("MozMousePixelScroll",c,!1)):On.detachEvent("onmousewheel",c),A.off("mousedown",be).off("mouseup",xe))}function i(t,e){void 0!==e?(e=e.replace(/ /g,"").split(","),Ln.each(e,function(e,n){Je(t,n,"m")})):t?(n(!0),(sn||C)&&(h.autoScrolling&&w.off(E.touchmove).on(E.touchmove,J),Ln(zn).off(E.touchstart).on(E.touchstart,ne).off(E.touchmove).on(E.touchmove,$))):(n(!1),(sn||C)&&Ln(zn).off(E.touchstart).off(E.touchmove))}function F(t,e){void 0!==e?(e=e.replace(/ /g,"").split(","),Ln.each(e,function(e,n){Je(t,n,"k")})):h.keyboardScrolling=t}function l(){var e=Ln(qn).prev(Yn);(e=e.length||!h.loopTop&&!h.continuousVertical?e:Ln(Yn).last()).length&&d(e,null,!0)}function r(){var e=Ln(qn).next(Yn);(e=e.length||!h.loopBottom&&!h.continuousVertical?e:Ln(Yn).first()).length&&d(e,null,!1)}function V(e,n){o(0,"internal"),a(e,n),o(R.scrollingSpeed,"internal")}function a(e,n){var t=je(e);void 0!==n?Ze(e,n):0<t.length&&d(t)}function W(e){oe("right",e)}function j(e){oe("left",e)}function Z(e){var n;A.hasClass(Pn)||(I=!0,T=lt.height(),Ln(Yn).each(function(){var e=Ln(this).find(Jn),n=Ln(this).find(_n);h.verticalCentered&&Ln(this).find(Gn).css("height",Ve(Ln(this))+"px"),Ln(this).css("height",q(Ln(this))+"px"),h.scrollOverflow&&(n.length?n.each(function(){Pe(Ln(this))}):Pe(Ln(this))),1<n.length&&f(e,e.find(Kn))}),(n=Ln(qn).index(Yn))&&V(n+1),I=!1,Ln.isFunction(h.afterResize)&&e&&h.afterResize.call(A),Ln.isFunction(h.afterReBuild)&&!e&&h.afterReBuild.call(A))}function N(e){var n=w.hasClass(Bn);e?n||(t(!1,"internal"),P(!1,"internal"),Ln(Xn).hide(),w.addClass(Bn),Ln.isFunction(h.afterResponsive)&&h.afterResponsive.call(A,e),h.responsiveSlides&&b.responsiveSlides&&b.responsiveSlides.toSections(),A.trigger("afterResponsive",[e])):n&&(t(R.autoScrolling,"internal"),P(R.autoScrolling,"internal"),Ln(Xn).show(),w.removeClass(Bn),Ln.isFunction(h.afterResponsive)&&h.afterResponsive.call(A,e),h.responsiveSlides&&b.responsiveSlides&&b.responsiveSlides.toSlides(),A.trigger("afterResponsive",[e]))}function e(e){var n="fp_"+e+"Extension";gn[e]=h[e+"Key"],b[e]=void 0!==Mn[n]?new Mn[n]:null,b[e]&&b[e].c(e)}function Y(e,n,t){var o=100*t,i=100/t;if((n.wrapAll('<div class="'+$n+'" />'),n.parent().wrap('<div class="'+dt+'" />'),e.find(et).css("width",o+"%"),1<t)&&(h.controlArrows&&((o=e).find(Jn).after('<div class="fp-controlArrow fp-prev"></div><div class="fp-controlArrow fp-next"></div>'),"#fff"!=h.controlArrowColor&&(o.find(pt).css("border-color","transparent transparent transparent "+h.controlArrowColor),o.find(it).css("border-color","transparent "+h.controlArrowColor+" transparent transparent")),h.loopHorizontal||o.find(it).hide()),h.slidesNavigation)){var l=t,r=((o=e).append('<div class="'+ft+'"><ul></ul></div>'),o.find(tt));r.addClass(h.slidesNavPosition);for(var a=0;a<l;a++)r.find("ul").append('<li><a href="#"><span></span></a></li>');r.css("margin-left","-"+r.width()/2+"px"),r.find("li").first().find("a").addClass(Wn)}n.each(function(e){Ln(this).css("width",i+"%"),h.verticalCentered&&Fe(Ln(this))});t=e.find(Kn);t.length&&(0!==Ln(qn).index(Yn)||0===Ln(qn).index(Yn)&&0!==t.index())?_e(t,"internal"):n.eq(0).addClass(Wn)}function q(e){return h.offsetSections&&b.offsetSections?b.offsetSections.getWindowHeight(e):T}function U(){Ln(Yn).each(function(){var e=Ln(this).find(_n);e.length?e.each(function(){Pe(Ln(this))}):Pe(Ln(this))}),G()}function G(){var e,n=Ln(qn);n.addClass(Zn),h.scrollOverflowHandler.afterRender&&h.scrollOverflowHandler.afterRender(n),p(n),se(n),h.scrollOverflowHandler.afterLoad(),e=Mn.location.hash.replace("#","").split("/"),(!(e=je(decodeURIComponent(e[0]))).length||e.length&&e.index()===an.index())&&Ln.isFunction(h.afterLoad)&&h.afterLoad.call(n,n.data("anchor"),n.index(Yn)+1),Ln.isFunction(h.afterRender)&&h.afterRender.call(A)}function X(){An||(requestAnimationFrame(Q),An=!0)}function Q(){if(A.trigger("onScroll"),(!h.autoScrolling||h.scrollBar||v("dragAndMove"))&&!nn()){var e,n,t,o,i,l,r,a=v("dragAndMove")?En.abs(b.dragAndMove.getCurrentScroll()):lt.scrollTop(),s=(d=a,Tn=d,0),c=a+lt.height()/2,d=(v("dragAndMove")?b.dragAndMove.getDocumentHeight():w.height()-lt.height())===a,f=On.querySelectorAll(Yn);if(d)s=f.length-1;else if(a)for(var u=0;u<f.length;++u)f[u].offsetTop<=c&&(s=u);else s=0;(d=Ln(f).eq(s)).hasClass(Wn)||(bn=!0,t=(a=Ln(qn)).index(Yn)+1,o=Be(d),i=d.data("anchor"),l=d.index(Yn)+1,(r=d.find(Kn)).length&&(n=r.data("anchor"),e=r.index()),k&&(d.addClass(Wn).siblings().removeClass(Wn),g("parallax","afterLoad"),Ln.isFunction(h.onLeave)&&h.onLeave.call(a,t,l,o),Ln.isFunction(h.afterLoad)&&h.afterLoad.call(d,i,l),h.resetSliders&&b.resetSliders&&b.resetSliders.apply({localIsResizing:I,leavingSection:t}),de(a),p(d),se(d),ze(i,l-1),h.anchors.length&&(x=i),Ye(e,n,i)),clearTimeout(hn),hn=setTimeout(function(){bn=!1},100)),h.fitToSection&&(clearTimeout(pn),pn=setTimeout(function(){h.fitToSection&&_()},h.fitToSectionDelay))}An=!1}function _(){k&&(I=!0,d(Ln(qn)),I=!1)}function K(e,n){var t,o;M.m[e]&&(t="down"===e?"bottom":"top",o="down"===e?r:l,b.scrollHorizontally&&(o=b.scrollHorizontally.getScrollSection(e,o)),0<n.length&&!h.scrollOverflowHandler.isScrolled(t,n)||o())}function J(e){var n=e.originalEvent;!ee(e.target)&&h.autoScrolling&&s(n)&&e.preventDefault()}function $(e){var n=e.originalEvent,t=Ln(n.target).closest(Yn);!ee(e.target)&&s(n)&&(h.autoScrolling&&e.preventDefault(),e=h.scrollOverflowHandler.scrollable(t),n=Qe(n),B=n.y,yn=n.x,t.find(Jn).length&&En.abs(xn-yn)>En.abs(z-B)?!y&&En.abs(xn-yn)>lt.outerWidth()/100*h.touchSensitivity&&(yn<xn?M.m.right&&W(t):M.m.left&&j(t)):h.autoScrolling&&k&&En.abs(z-B)>lt.height()/100*h.touchSensitivity&&(B<z?K("down",e):z<B&&K("up",e)))}function ee(e,n){n=n||0;e=Ln(e).parent();return!!(n<h.normalScrollElementTouchThreshold&&e.is(h.normalScrollElements))||n!=h.normalScrollElementTouchThreshold&&ee(e,++n)}function s(e){return void 0===e.pointerType||"mouse"!=e.pointerType}function ne(e){var e=e.originalEvent;h.fitToSection&&S.stop(),s(e)&&(e=Qe(e),z=e.y,xn=e.x)}function te(e,n){for(var t=0,o=e.slice(En.max(e.length-n,1)),i=0;i<o.length;i++)t+=o[i];return En.ceil(t/n)}function c(e){var n,t,o=(new Date).getTime(),i=Ln(".fp-completely").hasClass("fp-normal-scroll");if(h.autoScrolling&&!rn&&!i)return i=(e=e||Mn.event).wheelDelta||-e.deltaY||-e.detail,n=En.max(-1,En.min(1,i)),t=void 0!==e.wheelDeltaX||void 0!==e.deltaX,t=En.abs(e.wheelDeltaX)<En.abs(e.wheelDelta)||En.abs(e.deltaX)<En.abs(e.deltaY)||!t,149<L.length&&L.shift(),L.push(En.abs(i)),h.scrollBar&&(e.preventDefault?e.preventDefault():e.returnValue=!1),i=Ln(qn),e=h.scrollOverflowHandler.scrollable(i),i=o-Cn,Cn=o,200<i&&(L=[]),k&&!en()&&(o=te(L,10),te(L,70)<=o&&t&&K(n<0?"down":"up",e)),!1;h.fitToSection&&S.stop()}function oe(e,n){n=(void 0===n?Ln(qn):n).find(Jn);if(!(!n.length||en()||y||n.find(_n).length<2)){var t=n.find(Kn),o=null;if(!(o="left"===e?t.prev(_n):t.next(_n)).length){if(!h.loopHorizontal)return;o="left"===e?t.siblings(":last"):t.siblings(":first")}y=!0,f(n,o,e)}}function ie(){Ln(Kn).each(function(){_e(Ln(this),"internal")})}function le(e){var n=e.position(),t=n.top,n=v("dragAndMove")&&b.dragAndMove.isGrabbing?b.dragAndMove.isScrollingDown():n.top>Tn,o=t-T+e.outerHeight(),i=h.bigSectionsDestination;return e.outerHeight()>T?(n||i)&&"bottom"!==i||(t=o):(n||I&&e.is(":last-child"))&&(t=o),h.offsetSections&&b.offsetSections&&(t=b.offsetSections.getSectionPosition(n,t,e)),Tn=t}function d(e,n,t){var o,i,l;void 0===e||!e.length||(n={element:e,callback:n,isMovementUp:t,dtop:le(e),yMovement:Be(e),anchorLink:e.data("anchor"),sectionIndex:e.index(Yn),activeSlide:e.find(Kn),activeSection:Ln(qn),leavingSection:Ln(qn).index(Yn)+1,localIsResizing:I}).activeSection.is(e)&&!I||h.scrollBar&&lt.scrollTop()===n.dtop&&!e.hasClass("fp-auto-height")||(n.activeSlide.length&&(o=n.activeSlide.data("anchor"),i=n.activeSlide.index()),g("parallax","apply",n),h.autoScrolling&&h.continuousVertical&&void 0!==n.isMovementUp&&(!n.isMovementUp&&"up"==n.yMovement||n.isMovementUp&&"down"==n.yMovement)&&((t=n).isMovementUp?t.activeSection.before(t.activeSection.nextAll(Yn)):t.activeSection.after(t.activeSection.prevAll(Yn).get().reverse()),u(Ln(qn).position().top),ie(),t.wrapAroundElements=t.activeSection,t.dtop=t.element.position().top,t.yMovement=Be(t.element),t.leavingSection=t.activeSection.index(Yn)+1,t.sectionIndex=t.element.index(Yn),Ln(zn).trigger("onContinuousVertical",[t]),n=t),Ln.isFunction(h.onLeave)&&!n.localIsResizing&&!1===h.onLeave.call(n.activeSection,n.leavingSection,n.sectionIndex+1,n.yMovement)||(v("scrollOverflowReset")&&b.scrollOverflowReset.setPrevious(n.activeSection),n.localIsResizing||de(n.activeSection),h.scrollOverflowHandler.beforeLeave(),e.addClass(Wn).siblings().removeClass(Wn),p(e),h.scrollOverflowHandler.onLeave(),k=!1,Ye(i,o,n.anchorLink,n.sectionIndex),l=n,h.css3&&h.autoScrolling&&!h.scrollBar?(We("translate3d(0px, -"+En.round(l.dtop)+"px, 0px)",!0),h.scrollingSpeed?(clearTimeout(fn),fn=setTimeout(function(){re(l)},h.scrollingSpeed)):re(l)):(t=function(e){var n={};return h.autoScrolling&&!h.scrollBar?(n.options={top:-e.dtop},n.element=zn):(n.options={scrollTop:e.dtop},n.element="html, body"),n}(l),Ln(t.element).animate(t.options,h.scrollingSpeed,h.easing).promise().done(function(){h.scrollBar?setTimeout(function(){re(l)},30):re(l)})),x=n.anchorLink,ze(n.anchorLink,n.sectionIndex)))}function re(e){var n;(n=e).wrapAroundElements&&n.wrapAroundElements.length&&(n.isMovementUp?Ln(".fp-section:first").before(n.wrapAroundElements):Ln(".fp-section:last").after(n.wrapAroundElements),u(Ln(qn).position().top),ie(),n.sectionIndex=n.element.index(Yn),n.leavingSection=n.activeSection.index(Yn)+1),Ln.isFunction(h.afterLoad)&&!e.localIsResizing&&h.afterLoad.call(e.element,e.anchorLink,e.sectionIndex+1),h.scrollOverflowHandler.afterLoad(),g("parallax","afterLoad"),v("scrollOverflowReset")&&b.scrollOverflowReset.reset(),h.resetSliders&&b.resetSliders&&b.resetSliders.apply(e),e.localIsResizing||se(e.element),e.element.addClass(Zn).siblings().removeClass(Zn),k=!0,Ln.isFunction(e.callback)&&e.callback.call(this)}function ae(e,n){e.attr(n,e.data(n)).removeAttr("data-"+n)}function p(e){var o;h.lazyLoading&&fe(e).find("img[data-src], img[data-srcset], source[data-src], audio[data-src], iframe[data-src]").each(function(){o=Ln(this),Ln.each(["src","srcset"],function(e,n){var t=o.attr("data-"+n);void 0!==t&&t&&ae(o,n)}),o.is("source")&&o.closest("video").get(0).load()})}function se(e){e=fe(e);e.find("video, audio").each(function(){var e=Ln(this).get(0);e.hasAttribute("data-autoplay")&&"function"==typeof e.play&&e.play()}),e.find('iframe[src*="youtube.com/embed/"]').each(function(){var e=Ln(this).get(0);e.hasAttribute("data-autoplay")&&ce(e),e.onload=function(){e.hasAttribute("data-autoplay")&&ce(e)}})}function ce(e){e.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}function de(e){e=fe(e);e.find("video, audio").each(function(){var e=Ln(this).get(0);e.hasAttribute("data-keepplaying")||"function"!=typeof e.pause||e.pause()}),e.find('iframe[src*="youtube.com/embed/"]').each(function(){var e=Ln(this).get(0);/youtube\.com\/embed\//.test(Ln(this).attr("src"))&&!e.hasAttribute("data-keepplaying")&&Ln(this).get(0).contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")})}function fe(e){var n=e.find(Kn);return e=n.length?Ln(n):e}function ue(e){function n(e){var n,t,o,i,l,r,a="",s=0;for(e=e.replace(/[^A-Za-z0-9+\/=]/g,"");s<e.length;)o=v.indexOf(e.charAt(s++)),n=(15&(i=v.indexOf(e.charAt(s++))))<<4|(l=v.indexOf(e.charAt(s++)))>>2,t=(3&l)<<6|(r=v.indexOf(e.charAt(s++))),a+=String.fromCharCode(o<<2|i>>4),64!=l&&(a+=String.fromCharCode(n)),64!=r&&(a+=String.fromCharCode(t));for(var c,d=a,f="",u=0,h=0,p=0;u<d.length;)(h=d.charCodeAt(u))<128?(f+=String.fromCharCode(h),u++):191<h&&h<224?(p=d.charCodeAt(u+1),f+=String.fromCharCode((31&h)<<6|63&p),u+=2):(p=d.charCodeAt(u+1),c=d.charCodeAt(u+2),f+=String.fromCharCode((15&h)<<12|(63&p)<<6|63&c),u+=3);return f}function t(e){return e.slice(3).slice(0,-3)}var o,i,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return e=n(e),1<(i=e.split("_")).length?(o=i[1],e.replace(t(i[1]),"").split("_")[0]+"_"+n(o.slice(3).slice(0,-3))):t(e)}function he(e){var n=function(){if(On.domain.length){for(var e=On.domain.replace(/^(www\.)/,"").split(".");2<e.length;)e.shift();return e.join(".").replace(/(^\.*)|(\.*$)/g,"")}return""}(),t=["localhost","127.0.0.1","jshell.net","UDdDQU5ZNlNN"],o=t[0],i=t[1],l=t[2],t=ue(t[3]),o=[o,i,l].indexOf(n)<0&&0!==n.length,i=void 0!==gn[e]&&gn[e].length;if(i||!o)return i=1<(l=(l=i?ue(gn[e]):"").split("_")).length&&-1<l[1].indexOf(e,l[1].length-e.length),(!(l[0].indexOf(n,l[0].length-n.length)<0)||!o||t==l[0])&&i||!o}function pe(e){var n,t;v(e)&&b[e]&&(n=ue("MTIzPGRpdiBzdHlsZT0iei1pbmRleDo5OTk5OTk5O3Bvc2l0aW9uOmZpeGVkOyB0b3A6IDIwcHg7IGxlZnQ6MjBweDsgYmFja2dyb3VuZDpyZWQ7IHBhZGRpbmc6IDdweCAxNXB4OyBmb250LXNpemU6IDE0cHg7IGZvbnQtZmFtaWx5OiBhcmlhbDsgY29sb3I6ICNmZmY7IGRpc3BsYXk6IGlubGluZS1ibG9jazsiPjxhIGhyZWY9Imh0dHA6Ly9hbHZhcm90cmlnby5jb20vZnVsbFBhZ2UvZXh0ZW5zaW9ucy8iIHN0eWxlPSJjb2xvcjogI2ZmZjsgdGV4dC1kZWNvcmF0aW9uOm5vbmU7Ij5VbmxpY2Vuc2VkIGZ1bGxQYWdlLmpzIEV4dGVuc2lvbjwvYT48L2Rpdj4xMjM="),t=En.random()<.5,he(e)||((e=function(){"9999999"!==(t?w.find("div").first():w.find("div").last()).css("z-index")&&(t?w.prepend(n):w.append(n))})(),setInterval(e,2e3)))}function ve(){var e=Mn.location.hash.replace("#","").split("/"),n=decodeURIComponent(e[0]),e=decodeURIComponent(e[1]);n&&(h.animateAnchor?Ze:V)(n,e)}function ge(){var e,n,t,o;bn||h.lockAnchors||(n=Mn.location.hash.replace("#","").split("/"),e=decodeURIComponent(n[0]),n=decodeURIComponent(n[1]),o=(t=void 0===x)&&void 0===n&&!y,e.length&&(e&&e!==x&&!t||o||!y&&ln!=n)&&Ze(e,n))}function me(t){clearTimeout(vn);var e=Ln(":focus");e.is("textarea")||e.is("input")||e.is("select")||"true"===e.attr("contentEditable")||""===e.attr("contentEditable")||!h.keyboardScrolling||!h.autoScrolling||(e=t.which,-1<Ln.inArray(e,[40,38,32,33,34])&&t.preventDefault(),rn=t.ctrlKey,vn=setTimeout(function(){var e=t,n=e.shiftKey;if(k||!([37,39].indexOf(e.which)<0))switch(e.which){case 38:case 33:M.k.up&&l();break;case 32:if(n&&M.k.up){l();break}case 40:case 34:M.k.down&&r();break;case 36:M.k.up&&a(1);break;case 35:M.k.down&&a(Ln(Yn).length);break;case 37:M.k.left&&j();break;case 39:M.k.right&&W();break;default:;}},150))}function Se(){Ln(this).prev().trigger("click")}function we(e){cn&&(rn=e.ctrlKey)}function be(e){2==e.which&&(In=e.pageY,A.on("mousemove",Ie))}function xe(e){2==e.which&&A.off("mousemove")}function ye(){var e=Ln(this).closest(Yn);Ln(this).hasClass(ht)?M.m.left&&j(e):M.m.right&&W(e)}function Ce(){rn=cn=!1}function Ae(e){e.preventDefault();e=Ln(this).parent().index();d(Ln(Yn).eq(e))}function Te(e){e.preventDefault();var e=Ln(this).closest(Yn).find(Jn),n=e.find(_n).eq(Ln(this).closest("li").index());f(e,n)}function Ie(e){k&&(e.pageY<In&&M.m.up?l():e.pageY>In&&M.m.down&&r()),In=e.pageY}function f(e,n,t){var o=e.closest(Yn),t={slides:e,destiny:n,direction:t,destinyPos:n.position(),slideIndex:n.index(),section:o,sectionIndex:o.index(Yn),anchorLink:o.data("anchor"),slidesNav:o.find(tt),slideAnchor:Ue(n),prevSlide:o.find(Kn),prevSlideIndex:o.find(Kn).index(),localIsResizing:I};return t.xMovement=De(t.prevSlideIndex,t.slideIndex),t.localIsResizing||(k=!1),g("parallax","applyHorizontal",t),h.onSlideLeave&&!t.localIsResizing&&"none"!==t.xMovement&&Ln.isFunction(h.onSlideLeave)&&!1===h.onSlideLeave.call(t.prevSlide,t.anchorLink,t.sectionIndex+1,t.prevSlideIndex,t.xMovement,t.slideIndex)?void(y=!1):(n.addClass(Wn).siblings().removeClass(Wn),t.localIsResizing||(de(t.prevSlide),p(n)),ke(t),o.hasClass(Wn)&&!t.localIsResizing&&Ye(t.slideIndex,t.slideAnchor,t.anchorLink,t.sectionIndex),b.continuousHorizontal&&b.continuousHorizontal.apply(t),nn()?Le(t):Me(e,t,!0),void(h.interlockedSlides&&b.interlockedSlides&&b.interlockedSlides.apply(t)))}function ke(e){!h.loopHorizontal&&h.controlArrows&&(e.section.find(it).toggle(0!==e.slideIndex),e.section.find(pt).toggle(!e.destiny.is(":last-child")))}function Le(e){var n,t;b.continuousHorizontal&&b.continuousHorizontal.afterSlideLoads(e),n=e.slidesNav,t=e.slideIndex,n.find(jn).removeClass(Wn),n.find("li").eq(t).find("a").addClass(Wn),e.localIsResizing||(g("parallax","afterSlideLoads"),Ln.isFunction(h.afterSlideLoad)&&h.afterSlideLoad.call(e.destiny,e.anchorLink,e.sectionIndex+1,e.slideAnchor,e.slideIndex),k=!0,se(e.destiny)),y=!1,b.interlockedSlides&&b.interlockedSlides.apply(e)}function Me(e,n,t){var o,i=n.destinyPos;h.css3?(o="translate3d(-"+En.round(i.left)+"px, 0px, 0px)",Re(e.find(et)).css(Ke(o)),un=setTimeout(function(){t&&Le(n)},h.scrollingSpeed,h.easing)):e.animate({scrollLeft:En.round(i.left)},h.scrollingSpeed,h.easing,function(){t&&Le(n)})}function Oe(){var e;A.trigger("onResize"),Ee(),sn?(e=Ln(On.activeElement)).is("textarea")||e.is("input")||e.is("select")||(e=lt.height(),En.abs(e-kn)>20*En.max(kn,e)/100&&(Z(!0),kn=e)):(clearTimeout(dn),dn=setTimeout(function(){Z(!0)},350))}function Ee(){var e=h.responsive||h.responsiveWidth,n=h.responsiveHeight,t=e&&lt.outerWidth()<e,o=n&&lt.height()<n;e&&n?N(t||o):e?N(t):n&&N(o)}function Re(e){var n="all "+h.scrollingSpeed+"ms "+h.easingcss3;return e.removeClass(Dn),e.css({"-webkit-transition":n,transition:n})}function He(e){return e.addClass(Dn)}function ze(e,n){var t;t=e,h.menu&&(Ln(h.menu).find(jn).removeClass(Wn),Ln(h.menu).find('[data-menuanchor="'+t+'"]').addClass(Wn)),t=e,e=n,h.navigation&&(Ln(Xn).find(jn).removeClass(Wn),(t?Ln(Xn).find('a[href="#'+t+'"]'):Ln(Xn).find("li").eq(e).find("a")).addClass(Wn))}function Be(e){var n=Ln(qn).index(Yn),e=e.index(Yn);return n==e?"none":e<n?"up":"down"}function De(e,n){return e==n?"none":n<e?"left":"right"}function Pe(e){var n,t,o,i,l;e.hasClass("fp-noscroll")||(e.css("overflow","hidden"),o=(t=h.scrollOverflowHandler).wrapContent(),l=e.closest(Yn),(i=t.scrollable(e)).length?n=t.scrollHeight(e):(n=e.get(0).scrollHeight,h.verticalCentered&&(n=e.find(Gn).get(0).scrollHeight)),(l=Ve(l))<n?i.length?t.update(e,l):((h.verticalCentered?e.find(Gn):e).wrapInner(o),t.create(e,l,h.scrollOverflowOptions)):t.remove(e),e.css("overflow",""))}function Fe(e){e.hasClass(nt)||e.addClass(nt).wrapInner('<div class="'+Un+'" style="height:'+Ve(e)+'px;" />')}function Ve(e){var n,t=q(e);return(h.paddingTop||h.paddingBottom)&&((n=e).hasClass(Nn)||(n=e.closest(Yn)),e=parseInt(n.css("padding-top"))+parseInt(n.css("padding-bottom")),t=T-e),t}function We(e,n){(n?Re:He)(A),A.css(Ke(e)),setTimeout(function(){A.removeClass(Dn)},10)}function je(e){var n;return e?(n=A.find(Yn+'[data-anchor="'+e+'"]')).length?n:Ln(Yn).eq(e-1):[]}function Ze(e,n){var t=je(e);t.length&&(void 0===n&&(n=0),e===x||t.hasClass(Wn)?Ne(t,n):d(t,function(){Ne(t,n)}))}function Ne(e,n){var t,o;void 0!==n&&(t=e.find(Jn),n=n,(e=o=(o=(e=(e=e).find(Jn)).find(_n+'[data-anchor="'+n+'"]')).length?o:e.find(_n).eq(n)).length&&f(t,e))}function Ye(e,n,t){var o="";h.anchors.length&&!h.lockAnchors&&(e?qe((o=void 0!==t?t:o)+"/"+(ln=n=void 0===n?e:n)):(void 0!==e&&(ln=n),qe(t))),Ge()}function qe(e){var n;h.recordHistory?location.hash=e:sn||C?Mn.history.replaceState(Rn,Rn,"#"+e):(n=Mn.location.href.split("#")[0],Mn.location.replace(n+"#"+e))}function Ue(e){var n=e.data("anchor"),e=e.index();return n=void 0===n?e:n}function Ge(){var e=Ln(qn),n=e.find(Kn),e=Ue(e),t=Ue(n),e=String(e),n=(e=(e=n.length?e+"-"+t:e).replace("/","-").replace("#",""),new RegExp("\\b\\s?"+Vn+"-[^\\s]+\\b","g"));w[0].className=w[0].className.replace(n,""),w.addClass(Vn+"-"+e)}function Xe(){return Mn.PointerEvent?{down:"pointerdown",move:"pointermove"}:{down:"MSPointerDown",move:"MSPointerMove"}}function Qe(e){var n=[];return n.y=(void 0!==e.pageY&&(e.pageY||e.pageX)?e:e.touches[0]).pageY,n.x=(void 0!==e.pageX&&(e.pageY||e.pageX)?e:e.touches[0]).pageX,C&&s(e)&&h.scrollBar&&(n.y=e.touches[0].pageY,n.x=e.touches[0].pageX),n}function _e(e,n){o(0,"internal"),void 0!==n&&(I=!0),f(e.closest(Jn),e),void 0!==n&&(I=!1),o(R.scrollingSpeed,"internal")}function u(e){e=En.round(e);h.css3&&h.autoScrolling&&!h.scrollBar?We("translate3d(0px, -"+e+"px, 0px)",!1):h.autoScrolling&&!h.scrollBar?A.css("top",-e):S.scrollTop(e)}function Ke(e){return{"-webkit-transform":e,"-moz-transform":e,"-ms-transform":e,transform:e}}function Je(e,n,t){switch(n){case"up":M[t].up=e;break;case"down":M[t].down=e;break;case"left":M[t].left=e;break;case"right":M[t].right=e;break;case"all":("m"==t?i:F)(e)}}function $e(e){e.css({"-webkit-transition":"none",transition:"none"})}function v(e){return null!==h[e]&&"object"==typeof h[e]?h[e].enabled&&b[e]:h[e]&&b[e]}function g(e,n,t){t=Array.isArray(t)?t.join(", "):t;v(e)&&b[e][n](t)}function en(){return v("dragAndMove")&&b.dragAndMove.isAnimating}function nn(){return v("dragAndMove")&&b.dragAndMove.isGrabbing}function tn(e,n,t){h[e]=n,"internal"!==t&&(R[e]=n)}function on(){return Ln("html").hasClass(Fn)?void m("error","Fullpage.js can only be initialized once and you are doing it multiple times!"):(h.continuousVertical&&(h.loopTop||h.loopBottom)&&(h.continuousVertical=!1,m("warn","Option `loopTop/loopBottom` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled")),h.scrollBar&&h.scrollOverflow&&m("warn","Option `scrollBar` is mutually exclusive with `scrollOverflow`. Sections with scrollOverflow might not work well in Firefox"),!h.continuousVertical||!h.scrollBar&&h.autoScrolling||(h.continuousVertical=!1,m("warn","Scroll bars (`scrollBar:true` or `autoScrolling:false`) are mutually exclusive with `continuousVertical`; `continuousVertical` disabled")),void Ln.each(h.anchors,function(e,n){var t=rt.find("[name]").filter(function(){return Ln(this).attr("name")&&Ln(this).attr("name").toLowerCase()==n.toLowerCase()}),o=rt.find("[id]").filter(function(){return Ln(this).attr("id")&&Ln(this).attr("id").toLowerCase()==n.toLowerCase()});(o.length||t.length)&&(m("error","data-anchor tags can not have the same value as any `id` element on the site (or `name` element for IE)."),o.length&&m("error",'"'+n+'" is is being used by another element `id` property'),t.length&&m("error",'"'+n+'" is is being used by another element `name` property'))}))}function m(e,n){console&&console[e]&&console[e]("fullPage: "+n)}if(Ln("html").hasClass(Fn))on();else{var S=Ln("html, body"),w=Ln("body"),b=Ln.fn.fullpage;h=Ln.extend(!0,{menu:!1,anchors:[],lockAnchors:!1,navigation:!1,navigationPosition:"right",navigationTooltips:[],showActiveTooltip:!1,slidesNavigation:!1,slidesNavPosition:"bottom",scrollBar:!1,hybrid:!1,css3:!0,scrollingSpeed:700,autoScrolling:!0,fitToSection:!0,fitToSectionDelay:1e3,easing:"easeInOutCubic",easingcss3:"ease",loopBottom:!1,loopTop:!1,loopHorizontal:!0,continuousVertical:!1,continuousHorizontal:!1,scrollHorizontally:!1,interlockedSlides:!1,dragAndMove:!1,offsetSections:!1,resetSliders:!1,fadingEffect:!1,normalScrollElements:null,scrollOverflow:!1,scrollOverflowReset:!1,scrollOverflowHandler:at,scrollOverflowOptions:null,touchSensitivity:5,normalScrollElementTouchThreshold:5,bigSectionsDestination:null,keyboardScrolling:!0,animateAnchor:!0,recordHistory:!0,controlArrows:!0,controlArrowColor:"#fff",verticalCentered:!0,sectionsColor:[],paddingTop:0,paddingBottom:0,fixedElements:null,responsive:0,responsiveWidth:0,responsiveHeight:0,responsiveSlides:!1,parallax:!1,parallaxOptions:{type:"reveal",percentage:62,property:"translate"},sectionSelector:".section",slideSelector:".slide",afterLoad:null,onLeave:null,afterRender:null,afterResize:null,afterReBuild:null,afterSlideLoad:null,onSlideLeave:null,afterResponsive:null,lazyLoading:!0},h);var x,ln,rn,an,y=!1,sn=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),C="ontouchstart"in Mn||0<navigator.msMaxTouchPoints||navigator.maxTouchPoints,A=Ln(this),T=lt.height(),I=!1,cn=!0,k=!0,L=[],M={m:{up:!0,down:!0,left:!0,right:!0}};M.k=Ln.extend(!0,{},M.m);var dn,fn,un,hn,pn,vn,O=Xe(),E={touchmove:"ontouchmove"in Mn?"touchmove":O.move,touchstart:"ontouchstart"in Mn?"touchstart":O.down},R=Ln.extend(!0,{},h),gn={};if(on(),vt.click=C,h.scrollOverflowOptions=Ln.extend(vt,h.scrollOverflowOptions),Ln.extend(Ln.easing,{easeInOutCubic:function(e,n,t,o,i){return(n/=i/2)<1?o/2*n*n*n+t:o/2*((n-=2)*n*n+2)+t}}),Ln(this).length){b.setAutoScrolling=t,b.setRecordHistory=D,b.setScrollingSpeed=o,b.setFitToSection=P,b.setLockAnchors=function(e){h.lockAnchors=e},b.setMouseWheelScrolling=n,b.setAllowScrolling=i,b.setKeyboardScrolling=F,b.moveSectionUp=l,b.moveSectionDown=r,b.silentMoveTo=V,b.moveTo=a,b.moveSlideRight=W,b.moveSlideLeft=j,b.fitToSection=_,b.reBuild=Z,b.setResponsive=N,b.getFullpageData=function(){return{options:h,internals:{canScroll:k,isScrollAllowed:M,getDestinationPosition:le,isTouch:C,c:pe,getXmovement:De,removeAnimation:He,getTransforms:Ke,lazyLoad:p,addAnimation:Re,performHorizontalMove:Me,landscapeScroll:f,silentLandscapeScroll:_e,keepSlidesPosition:ie,silentScroll:u,styleSlides:Y,scrollHandler:X,getEventsPage:Qe,getMSPointer:Xe,isReallyTouch:s,checkParentForNormalScrollElement:ee,usingExtension:v,toggleControlArrows:ke}}},b.destroy=function(e){A.trigger("destroy",[e]),t(!1,"internal"),i(!1),F(!1),A.addClass(Pn),clearTimeout(un),clearTimeout(fn),clearTimeout(dn),clearTimeout(hn),clearTimeout(pn),lt.off("scroll",X).off("hashchange",ge).off("resize",Oe),rt.off("click touchstart",Xn+" a").off("mouseenter",Xn+" li").off("mouseleave",Xn+" li").off("click touchstart",ut).off("mouseover",h.normalScrollElements).off("mouseout",h.normalScrollElements),Ln(Yn).off("click touchstart",ot),v("dragAndMove")&&b.dragAndMove.destroy(),clearTimeout(un),clearTimeout(fn),e&&(u(0),A.find("img[data-src], source[data-src], audio[data-src], iframe[data-src]").each(function(){ae(Ln(this),"src")}),A.find("img[data-srcset]").each(function(){ae(Ln(this),"srcset")}),Ln(Xn+", "+tt+", "+ot).remove(),Ln(Yn).css({height:"","background-color":"",padding:""}),Ln(_n).css({width:""}),A.css({height:"",position:"","-ms-touch-action":"","touch-action":""}),S.css({overflow:"",height:""}),Ln("html").removeClass(Fn),w.removeClass(Bn),Ln.each(w.get(0).className.split(/\s+/),function(e,n){0===n.indexOf(Vn)&&w.removeClass(n)}),Ln(Yn+", "+_n).each(function(){h.scrollOverflowHandler.remove(Ln(this)),Ln(this).removeClass(nt+" "+Wn)}),$e(A),A.find(Gn+", "+et+", "+Jn).each(function(){Ln(this).replaceWith(this.childNodes)}),S.scrollTop(0),e=[Nn,Qn,$n],Ln.each(e,function(e,n){Ln("."+n).removeClass(n)}))},b.landscapeScroll=f,e("continuousHorizontal"),e("scrollHorizontally"),e("resetSliders"),e("interlockedSlides"),e("responsiveSlides"),e("fadingEffect"),e("dragAndMove"),e("offsetSections"),e("scrollOverflowReset"),e("parallax"),v("dragAndMove")&&b.dragAndMove.init();{if(h.css3&&(h.css3=function(){var e,n,t=On.createElement("p"),o={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(n in On.body.insertBefore(t,null),o)t.style[n]!==Rn&&(t.style[n]="translate3d(1px,1px,1px)",e=Mn.getComputedStyle(t).getPropertyValue(o[n]));return On.body.removeChild(t),e!==Rn&&0<e.length&&"none"!==e}()),h.scrollBar=h.scrollBar||h.hybrid,O=A.find(h.sectionSelector),h.anchors.length||(h.anchors=O.filter("[data-anchor]").map(function(){return Ln(this).data("anchor").toString()}).get()),h.navigationTooltips.length||(h.navigationTooltips=O.filter("[data-tooltip]").map(function(){return Ln(this).data("tooltip").toString()}).get()),A.css({height:"100%",position:"relative"}),A.addClass(Hn),Ln("html").addClass(Fn),T=lt.height(),A.removeClass(Pn),A.find(h.sectionSelector).addClass(Nn),A.find(h.slideSelector).addClass(Qn),g("parallax","init"),Ln(Yn).each(function(e){var n,t,o=Ln(this),i=o.find(_n),l=i.length;n=o,(t=e)||0!==Ln(qn).length||n.addClass(Wn),an=Ln(qn),n.css("height",q(n)+"px"),h.paddingTop&&n.css("padding-top",h.paddingTop),h.paddingBottom&&n.css("padding-bottom",h.paddingBottom),void 0!==h.sectionsColor[t]&&n.css("background-color",h.sectionsColor[t]),void 0!==h.anchors[t]&&n.attr("data-anchor",h.anchors[t]),n=o,t=e,void 0!==h.anchors[t]&&n.hasClass(Wn)&&ze(h.anchors[t],t),h.menu&&h.css3&&Ln(h.menu).closest(zn).length&&Ln(h.menu).appendTo(w),0<l?Y(o,i,l):h.verticalCentered&&Fe(o)}),h.fixedElements&&h.css3&&Ln(h.fixedElements).appendTo(w),h.navigation){w.append('<div id="'+st+'"><ul></ul></div>');var mn=Ln(Xn);mn.addClass(function(){return h.showActiveTooltip?"fp-show-active "+h.navigationPosition:h.navigationPosition});for(var Sn=0;Sn<Ln(Yn).length;Sn++){var H="",H='<li><a href="#'+(H=h.anchors.length?h.anchors[Sn]:H)+'"><span></span></a>',wn=h.navigationTooltips[Sn];void 0!==wn&&""!==wn&&(H+='<div class="'+ct+" "+h.navigationPosition+'">'+wn+"</div>"),H+="</li>",mn.find("ul").append(H)}Ln(Xn).css("margin-top","-"+Ln(Xn).height()/2+"px"),Ln(Xn).find("li").eq(Ln(qn).index(Yn)).find("a").addClass(Wn)}A.find('iframe[src*="youtube.com/embed/"]').each(function(){var e,n,t;e=Ln(this),n="enablejsapi=1",t=e.attr("src"),e.attr("src",t+function(e){return/\?/.test(e)?"&":"?"}(t)+n)}),h.fadingEffect&&b.fadingEffect&&b.fadingEffect.apply(),h.scrollOverflow?("complete"===On.readyState&&U(),lt.on("load",U)):G(),i(!0),t(h.autoScrolling,"internal"),Ee(),Ge(),"complete"===On.readyState&&ve(),lt.on("load",ve)}lt.on("scroll",X).on("hashchange",ge).blur(Ce).resize(Oe),rt.keydown(me).keyup(we).on("click touchstart",Xn+" a",Ae).on("click touchstart",ut,Te).on("click",".fp-tooltip",Se),Ln(Yn).on("click touchstart",ot,ye),h.normalScrollElements&&(rt.on("mouseenter",h.normalScrollElements,function(){n(!1)}),rt.on("mouseleave",h.normalScrollElements,function(){n(!0)})),v("dragAndMove")&&b.dragAndMove.turnOffTouch()}var bn=!1,z=0,xn=0,B=0,yn=0,Cn=(O=Mn.requestAnimationFrame||Mn.mozRequestAnimationFrame||Mn.webkitRequestAnimationFrame||Mn.msRequestAnimationFrame,Mn.requestAnimationFrame=O,(new Date).getTime()),An=!1,Tn=0,In=0,kn=T}},"undefined"!=typeof IScroll&&(IScroll.prototype.wheelOn=function(){this.wrapper.addEventListener("wheel",this),this.wrapper.addEventListener("mousewheel",this),this.wrapper.addEventListener("DOMMouseScroll",this)},IScroll.prototype.wheelOff=function(){this.wrapper.removeEventListener("wheel",this),this.wrapper.removeEventListener("mousewheel",this),this.wrapper.removeEventListener("DOMMouseScroll",this)}),{refreshId:null,iScrollInstances:[],toggleWheel:function(n){Ln(qn).find(o).each(function(){var e=Ln(this).data("iscrollInstance");void 0!==e&&e&&(n?e.wheelOn():e.wheelOff())})},onLeave:function(){at.toggleWheel(!1)},beforeLeave:function(){at.onLeave()},afterLoad:function(){at.toggleWheel(!0)},create:function(e,n,t){e=e.find(o);e.height(n),e.each(function(){var e=Ln(this),n=e.data("iscrollInstance");n&&Ln.each(at.iScrollInstances,function(){Ln(this).destroy()}),(n=new IScroll(e.get(0),t)).on("scrollEnd",function(){this.fp_isAtTop=-30<this.y,this.fp_isAtEnd=this.y-this.maxScrollY<30}),at.iScrollInstances.push(n),n.wheelOff(),e.data("iscrollInstance",n)})},isScrolled:function(e,n){var t=n.data("iscrollInstance");return!t||("top"===e?0<=t.y&&!n.scrollTop():"bottom"===e?0-t.y+n.scrollTop()+1+n.innerHeight()>=n[0].scrollHeight:void 0)},scrollable:function(e){return(e.find(Jn).length?e.find(Kn):e).find(o)},scrollHeight:function(e){return e.find(o).children().first().get(0).scrollHeight},remove:function(e){var n,t=e.find(o);t.length&&((n=t.data("iscrollInstance"))&&n.destroy(),t.data("iscrollInstance",null)),e.find(o).children().first().children().first().unwrap().unwrap()},update:function(e,n){clearTimeout(at.refreshId),at.refreshId=setTimeout(function(){Ln.each(at.iScrollInstances,function(){Ln(this).get(0).refresh()})},150),e.find(o).css("height",n+"px").parent().css("height",n+"px")},wrapContent:function(){return'<div class="'+e+'"><div class="fp-scroller"></div></div>'}})});